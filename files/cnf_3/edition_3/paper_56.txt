2009 13th International Conference Information Visualisation

Treemaps and Choropleth Maps Applied to Regional Hierarchical Statistical Data
Mikael Jern, Jakob Rogstadius, Tobias Åström
NCVA – National Center for Visual Analytics, Linkoping University, Sweden
mikael.jern@itn.liu.se, jakob.rogstadius@gmail.com, tobias.astrom@itn.liu.se

Keywords--- Information visualization, treemap,
choropleth map, linked views, demographics data

groups and to discuss strengths and weaknesses of
this method of representation.
 Choropleth map only – to discuss strengths and
weaknesses of this method of representation and to
make comparisons with the treemap.
 Combined treemap and choropleth map applied in a
dynamically linked views environment – to
illustrate how the two methods counter each other’s
main weaknesses when used together.
The main contribution of our paper is an informal
evaluation with domain experts and the authors’ informal
reflections that a treemap representation could be a valid
visual exploration and communication method for
analyzing large hierarchical social science data. We also
suggest that benefits can be gained by dynamically
linking a choropleth map view with a treemap when
searching for patterns and structure in the data. The
paper is organized as follows: Related work is described
below followed by an overview of the hierarchical
regional OECD dataset in Section 3. Sections 4–6
describe the three application scenarios and their
assessment. In the last section a longer analytical
reasoning is given based on informal user evaluation and
the authors’ own conclusions.

1. Introduction

2. Related work

Massive volumes of geospatial statistical data are
today generated all over the world but not used as
effectively as one would wish for [16]. Too little focus
has been given to making advanced Geovisual Analytics
technologies practical and accessible to statisticians. This
paper reflects a challenging applied research task to
stimulate, at global level, an exchange of best practices
through Geovisual Analytics [18]. Tools are introduced
that help establish progress initiatives at international and
sub-national levels aimed at measuring economic, social
and environmental developments. In this article we
demonstrate and reflect upon the synergy between the
treemap and the choropleth map. We illustrate the
concept by visualizing hierarchical high resolution
population data from OECD, with three usage scenarios:
 Treemap only - to explore a large hierarchical
dataset containing population data in different age

Hierarchical data is often visualized as data dense
treemap layouts [1], [2], which fill the screen efficiently
without empty space between data items. Rectangles are
created in a visual order that matches the input to a
treemap algorithm [3], [4], where dense layouts
recursively subdivide space at each level in a hierarchy
and child nodes are placed inside their parents. Each data
item is considered to be a node and can have labels and
statistical attributes encoded as relative object size or
colour. Treemaps provide spatial area for nodes under
the same parent and visually emphasize the sizes of, in
our application, “population” at all levels in the regional
statistical data hierarchy. This is not difficult to program,
can run fast and is easy to perceive and compare visually.
Shneiderman and Plaisant [6] give an excellent
historical overview of the evolution and commercial
success of treemaps. Geospatial hierarchical data applied
in treemaps and grouped by space was first used by

Abstract
An emerging and challenging Geovisual Analytics
application domain is visualization of hierarchical
regional (sub-national) statistics. The OECD regional
database is a potential treasure chest for policy-makers,
researchers and citizens to gain a better understanding
of a region’s structure and performance and to carry out
analysis of territorial trends and disparities based on
sound information comparable across countries. New
methods are needed to visually make comparisons
between groups on different hierarchical levels, such as
cities with countries or parts of countries. In this context,
we demonstrate and reflect upon the potential synergy
between information and geovisualization through the
use of a squarified treemap dynamically linked to a
choropleth map to facilitate visualization of complex
hierarchical social science data. We exemplify and
evaluate our approach with three usage scenarios that
explore population change in the OECD countries using
1) squarified treemap, 2) regional choropleth map and 3)
combined treemap and choropleth map.

978-0-7695-3733-7/09 $25.00 © 2009 IEEE
DOI 10.1109/IV.2009.97

403

Smartmoney [7] and later by Panopticon [8]. A related
spatial treemap approach was recently introduced by
Slingsby, Dykes and Wood [9], [10]. They consider
variable combinations as a hierarchy and use treemaps
for a large dataset and demonstrate links between
treemap and maps. Little published research, however,
has so far been made to use a combination of treemaps
and maps to explore multilevel hierarchical geographical
data.

Our approach demonstrates and reasons about the
benefits of a single or combined choropleth map and
treemap. We explore raw and aggregated social science
regional data at several hierarchical levels aiming to
discover statistical patterns that relate to significant
characteristics of regions under study.

Figure 1: A squarified treemap ordered by population size and NUTS1 regions, dynamically linked to a choropleth map, both coloured
by the ratio of the population that is older than 65 years, and applied on a limited (Italy) OECD regional hierarchical dataset. The spatial
hierarchical data structure is based on 5 levels: continent, country, NUTS1, NUTS2 and NUTS3.

We are interested in finding answers about what
methods and tasks are important when exploring
demographical hierarchical data, such as general
overview, trends over time, geographical patterns,
indicator correlation, outliers and simultaneously
mapping two dependent indicators such as age group and
total population. For example, for a choropleth map
screen space is always allocated depending on
geographical area rather than an indicator of interest?
Can the treemap compensate this weakness and are its
known strengths and weaknesses applicable to the
demographics data domain? A well-known approach for
showing regional statistical data is the cartogram [14],
which distorts a map by resizing its regions according to,
for example, population density or total population. We
evaluated this method for OECD regional data but the
domain experts could not recognize the many small
regions and found it almost impossible to tell which of
two regions of similar size but different shape is the
largest, or by how much the size differs.
Many papers [11], [12], [13] describe a combination
of choropleth map, scatter plot, parallel coordinates plot
and heatmap etc. These papers do, however, not address
the need for access to regional datasets on all hierarchical
levels, to for example make comparisons between groups
on different hierarchical levels, such as cities with
countries or parts of countries.

3. Dataset
OECD countries have experienced a growing interest in
regional development [15]. The performance of regional
economies and the effectiveness of regional policy help
determine a nation’s growth and shape the measure of
well-being across countries. The OECD Regional
database [16] provides statistical information at subnational level for all the OECD member countries. It
contains yearly time-series for around 50 indicators on
demography, economy and labour market opportunities,
environment, social issues and innovation related
activities for more than 1,700 regions of the OECD
countries. Data is organized in a five-level hierarchical
structure – continent, country, Territorial Level 1 (TL1),
TL2 and TL3 or European corresponding NUTS(1,2,3)
regions. These levels are illustrated in Figure 1. For this
usage scenario, each region contains information about
population 2002-2007, for each year and separated by the
age groups 0-14, 15-64 and 65+. The population values
also let us calculate the average population over time,
average yearly population change in percent (the average
yearly percentage increase or decrease is calculated using
regression analysis to fit an exponential curve to the
population measurements for each year) and the
percentage of the population that falls into each age
group.

404

We also see that the number of children is
decreasing overall in the OECD member countries and
that the number of elderly people is increasing. Turkey,
Poland, Germany and Korea are seeing dramatic
decreases in child populations with numbers in parts of
Turkey decreasing by up to eight percent per year. Note
however that there are very large differences between
different regions in Turkey, which we will return to in
the next section. Just like the young population is
decreasing, Turkey, Korea, Mexico, Japan, Germany and
many other European countries face equally dramatic
increases in elderly populations, again with Turkey
taking the lead with yearly increases of up to 14%.
A few regions show values that drastically differ
from all other regions within the same country. This
might indicate changes in regional borders, errors in the
data or important local events. The latter is likely the
case for New Orleans where the hurricane Katrina forced
a large part of the population to move out in August
2005. If we look closely, we can even see that New
Orleans’ population decrease is much larger for children
than for senior citizens.
Last but not least, the treemap representation makes
it very obvious just how small many of the European
countries are population wise. In fact, half of these
countries have smaller populations than the largest
American, Japanese, Turkish and Korean city regions.
The use of map borders for the treemap structure does
however also mean that political decisions on how to
draw those borders affects our interpretation of the data.
An example of this is that Paris is shown as having
roughly the same population as Stockholm, while in
reality the urban populations of the two cities have a
ratio of around 8:1.

4. Treemap Displaying Population Change
Our first usage scenario, figure 3, presents a treemap
built on the full OECD regional dataset, using the
hierarchy Age Group, Continent, Country, TL1, TL2,
Region Name. The size of each cell represents the
average population of each region during the 2002-2007
periods and the colour represents the population change
per year in percent. Below the treemap is a colour legend
with an overlaid histogram showing the population
change distribution. To highlight highs and lows without
making the representation overly sensitive to outliers, the
colours are scaled to match this distribution using the 1st,
10th, 90th and 99th percentiles and with gray centred at
zero (no change). Red tones represent a growing
population and blue tones represent a shrinking
population.
The top half of the treemap displays values for the
total population, while the bottom half is split into the
age groups 0-14, 15-64 and 65+. This means that Japan
for instance shows up four times; once with its total
population displayed in the top half and three times in
the bottom half, where it is split into the three age
groups. Japan’s total cell area is the same in the bottom
and top half. Note that a region’s rate of change for a
specific age group corresponds to the size of that age
group only, not to its fraction of the region’s total
population.
The software used to create figure 2 lets the user
interact by selecting different regions in the treemap to
compare their exact values in a tabular view. The user
can also drill down in the data by choosing to render only
a specific branch of the tree, for instance ages 0-14,
Europe, Germany. This is done by double clicking on a
group in the plot, which then allocates the entire screen
area to that branch so that smaller items can be
identified.

5. Subset of Data in Choropleth Map
For reference we have included a subset of the data
from figure 2 visualized using standard choropleth maps.
Figure 3 shows the yearly population change for the
regions in the European OECD member countries, for
each age group.
It is safe to say that the geographical representation
is more intuitive for most people to interpret than the
treemap is. The geographical patterns that were lost in
the treemap also show up, with Turkey having very large
increases in the number of senior citizens mainly in the
south-eastern (Kurdish) regions. The maps also show
that the number of children in Italy is decreasing in the
south and increasing in the north.
However, this perceived clarity does come at a cost.
The maps only visualize one indicator of interest
(population change) and all information about absolute
population size is lost. This for instance makes it easy to
draw the false conclusion that the total population of
Turkey is decreasing, as there is more blue than red on
the map. In reality, Turkey experiences a slight yearly
population increase. The treemap visualization in figure
4 does not suffer from the same problem and we can see

4.1. What can be seen?
We see from the size of the European group (top left
quarter of the treemap in figure 2) that the population of
the European OECD member countries together is
slightly larger than that of North America. We also see
that while there are slightly more children (people aged
0-14) in North America than in Europe and far less in
Japan, Europe has more elderly people (ages 65+) than
North America and Japan together. Japan also has around
70% as many elderly people as the USA, despite that its
total population is less than half the size.
Turning our attention to the colour of the cells in the
top half of the treemap (the total population), we see far
more red tones than blue. This indicates that the OECD
population as a whole is generally increasing, which is
correct. Such a conclusion can be drawn in a treemap
where colour is mapped to the rate of change in size of
each cell, but would be impossible to draw in a
choropleth map where the size instead represents the
physical area of each region.
405

that Istanbul (a very small region on the map) is
inhabited by a very large (and growing) part of the total
Turkish population.

(and in the case of densely populated capital regions
often does) account for almost the entire change.
Our first informal usability tests with domain
experts resulted in both positive and negative results but
encouraging qualitative feedback. We summarize below
some comments based on informal discussion and
evaluation between domain experts and authors:
 It is easier to generate hypotheses from a choropleth
map than from a treemap, but hypotheses generated
from a treemap may hold more value.
 The treemap is difficult to interpret, but even more
difficult to misinterpret. Once a pattern has been
found it is very rarely later dismissed as incorrect.
 The choropleth map is easy both to interpret and to
misinterpret, as many conclusions fail to take into
account that indicator values for different regions
may not correlate with region size.
 Colour and area that dominate the treemap are
fairly vague value mappings. This means that the
treemap can give an overview and be hypothesis
generating, but that other methods which give the
user access to more precise comparisons are
required for validation.
 The treemap is a rather complex visual
representation that requires the user to focus
intensely on it to be able to fully draw conclusions.
This should be taken into consideration when
combining it with other views, as there is a risk for
information overload. Our experiences show that
users have a tendency to look at the views that are
easier to understand and draw conclusions from
there, instead of trying to interpret the treemap.
 Although the treemap-choropleth map combination
may lack the strong visual impact that often
characterizes a cartogram, we argue that it gives a
truer image of the visualized data and that it is
therefore far more suitable for demographical
analytical situations.
 All hypothesis evaluation related to social science
data requires a strong understanding of the
underlying factors that govern the measured
indicators, but the evaluation process can efficiently
be supported by a combination of these examples
and other methods that let the analyst access the
values directly.
 Statistical social science data collected per region
benefits strongly from the alternative viewpoint
provided by the treemap representation. Regions of
high interest tend to be characterized by high
population density; or a large population (or
otherwise large absolute indicator values) and a
small geographical size. Such characteristics are
allocated more screen space in a treemap, unlike a
choropleth map where the relation is inversed and
population dense regions tend to be very small.

6. Treemap and Choropleth Map Together
Our last usage scenario, figure 4, shows the young
population of the European OECD member countries
visualized using a combination of a choropleth map and
a treemap. Colour in this figure, which again is mapped
using the 1st, 10th, 50h, 90th and 99th percentiles,
represents the percentage of the total population that falls
into the 0-14 age group. In other words, red areas have a
high ratio of children and blue areas have a low ratio.
Cell size in the treemap represents the total number of
people in each region.
Four extreme clusters of regions immediately stand
out in the choropleth map. Again, south-eastern Turkey
is one of them, with children in some parts making up
almost half the population1. On the opposite end of the
distribution, with ratios down to nine percent, lie former
East Germany, north-eastern Spain and northern Italy.
The additional information provided by the treemap
that the choropleth map lacks is all based on the
introduction of a second indicator; in this case the size of
each region’s population. For instance, it becomes
apparent that despite that Sweden is the third largest of
the included countries measured in physical area, it only
has a population of nine million – less than Turkey’s
Istanbul region alone. It is also possible to see that while
Germany and Turkey currently have almost identical
total population numbers, Turkey has far more children.
Over the next few decades Turkey is therefore likely to
overtake Germany as the European OECD member
country with the highest population.

7. Conclusions
We have with three usage scenarios shown that the
treemap is a valid visualization method for hierarchical
demographics data and that many benefits are gained
when linking a choropleth map view with a treemap.
Domain experts who have analyzed this data use the
choropleth map’s geographical representation to draw
conclusions that take into account political and historical
events that may have caused the current trends.
At the same time, the treemap offers an alternative
way of simultaneously viewing the same data,
independent of geography. In this view it is much easier
to compare groups of regions, even on different
hierarchical levels. This is true in particular when
mapping cell size to an absolute number and colour to
the rate of change of the same indicator, as an average
rate of change can be estimated based on the average
colour of the group. Doing this in a choropleth map can
lead to highly incorrect conclusions, as a tiny region may

We have reached the conclusion based on our own
reasoning together with domain experts’ evaluation that

1

Less than four percent of the population is above 65
years of age in many of the same regions.
406

Cartography and Geographic Information Science, Vol. 32,
No. 2, 2005, pp 113-132.
[12] D. Guo, J. Chen, A.M. MacEachren, K. Liao “A
visualization system for space-time and multivariate
patterns (VIS-STAMP),” IEEE Visualization and Computer
Graphics, Vol 12, No 6, 2006.
[13] G. Andrienko, N. Andrienko, R. Fischer, V. Mues, and A.
Schuck. “The parallel coordinate plot in action: design and
use for geographic visualization.” International Journal of
Geographical Information Science, 20(10) :1149–1171,
November 2006.
[14] D. Keim, S. North, C. Panse .CartoDraw: a fast algorithm
for generating contiguous cartograms
Visualization and Computer Graphics, IEEE Transactions
on Volume 10, Issue 1, Jan.-Feb. 2004 Page(s):95 - 110[
[15] http://www.oecd.org/GOV/regionaldevelopment
[16] OECD Regional database
http://stats.oecd.org/WBOS/index.aspx
[17] OECD Regions at a glance: 2009 edition
[18] http://www.oecd.org/document/7/0,3343,en_40033426_40037
426_40037831_1_1_1_1,00.html

for a combined treemap and choropleth map approach
the analyst is able to:
 Easily see geographical patterns and clusters,
including ones that span national borders.
 Make far more accurate estimates of the average
values for groups of regions, than if a choropleth
map had been used alone.
 In a single view compare individual regions and
groups of regions with each other on different
hierarchical levels.
 Focus the attention to regions of interest, even
when they are geographically very small.
Our next step is to conduct a more controlled evaluation
within our engagement in the Global Project on
"Measuring the Progress of Societies" [18], which seeks
to become the world wide reference point for those who
wish to assess the progress of their societies.

Acknowledgement
This applied research case study was carried out by
National Center for Visual Analytics (NCVA), ITN,
Linkoping University, in close collaboration with OECD
which supplied data and domain expertise. The research
is in part funded by the “Visualization Program”
coordinated by the Swedish Knowledge Foundation.

References
[1] B. Shneiderman. Tree visualization with tree-maps: a 2d
space-filling approach. ACMTransactionson Graphics,
11(1):92–99, September 1992.
[2] B. Johnson and B. Shneiderman. Treemaps: a space-filling
approach to the visualization of hierarchical information
structures. In Proc. of the 2nd International IEEE
Visualization Conference, pages 284–291, October 1991.
[3] Schiederman B. Tree visualization with tree-maps: a 2d
space-filling approach. ACM Transactions on Graphics
1992; 11(1): 92-99.
[4] B. Bederson, B. Shneiderman, and M.Wattenberg. Ordered
and quantum treemaps: Making effective use of 2d space to
display hierarchies.ACM Trans. Graph., 21(4):833–854,
2002.
[5] M. Bruls, K. Huizing, and J. J. Van Wijk. Squarified
treemaps. In Proceedings of the Joint Eurographics and
IEEE TCVG Symposium on Visualization, 2000.
[6] B. Shneiderman and C. Plaisant. Treemaps for spaceconstrained visualization of hierarchies, 2008.
http://www.cs.umd.edu/hcil/treemap-history/
[7] M.Wattenberg. Map of the Market. SmartMoney.com,
1998.http://smartmoney.com/marketmap/
[8] Panopticon, Stockholm, Sweden.
[9] A. Slingsby, J. Dykes and J. Wood. Using treemaps for
variable selection in spatio-temporal visualisation,
Information Visualization, Volume 7, Numbers 3-4, 2008 ,
pp. 210-224(15).
[10] J. Wood and J. Dykes From slice and dice to hierarchical
cartograms: Spatial referencing of treemaps, in
Proceedings of GIS Research UK, Lambrick D, Editor.
2008: Manchester. p. 1-8.
[11] D. Guo, M.Gahegan, A. MacEachren and B.Zhou,
“Multivariate Analysis and Geovisualization with an
Integrated Geographic Knowledge Discovery Approach”,
407

Figure 2: The population and population change in the OECD member countries, plotted as a Treemap. Colour represents population
increase (red) or decrease (blue) and the size of each cell is mapped to the average population of each region during the measured time
period. The top half of the Treemap shows the values for the total population, while the bottom half is split into three different age groups
0-14, 15-64 and 65+. The image is available in colour and full resolution at:
http://ncva.itn.liu.se/content/1/c6/14/52/52/Pictures/oecd_population_change_treemap_A4%20FIGURE%203.png

408

Figure 3: The estimated yearly population change in percent in the regions of the European OECD member countries. Each map shows
the change within a specific age group.

409

Figure 4: Linked treemap and choropleth map showing the ratio of children in the European OECD member countries. The colour of
each region represents the percentage of the total population that falls within the 0-14 age group. Size in the Treemap shows the size of
the total population. The image is available in colour and full resolution at: http://ncva.itn.liu.se/content/1/c6/14/52/52/Pictures/europe_014_ratio_treemap%2Bchoropleth_A4%20Figure%205.png.

410

