Software Support for Annotation of Visualized Data using Hand-Drawn Marks
Ivan Denisovich
Fraunhofer AIS – Autonomous Intelligent Systems Institute
Schloss Birlinghoven, Sankt Augustin, D-53754 Germany
E-mail: denisovich@ais.fraunhofer.de

Abstract
Modern tools for visualization of information can be
very helpful for data analysis and discovery of patterns
in data. The paper describes a framework for
documenting of findings using freehand drawings on top
of the displays representing data. These drawings or
marks become a basis for the annotations of the analyzed
information. The marks are used to designate patterns in
data and to refer to data elements with interesting
characteristics. A model of data visualization is
described that allows encoding of marks in terms of the
presented information. This brings independence of
marks from the specifics of visualizing methods – the
marks are adapted according to changes of the way the
data is presented. Such representation of marks also
gives the possibility for the system to provide the user
with information and statistics about the data referred by
marks and to initiate visualizations showing the referred
data in other perspectives.

1. Introduction
Interactive visualization of data with the aim to
understand its characteristics and uncover possible
peculiarities has proved to be a powerful technique for
the analytical purposes. This approach, usually referred
to as exploratory data analysis [1], gained popularity in
numerous disciplines and applications. Large number of
innovative visualization tools such as table lens,
hyperbolic tree, tree map, parallel coordinates plot,
scatter plot is proposed for data of various types and
dimensionalities [2]. Much is done to let analysts
discover patterns in data, yet they are often left alone by
the analytical system with their ideas, observations and
findings. The analysts need to use separate tools to
capture and organize their ideas or rely on their own
minds.
There are many ways to pick out valuable
information from the analyzed data and document
findings. Observations can be verbally described
separately from the context that prompted them, e.g. an
analyst can make comments in a notebook (Figure 1a).

The benefit is that at the end one can get a summary of
information found in the data and relevant for the current
task, the drawback is the difficulty to refer in notes to
what was seen, distraction from the analysis to
commenting and therefore the possibility to loose the
pace and track of thoughts. It is also problematic to keep
the notes sufficiently formal for further processing.
Another approach is widely used by readers of
textbooks and articles – direct marking of citations,
passages, sentences or figures that are important for the
reader. This technique is not limited to text and can be
adapted to virtually all kinds of visualized data
(Figure 1b). The major difference of such an approach
from the above-described method is that an idea is not
summarized alongside the data that prompted it, but
rather the visual pattern formed by this data is marked.
Marks do not describe the finding – they highlight the
context that led to it in the visual representation of data.
The benefit is a direct relation between the visualized
data and the mark. Due to the informality of the marks,
the difficulty arises in understanding their meanings.
The proper conjunction of both methods can
compensate for the drawbacks and combine the benefits
providing an integrated solution for idea capture and
annotation of information. Annotation is regarded as a
process of collecting of formalized sense-bearing entities
linked with the information they explain or comment.
This paper describes the methods for data annotation and
their integration into processes of data analysis.
Hand-drawn marks on top of the visual displays are used
to indicate the observed patterns and to access the data
relevant for the finding (Figure 1c). A general model of
data and visualization is defined. It allows integration of
the annotating framework into the wide range of data
visualization and processing systems. As an extension of
the methods introduced earlier [3], a visual language that
formalizes marks on top of visualized data is proposed.

2. Related research
The origins of the proposed methods lay in the
concept of active reading [4]. The main idea is that a
reader can not only look at a text on the page but also
add comments directly on the text or in a separate

Proceedings of the Ninth International Conference on Information Visualisation (IV’05)
1550-6037/05 $20.00 © 2005 IEEE

notebook. This concept is successfully implemented in
tools for reading e-books on tablets [5]. Readers can
write on top of a text on the screen with a special pen
commenting and marking relevant information.
Commented excerpts can be browsed together, searched
and used to find related documents. In geographic
information systems, hand drawings are used in visual
query languages like Cigales [6] or MGISQL [7] to
compose complex queries. Drawings or sketches can also
be utilized in collaborative environments [8] and in
diagrammatic reasoning frameworks [9].
Freehand drawings have certain similarities to other
forms of direct manipulation with visual representation
of data such as brushing [10]. In this approach, a special
geometric shape – a brush – is moved by the user over a
display to select visualized data elements. These
elements are immediately highlighted on all active
displays showing data from different perspectives.
The use of sketches is close to the wide area of
gesture-based communication and machine control that

constantly gains popularity. Kinds of gestures can vary
from mouse gestures – special movements of a mouse or
a tablet pen to control a web browser or execute actions –
to natural hand and body gestures captured by a camera
and recognized by sophisticated computer vision
algorithms [11]. The combination of marks and
information they refer to can be utilized in applications
like annotation of photo archives [12], scientific images
[13][14] or multimedia documents [15] providing the
possibility for effective search. Such use of marks is
close to the semantic web initiatives that are targeted to
structure diverse information in the internet using
annotations in XML form attached to the whole
document or its parts [16]. Especially promising is the
attachment of annotations to the states of the analytical
process [17]. Such annotations document user actions
and decisions made during the analysis. They can be
useful to recall previous steps of analysis and simplify
navigation between them.

Earthquakes are
clustered!

There is a cluster of
strong earthquakes
in the northern part
of Kutahya region
in Turkey

(a)

(b)

(c)

Figure 1. Documenting findings: from verbal description (a) and direct drawing (b) to formalized handdrawn marks (c)

3. Formal model of data visualization
This section briefly describes the fundamental
concepts regarding data and its visual representation.
This model forms a basis for the proposed methods of
annotation.
The analyzed data is viewed as a collection of
datasets. Each dataset is a set of elements with a number
of characteristics that can represent the spatial location of
elements, their temporal reference or arbitrary
quantitative, qualitative, logical or other information.

Data visualization can be regarded as a two-step
process: construction of a presentation space on the basis
of data to be displayed and mapping (in mathematical
sense) of this selected and prepared data to the space of
the presenting medium – in most cases, a computer
screen or paper.
For example, an analyst works with a dataset that
has earthquakes as its elements; each element has a
number of characteristics describing where and when
each earthquake took place and how strong was it. The
analyst needs to build the map of the earthquakes

Proceedings of the Ninth International Conference on Information Visualisation (IV’05)
1550-6037/05 $20.00 © 2005 IEEE

happened in the last two years visualized as circles with
sizes proportional to earthquake magnitude. Two
characteristics of the dataset elements – geographical
location and magnitude – are needed for visualization.
These two characteristics become the dimensions of the
presentation space. It is populated by the dataset
elements – all the earthquakes happened in the analyzed
period. Then each element in the presentation space is
drawn as a circle – its location on the medium is
computed from the geographical location of the
earthquake and the size of the circle is determined by the
corresponding value of the characteristic representing the
magnitude.
The constructed presentation space can include the
dataset elements with their original characteristics as its
dimensions. The characteristics may be functionally
transformed, e.g. the values of the original numeric
characteristic can be substituted by their logarithms. The
presentation space can also be the result of an operation
that introduce dimensions and new elements that are
created on the basis of dataset elements and their
characteristics. Taking histogram as an example, each
element of the presentation space is a bar with the height
proportional to the number of the dataset elements that
have the value of the visualized characteristic in the
range covered by this bar. Since each element of the
presentation space corresponds to one or more elements
of the original dataset, one can always find all the data
used to construct each graphical element drawn on a
medium.
The mapping of data from the presentation space to
the space of the medium defines the way in which data is
visualized. This mapping is applied to every element in
the presentation space individually. Some of the
characteristics of the presented data will define location
of the symbolic representation of elements on the
medium, e.g. position of a town drawn as a point on a
map. Other characteristics are mapped to special visual
properties of drawn symbols like color, texture, size and
shape of signs. These properties are usually referred to as
retinal or visual variables [18].

can also indicate a region having some interesting
properties yet containing no objects.
To access the information behind the marks, one
needs to accomplish a reverse mapping from the space of
the medium to the presentation space. For any point of
the space of the medium, one can find the subspace of
the presentation space that is mapped to that point. Every
mark in the space of the medium can be considered as a
set of points. By finding the mapped subspaces for each
point constituting the mark, we define the whole mark in
the coordinates of the presentation space.
For reproduction on the medium, the same mapping
is used for data and for marks; hence, the marks can
change their shape according to the modifications of the
mapping parameters. For instance, a mark drawn on a
geographical map can be appropriately reproduced on
any map showing the same territory in arbitrary scale and
projection. The marks can also be shown not only on top
of the display visualizing the data that hinted the idea
expressed by these marks, but on top of other visualized
data as well. This method can be used to explore
relations between different types of information. For
example, the encircled region of the high level of
pollution transferred from a pollution map to a cadastral
map can help discovering industries causing much
pollution. An overlay of several marks can be used for
the visual comparison of the discovered patterns with
each other, e.g. noticing adjacency or inclusion of marks
can lead to ideas about a relatedness of the patterns they
describe.

4. Data analysis using hand-drawn marks
Marks drawn on a display visualizing data can help
analysts leave some trace of the ideas that arise during
exploration of the information, but such drawings can
also become powerful analytical tools if they go beyond
mere pictures and start to act as data selection and
retrieval instruments.

4.1. Combination of marks and data
When drawing on a medium visualizing data, people
use marks to signify their ideas about the presented data.
These marks usually refer to a part of the displayed
presentation space or to the data elements populating this
part. For example, a circle drawn on a map can refer to
the geographical objects inside it. The same kind of mark

Figure 2. A smooth mark cannot be fully
represented in the discrete coordinates of the
bar chart. Two small arrows indicate the
meaning of the auxiliary characteristic that
solve the problem
There are also some issues in the described
representation model of marks that need to be regarded.
Some visualization methods map discrete dimensions of
the presentation space to the continuous axes of the
medium. The marks drawn on top of such diagrams
cannot be fully described in the terms of the mapped
presentation space. For example, the presentation space
for a bar chart contains two dimensions: a discrete

Proceedings of the Ninth International Conference on Information Visualisation (IV’05)
1550-6037/05 $20.00 © 2005 IEEE

dimension to indicate bars and a continuous one to
represent bar heights. These dimensions are mapped to
two continuous planar dimensions of the medium.
However, the horizontal positions of the mark points are
not limited to the positions where bars are drawn
(Figure 2). To retain the possibility to encode smooth
drawings in the coordinates of the presentation space, a
number of auxiliary dimensions can be introduced. These
new characteristics are used only to recreate the mark in
the exact form it was originally drawn. In the above
example, the distance from a mark point to the vertical
line of symmetry of the bar nearest to it can be used. This
value should be normalized, e.g. from -1 to 1 – negative
if the point is to the left of the bar and positive, if the
point is to the right of the bar.
Another problem arises when visualization is altered
in the way that consecutive points in the mark are not
anymore mapped to the neighboring points on the
medium. For instance, the dataset elements are sorted by
values of one characteristic, so that bars visualizing
numerical characteristics are rearranged. In this case, a
mark made before the changes on the display falls apart
and looses its original meaning. Such situations should
be detected to avoid displaying garbled shapes.

4.2. The visual language of marks
In order to formalize and standardize hand-drawn
marks and to allow their further use for analysis, a visual
language is introduced. It contains, for the case of a flat
two-dimensional medium and a pen-like drawing
appliance, only two basic shapes, or primitives, – a point
and a line. The idea expressed by a mark depends on the
visual representation of the data it is drawn upon. It may
also vary according to the analyst’s preferences
concerning the way of expressing findings in drawn
shapes.
A point mark selects a point in the space of the
medium. It can refer to the subspace of the presentation
space that is mapped onto this marked point. For
example, the mark can indicate a good geographical
location for a refugee camp. Alternatively, the point
mark can refer to the elements that are located in that
selected subspace or close to it. For instance, the analyst
can point at a district with exceptionally high level of
deprivation.
A line mark can be considered as a sequence of
points, but the referred data are generally different from
the combination of the data referred by each point that
constitute the line. A line mark introduces the following
subsets of the space of the medium that can be used to
refer to data:
x Starting point, ending point – the very first and
last drawn points of a mark. The data referred
by these points are essential for marks
highlighting movement of objects in space or
relation between dataset elements.
x Path – a linear sequential set of points. This set
can be defined by the mark drawing a track of a
moving object, indicating a residual line on a

scatter plot or selecting a thin prolonged shape
that is inconvenient to encircle.
x Left side, right side – two planar sets of points
separated by the drawn line. These sets are
usually used by the line mark dividing the space
of the medium into two parts that contain data
having different properties.
The possible data referred by the mark in each of
these sets are the same as in the case of the point mark –
a subspace of the presentation space or elements in it.
Normally, a mark is drawn by an analyst with an
intention to refer only to some of the above-mentioned
sets or visualized data elements in them, e.g.
geographical objects on the left of a drawn line. The
actual semantics of a drawn primitive is defined by a list
of subspaces of the presentation space that are relevant to
the idea expressed by the primitive. It is also important to
indicate whether the subspaces themselves or elements in
them are referred. For example, a line on a tactical map
meaning “these troops are to be moved there” refers to
the dataset elements around the starting point and to the
geographical location at the ending point with no
particular attention to the path the troops should follow
in their movement.
A formal representation of a mark stores a sequence
of the drawn points expressed in the terms of the
presentation space. It also contains the list of sets that
refer to data and the indication of the type of the referred
information in each set.
The following Boolean features are also attached in
the case of a line mark:
x “Directed” – it indicates whether the direction
in what the line was drawn is important for its
meaning. This feature is needed by marks
indicating a sequence of the dataset elements or
direction of movement.
x “Closed” – this feature is set to true if the line
should be treated as a closed contour. This value
excludes from the consideration the starting
point and the ending point of the mark. A set of
points on one side of the line becomes a set of
points inside the mark; its counterpart to the
other side of the line defines the area outside the
encircled region.
An example of a mark with its features and referred
data can be seen at Figure 1c.
Complex marks consisting of several basic
primitives are also considered. Though ideas expressed
by them can be very diverse, the data they refer to are
expressed in the same terms of subspaces as by their
components. The level of complexity rises considerably
since not only referable sets of individual primitive
marks but also their unions and intersections should be
regarded. For example, an area between a pair of lines is
an intersection of two side sets of these lines.

4.3. Analytical support
When an analyst sees the data visualization that
shows an interesting pattern, he or she switches the

Proceedings of the Ninth International Conference on Information Visualisation (IV’05)
1550-6037/05 $20.00 © 2005 IEEE

system from the data manipulation mode to the drawing
mode. Then the user marks the pattern with a freehand
drawing. Each drawing becomes the basis for a new
annotation of the analyzed data. Besides marks, each
annotation includes the information about the kinds of
data referred by marks, i.e. subspaces or dataset elements
in these subspaces, and a textual description. To specify
the referred data, the user only needs to mark the
checkboxes corresponding to the possible referred
subspaces or elements in them (Figure 3). All
annotations are listed in a special window where the user
can browse and modify them. The analyst is not required
to enter all the information for each mark right after
drawing. At any time, he or she can return to previous
annotations to specify the referred data or to add
comments.
With the formalized marks on top of the visualized
data, new opportunities for data analysis become
available. By processing the marks and the referred data,
the system can provide the user with tools supporting the
analysis. The system can separate the dataset elements
referred by a mark allowing investigation of their
characteristics and comparison to the properties of the
whole dataset. In the same manner, several sets referred
by different marks can be studied and compared. The
regions referred by marks can be transferred to other
visualizations and used to locate the elements in other
compatible datasets. Marks can also be considered as
persistent selections of the dataset elements and used to
segregate data for separate processing.

of the values of the characteristic, a cumulative curve
[19] may be automatically built. For qualitative
characteristics and classified values, the number of
dataset elements in each class and the frequency
histogram are shown.

Figure 4. The map of the northern part of
Portugal showing user’s mark encircling a
region of low proportion of the population
between 25 and 64 years

5. Examples
Now let us demonstrate how the proposed methods
can be used in the data analysis by the example of the
demographic data of Portugal. The dataset contains
various statistical measures for each district of the
administrative division. Exploring the data, the analyst
produces a map that visualizes the proportion of the age
group of 25 to 64 years in each district in gradient colors
(Figure 4). The analyst notices a prolonged region of low
values in the northern part of the country and encircles it.

Figure 3. The user interface for specifying
properties of annotations
Knowing what characteristics are visualized at that
moment, the system provides the user with the statistics
about the referred data that can help the user to
substantiate the findings. For quantitative characteristics,
the statistics include minimum, maximum, standard
deviation, mean and median values, as well as the list of
mild and extreme outliers. Various statistical graphics,
e.g. a box-and-whiskers plot [1], a frequency histogram

Figure 5. Statistical displays with the
information about the whole dataset (the first
row of the table), dataset elements in the
encircled region (the second row, shown in
black on the histogram) and the rest of
elements (the last row)
This shape divides the territory into two regions.
With respect to this, the system classifies the dataset
elements into two groups: the elements that lay mostly

Proceedings of the Ninth International Conference on Information Visualisation (IV’05)
1550-6037/05 $20.00 © 2005 IEEE

inside the drawn figure and the rest of the elements that
are outside. To help the user understand the finding
better, the system shows the statistics of the visualized
characteristic for the dataset elements in these groups in
comparison to the whole dataset (Figure 5). The user
indicates that the dataset elements inside the contour are
of interest (Figure 3). Together, drawing, indication of
the referred information and a textual comment form a
new annotation to the analyzed data.
As the next step of analysis, the user is interested in
the cause for the higher values in the districts Guarda and
Vila Real. They are inside the encircled region but
painted in lighter colors. These districts could be local
exceptions from the observed pattern or, perhaps, some
more complex spatial pattern should be considered.
Therefore, the user marks these districts with point marks
adding another annotation with a note to search for the
explanation. Consulting the political map of the region to
which these marks have been transferred, the user finds
two cities in these districts – they are the regional
capitals that gave their names also to the districts. The
user adds a comment to the annotation explaining the
exceptional values by the influence of the cities.

Trying to find relations between the findings, the
analyst puts all previously drawn marks on the current
map (Figure 8). Then, the user points at two dots at the
scatter plot that appear at a distance to the left from the
majority of the selected districts – the corresponding
districts are immediately indicated on the map. They are
the same districts that have been marked as outliers
previously. Recalling the comment that there are regional
capitals in those districts, the analyst notes another
influence of the bigger cities on demography.

Figure 7. The scatter plot visualizing two
characteristics of the dataset elements. The
elements referred by the user’s mark are
painted black

Figure 6. The map showing the percentage of
the population employed in agriculture and
industry using pies. Region of the dominating
employment in agriculture is encircled
Next, the distribution of labor between different
branches is analyzed. The user builds a map with pie
diagrams of two characteristics that encode the
proportions of the population employed in agriculture
and industry. One can notice a vast region in the
north-east part of the country where people are employed
mostly in the agrarian sector of economy. The user
marks this observation by encircling the region
(Figure 6). Again, the system provides the user with the
statistics for each characteristic under analysis, i.e. the
proportions of the population employed in agriculture
and industry, and a scatter plot to evaluate behavior of
both analyzed characteristics (Figure 7).

Another discovery is that the region of the low
proportions of the population between 25 and 64 years
occupies the south-west border of the discovered
agrarian region. Such an effect can be explained in many
ways, for example, as a result of migration of people of
the active age to the industrial regions nearby. Therefore,
the combination of two discoveries addressing different
aspects of the demographic data brings new questions for
further investigation.

Conclusions
The paper demonstrates the methods that allow
using natural ways of expressing ideas in visual analysis
of data. With a little discipline, informal drawings
become useful instruments for documenting and sharing
findings. They also allow the system to get an access to
the discoveries made by users and to provide contextdependent feedback and support. Supplementing the
present visual tools, the proposed techniques for
annotation and analysis open new ways for effective
processing of ever-increasing volumes of information.
Though marks formally define data referred to by an
analyst, they do not fully describe findings. Nevertheless,
the marks can be used as the building blocks for the
complex structures describing analyst’s observations and

Proceedings of the Ninth International Conference on Information Visualisation (IV’05)
1550-6037/05 $20.00 © 2005 IEEE

combining referred data with information that the analyst
found interesting and relevant to the task. An appropriate
model for the formal description of findings with handdrawn marks as an input should be developed.

[4]
[5]

[6]

[7]

[8]

[9]

[10]
[11]

Figure 8. The map with two marks encircling
regions and small flags pointing out individual
districts

[12]

It is also important to note that observed patterns
could be marked too coarsely for an adequate definition
of the referred data. Therefore, the principles of the fuzzy
logic may be more appropriate for the operations with
marks and data referred by them. Support for correcting
drawn figures according to the actual data, finding
dataset elements that appeared to be outside the referred
set but close to it and possessing similar characteristics –
are just some issues that could be addressed.

[13]

[14]

[15]

Acknowledgements
The author is grateful to Natalia and Gennady
Andrienko for their valuable comments and fruitful
discussions concerning the contents of the paper.
Reviewers also provided helpful suggestions on
improving the paper and pointed out relevant references.

References
[1]
[2]

[3]

Tukey, J. W. (1977). Exploratory Data Analysis.
Addison-Wesley
Card, S. K., Mackinlay, J. D., Shneiderman, B. (Eds).
(1999). Readings in Information Visualization: Using
Vision to Think. Morgan Kaufmann Publishers, Inc.
Denisovich, I. (2004). Annotated Observations as
Knowledge Construction Elements in Visual Data
Analysis. In Brandt, S. Anders (Ed). Proceedings of the

[16]
[17]

[18]

[19]

Proceedings of the Ninth International Conference on Information Visualisation (IV’05)
1550-6037/05 $20.00 © 2005 IEEE

12th International Conference on Geoinformatics, Gävle,
Sweden
Adler, M. J., Van Doren, C. (1972). How to Read a
Book. Simon and Schuster, New York, NY
Schilit, B., Golovchinsky, G., Price, M. (1998). Beyond
Paper: Supporting Active Reading with Free Form
Digital Ink Annotations. In Proceedings of the CHI’98
Conference, ACM Press, pp.249-256
Aufaure-Portier, M.-A. (1995). Definition of a Visual
Language for GIS. In Nyerges, T. L., Mark, D. M.,
Laurini, R., Egenhofer, M. J. (Eds). Cognitive Aspects of
Human-Computer
Interaction
for
Geographic
Information Systems. Kluwer Academic Publishers,
pp.163-178
Sebillo, M., Tortora, G., Vitiello, G. (2000). The
Metaphor GIS Query Language. Journal of Visual
Languages and Computing, v.11, pp.439-454
Chuah, M. C., Roth, S. F. (2003). Visualizing Common
Ground. In Proceedings of the 7th International
Conference on Information Visualization. London,
England, pp.365-372
Chandrasekaran, B., Josephson, J. R., Banerjee, B.,
Kurup, U., Winkler, R. (2002). Diagrammatic Reasoning
in Support of Situation Understanding and Planning. In
Proceedings of the Army Science Conference, Orlando,
FL
Cleveland, W. S. (1993). Visualizing data. Hobart press,
Summit, NJ
Camurri, A. and V., G. (Eds). (2004). Gesture-Based
Communication in Human-Computer Interaction.
5th International Gesture Workshop, GW 2003. LNAI
2915, Springer
Shneiderman, B., Kang, H. (2000). Direct Annotation: A
Drag-and-Drop Strategy for Labeling Photos. In
Proceedings of the International Conference on
Information Visualisation, London, England
Ellis, S. E., Groth, D. P. (2004). A collaborative
annotation system for data visualization. In Proceedings
of the working conference on Advanced Visual
Interfaces. ACM Press, NY, pp.411-414
Gertz, M., Sattler, K.-U., Gorin, F., Hogarth, M., Stone,
J. (2002). Annotating scientific images: A concept-based
approach. In Proceedings of the 14th International
Conference on Scientific and Statistical Database
Management, pp.59-68
Bottoni, P., Civica, R., Levialdi, S., Orso, L., Panizzi, E.,
Trinchese, R. (2004). MADCOW: a Multimedia Digital
Annotation System. In Proceedings of the working
conference on Advanced Visual Interfaces. ACM Press,
NY, pp.55-62
Handschuh, S., Staab, S. (Eds.). (2003). Annotations for
the Semantic Web. IOS Press
Groth, D. P. (2004). Information Provenance and the
Knowledge Rediscovery Problem. In Proceedings of the
Conference
on
Information
8th International
Visualisation. London, England, pp.345-351
Bertin, J. (1967/1983). Semiology of Graphics.
Diagrams, Networks, Maps. The University of
Wisconsin Press, Madison, WI
Andrienko, N., Andrienko, G. (2004). Cumulative
Curves for Exploration of Demographic Data: a Case
Study of Northwest England. Computational Statistics,
v.19, pp.9-28

