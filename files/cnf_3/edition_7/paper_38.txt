Visualisation of Gait Analysis Data

1

Robert A Noble1 and Ray White2
School of Computing, Robert Gordon University, St. Andrew’s Street, Aberdeen, Scotland
Email: rn@comp.rgu.ac.uk
2
Sunderland University, Benedict Building, St Georges Way, Sunderland, England
Email: ray.white@sunderland.ac.uk

Abstract
Modern 3D motion capture systems allow large
amounts of data to be recorded from patients with
walking difficulties. However, it often proves difficult
for clinical staff to interpret this data to gain insight
into the patient’s condition. Automation and
simplification of the analysis of gait data is therefore
necessary if it is to be used more productively. In this
study we have developed visualisation software that
helps direct clinicians to the relevant parts of the data,
simplifying analysis and increasing insight.

1. Introduction
3D motion capture systems [1] allow the
movements of a subject’s joints to be measured whilst
walking. Force plates in the floor also allow forces,
moments and torques to be measured. These values
can be graphed using software such as Polygon [2].
Single values such as walking speed and stride length
can be measured, as well as static values like the range
of motion of joints. All this data is then used to derive
reliable, objective information on which to base
clinical decisions, quantify outcomes and ultimately
predict the outcomes of various interventions.
The problem facing the clinician is two fold. First,
there is a huge amount of data, possibly over 40
graphs. Secondly, the complexity of the human
neuromuscular system makes it difficult to accurately
pinpoint the underlying physical cause of any
anomalies seen in the data.
We have been looking at visualisations which
address both these problems. First, our visualisations
point the user towards the relevant parts of the data.
Secondly, they link specific parts of the data to
possible underlying causes. Whilst this is not a
diagnostic system, it does help the clinician to quickly

find the interesting data and gives some suggestions as
to possible patient problems.

2. Generating visualisation data
To generate the data needed for the visualisation,
the kinetic and kinematic output graphs from the 3D
motion capture system are analysed using four
approaches.
First, the program finds where graphs are out of
range. This assumes we have data for normal subjects,
giving the mean and standard deviation (SD) for each
value. These out of range areas are highlighted as
described in section 3.
Secondly, there are 3 properties which are of
special importance when interpreting the graphs, their
pattern, range and timing (PRT). The pattern refers to
the general shape of the graph and the number and
height of specific peaks and troughs. The range refers
to the total spread in the angle from minimum to
maximum. The timing refers to where particular
peaks, troughs or crossing points occur in the cycle.
These will be incorporated into an icon interface
(section 6) to give the clinician an initial overview
picture of the patient.
For PRT analysis, the curve would normally be
segmented into ranges corresponding to expected
peaks and troughs, using the known mean value curve.
Analysis is then carried out on each segment. To show
the principle our software does the analysis on the
whole curve, without segmenting. The PRT
visualisation shown in figure 5 is simulated.
Thirdly, four foot events are defined during the
cycle, corresponding to each foot contacting the
ground (Initial Contact, IC and Opposite Foot Contact,
OFC) or leaving the ground (Toe Off, TO and
Opposite Foot Off, OFO). The timing of these events
is very significant and they are highlighted on all
graphs (figures 1 to 7).

Proceedings of the Ninth International Conference on Information Visualisation (IV’05)
1550-6037/05 $20.00 © 2005 IEEE

Finally, rules (section 4) can be applied to the joint
movements to aid diagnostics. These will be used to
put visual indicators on graphs to point the clinician to
possible problem areas.
To use these four approaches, graphs from an
individual patient were compared to normative curves,
mean ± 2SD and the following things were calculated:
1. Out of range data greater than the mean ± 2SD
2. The peak and trough values
3 Out of phase data at the peak and trough points
4. Discrepancy in the total range of the data
5. Slope of the graph at a given point in the cycle.
Each curve is stored as 51 points (50 frames),
representing one cycle. The point in the cycle at which
a given foot event occurs is read in from the system.
Finding a graph value at this event is simply a matter
of reading the corresponding value from the curve.
At each point the mean value and standard
deviation is known. An out of range value, at a given
point in the cycle, is then simply taken to be one which
is more than a given number of standard deviations
from the mean. Normally we use two standard
deviations. This range was selected arbitrarily since
there are currently no guidelines. The alternative would
have been to select the mean ± 1SD.
When calculating the error of a peak value it is not
considered sufficient to simply find the highest value
as this would be too sensitive to noise. Instead, we
proceed as follows. At a given point in the cycle, the
graph is expected to be equal to the mean value. The
difference in these values gives the error at that point.
The average of these errors over a time interval gives
the average error of the curve over that time interval.
If this interval is a segment corresponding to a peak,
this gives the average error of the peak. If it is the
whole cycle, it gives the average offset over the cycle.
To find how early (late) a feature is an
autocorrelation function was used. The segment of the
curve corresponding to the feature is moved along the
time axis, one step at a time, starting a few time steps
(12 in this case) before its normal position and ending
the same number after it. At each position its average
error from the mean values is calculated, as in the
previous paragraph.
The position at which this average error is least is
taken as the best fit position and the number of time
steps from its real position is the amount it is early
(late). Having identified the values of peaks and
troughs, the range is simply the difference. This is
compared to the value obtained for the mean curve.
The slope of a graph could be found by fitting a
straight line to the required section and using its slope.
However, this can be subject to error so, for simplicity,
where a rule refers to a reduced slope we have used a

reduced range from the previous trough to the next
peak.

3. Single graph analysis
Figure 1 shows the normal and sagittal plane
motion of the knee. The black lines show the mean
(dotted) and +2 standard deviations (SD) values for the
normal knee motion. The left leg data for the patient is
shown by the red line and the right leg is shown by the
green line. The patient data shows increased knee
flexion in early stance, hyperextension in terminal
stance and delayed flexion in swing. The out of range
error is shown by a purple horizontal line above and
below the graph and is only flagged if the joint is out
of range for more than 3 consecutive frames, so minor
excursions are ignored.
Along the top of figure 1 there is a colour bar
which shows an alternative method of visualising out
of range values [3]. This uses a scale from red to blue
for below range to above range. The further the value
is below (above) the range, the brighter the red (blue).
The normal curve can be divided into the ranges of
interest of the user and similar analysis can be carried
out on these ranges. Thus, if the second peak is of
interest its height and whether it occurs early or late
can be shown as icons in the interface (section 6).
The graphical output is supported by text
explaining what has been found. For example: average
error of right knee flexion angle = 8.5 degrees, excess
range is 1.5 degrees independent of the fact the graph
is too high. The horizontal position of the curve is
offset by 8% (4 frames) to the right, indicating a delay
in knee flexion.
Degrees

100%

Figure 1. Knee flexion v % gait cycle

4. Multiple graph analysis
In the previous section parts of graphs outwith the
normal range (± 2SD) were highlighted. There may be
in excess of 40 graphs to analyse if kinematic and
kinetic (forces, moments and powers) data are
interrogated and only limited parts of certain graphs
may be clinically important. To facilitate analysis of
pathological data a rule based method was developed
using rules reported by Gibbs [4]. As an example,

Proceedings of the Ninth International Conference on Information Visualisation (IV’05)
1550-6037/05 $20.00 © 2005 IEEE

consider rule 1, “Increased anterior tilt of the pelvis
prior to toe off may be due to spasticity of the hip
flexors”. Comparing the patient values with the normal
data (mean + 2 SD ), increased tilt has occurred if the
average error over the 4 frames is more than 2 SD,
figure 2.

peak value and the frames around toe-off (at which the
slope is considered reduced) is indicated.
A graph, similar to figure 2 or 3, will be displayed
automatically for each rule that is initiated, when
subject data is presented to the program. Annotations
highlight the reason why the graph has been presented.
The text explains the possible associated problems. In
this way, the user is quickly directed to significant
parts of the data.

5. Investigating hypothesis

Figure 2. Pelvic tilt v % gait cycle
typical outputs for CP child
Various features can be seen on the graphs. The
horizontal brown line at the bottom shows the range
over which the rule applies. The upward brown arrow
runs from the mean value of a normal patient to the
right leg graph. Text also appears stating the
conclusions of the rule
In figure 2 both the left and right side are out of
range. If only one side triggers, as in figure 3, only the
event markers for that side are shown. Both lines are
thickened, even if only one side triggers, to make clear
why the other side didn’t fire.
Rule 2 states that “a delayed maximum knee
flexion in swing and a reduced rate of flexion prior to
and after toe-off may be associated with spasticity of
rectus femoris’’. The normal graph of sagittal plane
knee flexion is shown by the dotted line in figure 3
with a peak in mid swing. A best fit can be found for
the peak and hence the delay in the peak obtained. The
reduced rate of flexion prior to and after toe off is
interpreted as a reduced range of flexion. Figure 3
shows the display that appears if this rule triggers.
Various indicators show why it has fired.

Figure 3. Knee flexion v % gait cycle
typical display when rule 2 fires
The curves are highlighted at the peaks and an
arrow pointing left shows the peak is late (delayed
maximum knee flexion). The range is indicated at the

Running the rules allows relevant parts of graphs
to be displayed. In addition, the rules can be run
backwards in a “hypothesis” mode.
Rule 1 states that, “increased anterior tilt may be
due to spasticity of the hip flexors”. If the user
suspects spasticity of the hip flexors may be present, it
would be useful to look at the anterior tilt prior to toe
off. If several rules have the same suggested problem
as one of their outputs, there will be several parts of
different graphs to be considered.
A series of “hypothesis” buttons are available (H1,
H2, …, see figure 5) so that when selected, all the rules
that have the associated problem as outputs are run.
Those that are triggered produce graphs as in figures 2
and 3. Those that are not triggered also produce
graphs, but without the blue arrows. This allows the
user to see immediately all the rule-related data
associated with this problem, with significant out of
range data highlighted. Figures 4 shows a typical
example where the rules are run forwards and only rule
3 triggers. In figure 5, a hypothesis button for a subject
generates graphs for rules 1, 2 and 3. Rule 3 triggers
and so has the blue indicators on it. Rules 1 and 2 do
not, so only have the thickened line showing the point
of the graph the rule is looking at and the event
markers.

Figure 4. Knee flexion v % gait cycle
forwards only rule 3 triggers

6. Multiple graphic icon interface
One of the problems encountered when trying to
analyse the data is the sheer volume. Furthermore,

Proceedings of the Ninth International Conference on Information Visualisation (IV’05)
1550-6037/05 $20.00 © 2005 IEEE

clinicians not always familiar with analysing this type
of graphical data. For these reasons, an icon interface
has been developed which presents the key information
to the user, extracted from the graphs.
There are two features of the graphical outputs that
characterise the gait cycle, the foot events (IC and TO)
and the pattern, range and timing (PRT). Rule 1 was
typical of the former, where the critical issue was the
pelvic tilt prior to toe off. Rule 2 is typical of the
latter, referring to a delayed peak and a reduced range
(figure 3). What is of relevance is the value of the
graph (too high) at the given event, or the fact that a
known peak is late, or a known range is low.
Section 3 discussed general properties of single
graphs related to PRT. Using the normal curve, the
peaks, ranges and troughs of each graph can be
identified. Values can be calculated for the delay or
excess height of a peak or trough and whether a range
is too large or small. This analysis can be input to an
icon interface as follows.
Figure 5 shows a diagrammatic form of the
prototype icon interface. The top row shows the
temporal-spatial data but could also include such
features as the Normalcy index Schutte [5], Romei [6]
the energy cost, or the Asymmetry Index, Herzog et al
[7]. Clinical examination data can also be displayed
here. Below this is a table of joints angles at various
critical events in the gait cycle and (PRT) data. The
four icons down the left hand side show which joint is
being analysed, pelvis, hip, knee, and ankle and this
joint is highlighted in orange. The icons along the top
show the four critical events in the gait cycle followed
by specific PRT properties, such as initial value, first
peak and range. Not all values will necessarily apply
to all graphs.
The rest of the table has arrows indicating out of
range values for the given joint at the given event, or
an empty square if in range. Values are coded by
colour (purple is high or early) and direction (up arrow
for high, right arrow for early). A series of buttons at
the bottom allow the user to choose the view (sagittal,
frontal or transverse) as shown by the icons. The next
button toggles between left leg and right leg. The four
types of graph (angle, force, moment, power) can also
be selected.
Once the user has learned the layout of the
interface, the arrows allow them to see at a glance,
which graphs are abnormal and which may possibly be
worth further study. With practice one might even be
able to recognise patterns in the display.

a patient depends upon finding the relevant items out
of a huge amount of data and making a correct
deduction. If the computer can help the clinician find
those relevant items and link them together, then it has
made a useful contribution.
This paper has discussed four ways in which the
computer can help identify relevant items of data.
First, by summarising a single graph in simple terms
which are meaningful to the clinician (section 3).
Secondly, by using rules to analyse multiple graphs
and to highlight significant features indicated by the
rules (section 4). Thirdly, by allowing the user to test a
hypothesis, bringing up the relevant graphs as defined
by the rules for consideration (section 5). Finally, by
presenting an icon interface, which summarises the
relevant facts from each graph (section 6). To be really
useful as a diagnosis aid, these four parts must act
together in an integrated environment.
A simulation of the complete interface is shown in
figure 5, as it would appear after the Rectus Femoris
hypothesis button of section 5 has been pressed. There
are four areas, the icon display, a graph display area, a
button area and a scrolling text area. The icon display
allows a quick overview of the data. The button area
contains the various buttons needed to run rules, check
hypotheses etc. The graph area displays the currently
requested graphs. The text area reports on rule output
and single graph analysis.
Visualisation is described by Card [8] as “Using
vision to think”. The visual interface therefore needs
to follow the users thought patterns and attempt to
answer their questions. Given a new patient, the first
question is, “what overall impression can I get of this
subject’s gait?”. To answer this, the icon area of figure
5 is relevant and so becomes the default view of the
data.
The clinician will see an arrow indicating a 5
degree elevation of the pelvis (up arrow). Therefore,
the next question is, “pelvic tilt at OFO is high, what
exactly is going on?”. Clicking on the pelvic tilt OFO
square displays a detail of the graph at OFO, in the
appropriate icon square, as in figure 6.

Figure 6. Displaying graph details

7. The Integrated Interface
The aim of the tool described in this paper is to
help the clinician to analyse the gait data. Diagnosing

A second click shows the whole graph and a third
one cycles back to the original arrow. These are rather
small, so larger versions will also be added to the graph

Proceedings of the Ninth International Conference on Information Visualisation (IV’05)
1550-6037/05 $20.00 © 2005 IEEE

area, whilst the numerical analysis of the curve, as in
section 3, appears in the text area. Having them in the
icon area as well maintains their context. Note that this
provides the user with a mechanism to select graphs to
display in the graph area.
Having investigated the arrows and knowing there
is a built in set of rules which reflect the experience of
the gait analysis community, the next question may
well be, “what can the rules tell me?”. In the button
area there is a “run rules” button, which runs all the
rules on the current data. Any rule which fires will
produce a graph (figure 3) which is added to the graph
area. This is a toggle button, so pressing it a second
time undoes its effect.
Another important principle of visualisation is that
linked displays must be consistent [9]. Since the graph
area and the icon area are linked, it is useful to
maintain consistency in the sense that the graphs
brought up by rules firing should be indicated on the
icon plot, where there is a connection. For example,
rule 3 relates to the knee graph at TO. This can be
indicated by putting a small solid triangle in the upper
right corner of the relevant square on the icon display,
as shown in figure 5. Note that as shown it is only the
left knee that fires the rule, so there is no icon arrow
for the right knee.
Again, for consistency, if the user clicks the icon
area to put the graph in the icon square, when the rule
button is pressed, the display shows the rule lines as in
figure 7.

Figure 7. Rule button pressed
By this stage, the user may wish to check various
hypotheses, “is the Rectus Femoris spastic?”. This can
be done by pressing the corresponding hypothesis
button (H1). This resets the displays, clearing the
drawing area and turning the rule button off. It then
runs the rules for the given hypothesis, as in section 5.
All related graphs are shown, as in figure 5. This is
again a toggle button, so the effect can be removed by
pressing again.
Rules which fire again bring up a solid triangle in
the icon area. Rules which run but don’t fire (1 and 2)
bring up an outline triangle in the icon area (figure 5).
If the user clicks in an icon square when either the
rule button or a hypothesis button is active, the

displayed graph will have the added rule lines as
appropriate.
To summarise, the interface works as follows:
• The initial view when a new subject is loaded will
have the icon interface, complete with arrows and
an empty graph and text area.
• If the mouse is moved over a square with an
arrow, the associated values appear next to the
arrows until the mouse leaves the square. If the
mouse moves to a square with a joint icon, values
appear for all the squares in that row. If the mouse
moves over an event or PRT square, the whole
column receives values.
• Clicking on an icon square cycles between arrows,
a graph detail (figure 6, 7) and a whole graph. If
the rules button or a hypothesis button is active,
the graph is drawn accordingly.
• Clicking on an icon square also adds the whole of
the corresponding graph to the graph area, if it is
not already there, allowing the user to select any
graph.
• Clicking on an icon square with a joint icon brings
up the corresponding graph complete with its
analysis as in figure 1. All computed values for
peaks, troughs, ranges and out of range sequences
are listed in the text area.
• Clicking the rules button resets the display to its
initial state, runs the rules and brings up graphs for
any rules which fire. Triangles are added to the
icon area to indicate the squares relating to fired
rules.
• Clicking a hypothesis button resets the display and
brings up all graphs related to that hypothesis.
Solid triangles again indicate fired rules and
outline triangles indicate rules which ran but did
not fire.

8. Future work
The graphs shown in figures 1 to 4 are produced
by our software. Figure 5 however is a prototype
design. The first step then is to test it out on some
clinicians and see how well it meets their analysis
needs.
The icon interface of figure 5 shows many places
where the graphs deviate from normal values. The
actual range at which they are regarded as out of range
is currently set at 2SD. In a real situation, it might be
more meaningful to have a range slider that allowed
the user to adjust the out of range limit, to get a
dynamic picture of the situation. Again, the arrows are
currently all the same height, with values shown
against them if requested. Variable size arrows might
convey more information.

Proceedings of the Ninth International Conference on Information Visualisation (IV’05)
1550-6037/05 $20.00 © 2005 IEEE

Another consideration is that some arrows may be
much more significant than others. No information has
yet been included as to how important a given
deviation is. If one could weight the significance of
each deviation, different range limits might apply to
different arrows. Arrow height might then reflect
amount out of range scaled by significance,
highlighting the more relevant items.
It will also be noted from the icon interface that
there are 4 significant timing events and 5 PRT events,
some of which have 2 values (high and late). This set
of say 12 values in some sense characterises the graph.
These values could be plotted as a multidimensional
display, on a parallel plot. The normal values could be
added for comparison. Including this plot on the icon
interface in the column after Range, could give a
meaningful initial summary of the patient’s condition.

References
[1]
[2]
[3]

[4]

http://www.vicon.com/jsp/applications/applicationdetail.jsp?id=141
http://www.vicon.com/jsp/products/productdetail.jsp?id=165
Manal K, Stanhope SJ. A novel method for displaying
gait and clinical movement analysis data. Gait Posture
2004; 20: 222-226
Gibbs S (2000) Guide to the Interpretation of Gait
Deviations, The Dundee Royal Infirmary, Scotland,
Gait Course 2000, 4th – 7th April, 2000.

Rules

H1

H2

H3

H4

[5]

[6]

[7]

[8]

[9]

Schutte L M, Narayanan U, Stout JL, Selber P, Gage
JR. An index for quantifying deviations from normal
gait. Gait Posture 2000; 11: 25-31
Romei M, Galli M, Schwartz MH, Motta F, Crivellini
M. Use Of The Normalcy Index For Assessment Of
Gait Abnormalities Gait & Posture 2004; 19: 85-90
Herzog W, Nigg BM., Read LJ, Olsson E.
Asymmetries in Ground Reaction Force Patterns in
Normal Human Gait. Medicine and Science in Sports
and Exercise 1989; 21:110 - 114.
Card SK, Mackinlay JD, Shneiderman B (Eds).
Readings in Information Visualization: Using vision to
think. San Francisco, Morgan Kaufmann 1999.
Spence R. Information Visualization, Essex: ACM
Press, 2001

Appendix 1. Gait rules from S Gibb (2000)
1. Increased anterior tilt of the pelvis prior to toe
off may be a mechanism to facilitate toe clearance in
swing phase or may be spasticity of the hip flexors. It
may also be a mechanism to compensate for limited
hip extension in late stance.
2. Delayed maximum knee flexion for swing and
a reduced rate of flexion prior to and after toe-off may
be associated with spasticity of rectus femoris.
3. Knee extension at toe-off may be associated
with spasticity of rectus femoris.

Button area

9

Graph area

Scrollable text area

Figure 5. The complete screen layout after a hypothesis button is pressed

Proceedings of the Ninth International Conference on Information Visualisation (IV’05)
1550-6037/05 $20.00 © 2005 IEEE

