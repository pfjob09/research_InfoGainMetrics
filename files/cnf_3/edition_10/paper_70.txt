9LVXDOL]DWLRQ IRU &RRSHUDWLYH $UFKLWHFWXUH 'HVLJQ 6\VWHP
Yuhua Luo, David S√°nchez, Antonio Bennasar, Juan Forn√©s,
Juan Carlos Serra, Juan Manuel Hu√©scar
University of Balearic Islands, Palma de Mallorca, Spain
Email: dmilyu0@uib.es
$EVWUDFW
9LVXDOL]DWLRQ LQ DQ RQOLQH PXOWLSOH XVHU PXOWLSOH
ORFDWLRQ FRRSHUDWLYH ZRUNLQJ V\VWHP IRU FRPSOLFDWHG '
VWUXFWXUHV VXFK DV LQ DUFKLWHFWXUH GHVLJQ LV D JUHDW
FKDOOHQJH 7KHUH DUH VSHFLDO UHTXLUHPHQWV IRU VXFK
FRRSHUDWLYH HQYLURQPHQW 6RPH RI WKHP DUH UHODWHG WR WKH
QHHG RI PXOWLSOH SDUWLFLSDQWV ZKLOH WKH RWKHUV DUH IRU WKH
VSHFLILF QHHGV RI WKH DSSOLFDWLRQ 7KH SDSHU SUHVHQWV WKH
YLVXDOL]DWLRQ VFKHPH DQG LWV LPSOHPHQWDWLRQ IRU WKH
FRRSHUDWLYH ' GHVLJQ V\VWHP SDUWLFXODUO\ IRU WKH
DSSOLFDWLRQ RI DUFKLWHFWXUH GHVLJQ IRU EXLOGLQJ
FRQVWUXFWLRQ

1. ,QWURGXFWLRQ
The architectural design involves a great amount of
communication between the design team members.
Cooperative design with communication support can
facilitate such communication. Using 3D as the basic
format for architecture design will obviously facilitate the
error detection during the early stage. Based on analysis
of the existing problems in the architecture design, a 3D
cooperative design system for online cooperative design
especially for integration has been developed [9, 10, 12].
The typical use of the system is for a design team led by
the chief architect during the planning and formed by a
group of specialists such as architecture, structural
engineering, water and sewage, energy, air conditioning
and telecommunications. See Figure 1 for the typical use
of the system.
This simultaneous cooperative working configuration
demands special requirements for visualization in addition
to the complex manipulation of the design data. Within
the system, a cooperative multi-site 3D design editor has
been developed as the major tool for the design users. An
efficient, comprehensive visualization scheme was
designed and implemented within the editor to facilitate
the teamwork. This paper particularly concentrates on the
visualization aspect of the system. For other aspects of the
system, please refer to the references at the end [5, 6, 8].

Proceedings of the Sixth International Conference on Information Visualisation (IV‚Äô02)
1093-9547/02 $17.00 ¬© 2002 IEEE

Chief architect
the architecture
team

Specialist team 1

8¬Ç¬Ä¬Ä¬à¬Åvph¬áv¬Ç¬Å√É√É

Specialist Team2

Ir¬á¬ê¬Ç¬Öx

Specialist Team4

Specialist Team3

)LJXUH  7KH W\SLFDO XVH RI WKH FRRSHUDWLYH GHVLJQ V\VWHP

The general scenario of a cooperative working session is
to have a common 3D design project, such as a building
design project to visualize and manipulate. The data amount
is normally huge with all the details of all parts of the 3D
design of the building. The typical way of using the data is
to view the building in any desired way including walking
through, going around, from any angle, finding the
particular part other user is manipulating, focus on it and
making decisions and modifications.
The basic considerations from the visualization aspect
of the system are:
‚Ä¢
Provision of common visualization space
‚Ä¢
Global structure indication
‚Ä¢
Indication of focus area
‚Ä¢
Locating the users in multi-user environment
‚Ä¢
Independent viewing
‚Ä¢
Seeing other user‚Äôs view
‚Ä¢
Data Complexity versus simple visualization
‚Ä¢
Use of color
The following sections will describe some of these
considerations and their implementations.

2. &RPPRQ YLVXDOL]DWLRQ VSDFH

For cooperative visualization, there must be a common
visualization space for all the participants. The common
object data should be able to load into this space from
each site or a unique source. Within the common
visualization space, each participant should have the
freedom to view the object with his own preference. The
system has been designed and implemented to provide
such a space which is a common user interface for all the
participants. See the following figure for the appearance
of the common visualization space:

orientation in the scene. The map is a 2D projection of a
slice of the 3D building. The user is able to define the
height of the 2D slice in order to meet the need of
navigating multiple layers of buildings. See figure 3 for
detail.
The user can manipulate his 2D position indicator to
move around in the 2D map, while the 3D window will
show the current view of the user corresponding to the
movement.

)LJXUH  7KH ' PDS DQG WKH YLHZHU SRVLWLRQ LQGLFDWRU
)LJXUH  WKH FRPPRQ YLVXDOL]DWLRQ VSDFH RI WKH
FRRSHUDWLYH GHVLJQ V\VWHP

On the top of the common working space, there are
menu bars with all the available operations that can be
invoked by hierarchical menus. The most common
operations can be invoked by clicking the icons on the
toolbar. On the left is a window showing the global
structure of the project which is a tree structure of the
building with different specialty as branches. Upper right
is a window showing the current 3D view of the design
according to the current position of the user. Some other
windows can open to have more visualization options. In
the example of figure 2, upper middle window is a 2D
map of the building with the users‚Äô positions indicated.
The lower middle window is a z-direction clipping to the
3D building. An object can be isolated for viewing such
as shown in the lower right window.

3. *OREDO VWUXFWXUH LQGLFDWLRQ DQG /RFDWLQJ
WKH XVHU SRVLWLRQ
Very often, the users will get lost in the visualization
of a complicated 3D object. It is very important to give a
global view to all the participants in the cooperative
working group. It is also vital to provide a way back to a
global view when the users get lost.
We provide a couple possible ways to have a global
view of the visualization objects.
$ WZR GLPHQVLRQDO PDS: a two dimensional map is
provided to locate the current user position and

Proceedings of the Sixth International Conference on Information Visualisation (IV‚Äô02)
1093-9547/02 $17.00 ¬© 2002 IEEE

)LJXUH  7KH ' YLHZ FRUUHVSRQGLQJ WR WKH YLHZHU
SRVLWLRQ DQG WKH RULHQWDWLRQ LQ ILJXUH 

To know what other users are looking at, there are two
ways. Firstly, other users have their avatars on the 2D map
with their own location and orientation. Secondly, one can
open a window to see any other user‚Äôs view by using the
operation provided by the menu bar.
$ VFHQH WUHH: To show a global structure of a
complicated scene, one of the best ways is the tree
presentation. The tree can be displayed according to the
level of detail needs of the user from a very global view
down to the finest details. The system uses VRML as the
basic format for the 3D geometric data [3].
For cooperative visualization a textual tree has been
chosen to organize all the objects and their subparts in the
common design object. The editor supports the
visualization of multiple scenes. Only the tree corresponds
to the current scene will appear.

The root node of each tree corresponding to the whole
scene of each building. Using the symbol ‚Äú+‚Äù and ‚Äú-‚Äù can
show or hide the next level of detail. The user can have a
very clear view of the current visualized structure by
looking at the tree. See Figure 5 about the appearance of
the tree structure and its handles.
To have a global view of a scene, the user can click on
the root of the tree. To see a particular part of the scene,
the user simply click on the node name of that part. The
selected part will change its color in the 3D view of the
building.

modification. The handle boxes are for manipulation and
indication of the objects of focus.
Another way of showing the focus of attention is to
isolate a particular object on focus into a separated window.

)LJXUH  $ ZLQGRZ LV VHOHFWHG WR VKRZ WKH IRFXV RI
DWWHQWLRQ

)LJXUH  7KH WUHH VWUXFWXUH IRU JOREDO YLVXDOL]DWLRQ

All the conventional viewing options are provided
such as zooming in and out. To navigate the global 3D
scene, users can use two kinds of navigating windows.
One is to rotating the viewpoint around the object. The
user can also move the camera to a desired object point
directly. The other navigating way is to walk through the
object such as going forward and backward, turning
around etc.

Figure 7 is an example showing the object in focus ‚Äì
separated window for visualization without affecting the
object. This has been proved very useful for further
investigation on the object on focus. The users can use all
kinds of visualization options and other tools to visualize
the object such as going around, zooming in and out,
measuring distance, angles etc.

4. ,QGLFDWLRQ RI IRFXV DUHD
In cooperative visualization, it is very important to
indicate the focus point of discussion at any moment.
The cooperative design tool supports the indication of
focus area in a couple ways. The first way is by direct
selection in the 3D visualization window. Click on a
particular object, the object will be selected and the color
of the corresponding polygons will change if the user has
the permission to select it [7].
Figure 6 shows such an example. To distinguish a local
selection or a remote selection, different colors are used.
By our consistency control policy, a user can only select
an object if other users in the cooperative working group
did not select it because the next action of selection is
usually a modification to the object [7]. When a
modification is necessary, there is a set of handle boxes
for the user to manipulate the object for further

Proceedings of the Sixth International Conference on Information Visualisation (IV‚Äô02)
1093-9547/02 $17.00 ¬© 2002 IEEE

)LJXUH  $ VHSDUDWHG ZLQGRZ VKRZLQJ WKH REMHFW LQ IRFXV
RI )LJXUH 

When the application is launched for the first time, all
the users will have a common view. Even common viewing
area is important to the cooperative visualization, to provide
independent viewing possibility is equally important. Each
user in the cooperative working group should be able to
open their own window, move the object around or going
around the object to examine any detail. This is for
individual studying of the design before, after or during the
group visualization. Therefore, our editor has been designed
to give the user freedom to open as many windows as he
wishes.

Within the visualization windows, the views are
independent. This means other users‚Äô views do not affect
any individual viewing.
Whenever necessary, any user can obtain another
user‚Äôs view by using the option of other user‚Äôs view as
mentioned before.

5. $GYDQFHG YLVXDOL]DWLRQ DLGV
For visualization of a complicated 3D object such as
an architecture designed building, it is important to
provide certain aids for the users to improve the
visualization result. In our system, we provide many
advanced aids for this purpose. Among them setting
object visibility and arbitrary oriented clipping planes are
proved very helpful for the architecture design users.

building. The orientation, angle, starting and the ending
position of the clipping planes can be defined by the user.
The user also has the freedom to define the size of the
manipulator for better visualization result.

6. 6\VWHP LPSOHPHQWDWLRQ DQG HYDOXDWLRQ
The system has been implemented using the Open
Inventor toolkit. Visual C++ and MSF functions have also
been used for implementation convenience.

)LJXUH  $ =GLUHFWLRQ FOLSSLQJ WR WKH GHVLJQ REMHFW

)LJXUH  $ URRI LV VHOHFWHG ZKLFK LV YLVLEOH

)LJXUH  7KH URRI LQ )LJXUH  LV VHW WR LQYLVLEOH

Any selected object can be shown visible or set to
invisible. Figure 8 shows an object is selected which is a
roof. In order to see the interior of the room, the roof is
set to invisible in Figure 9.
Another aid for the users to see the interior of a
structure is to set up arbitrarily oriented clipping planes to
cut the building. To provide the clipping aid is very useful
to view the interior of the building. The editor has the
option to clipping the building at any given angle. Figure
10 shows a clipping with orientation Z to the design

Proceedings of the Sixth International Conference on Information Visualisation (IV‚Äô02)
1093-9547/02 $17.00 ¬© 2002 IEEE

The system is not only for visualization, it is for online
editing by multiple users cooperatively. Therefore, a totally
replicated architecture has been used [1, 9, 10, 12]. A
protocol [7] is used to reproduce the user events remotely to
avoid sending heavy data across the network. It is also for
the data consistency control. There is a database behind the
editor for storing and retrieving all the project information
for both online and offline use of the system [2].
Life architecture design projects have been used to test
and evaluate the system [11]. Architects, structure
engineers, sewage designers, air-conditioning designers and
electricity engineers participated in these tests and system
evaluation [4]. The cooperative working sessions were held
frequently among 4 locations in Portugal and Spain. Each
cooperative working session was connected by ISDN.
Stand-alone, point to point and multiple points work modes
were tested. From the users' point of view, after some
training sessions, the tool is very easy to use. It is intuitive
and versatile. The users particularly like the visualization
operations during the co-operative work. Among all, the
clipping planes become their favorite. They are happy that
the tool allows them to customize their own visualization
environment, setting their own parameters interactively or
numerically. They commented that no software in the
current market is with these characteristics.

7. &RQFOXVLRQV DQG $FNQRZOHGJHPHQW

The visualization of very large data set with
complicated structure is a big challenge to application
developers. The cooperative visualization raises more
special issues to deal with. The implemented system has
answered the challenge in a user favourable manner. The
system shows that it is possible to provide visualization
functionalities to confront the complexity of the data and
easy, user friendly manipulation. Focus has been paid in
the indication of global structure and the possibility to
visualize any individual element. For cooperative
visualization purpose, providing a common view and
individual viewing option to cope both group working and
individual studying. For better visualization results, the
objects can be set to visible or invisible modes. To have
focus of attention isolated windows to show a selected
object is provided. Advanced aids are provided for the
user navigation of the complicated design object such as
2D maps and clipping planes.
Even less described in the paper, color and object
naming have been carefully chosen to represent
architecture objects according to de facto industrial
standards [13].

8. $FNQRZOHGJHPHQW
This work is supported by the Esprit (IST) project No.
26287 M3D funding and the Spanish CICYT project
funding TIC-98-1530-CE and Tel. 96-0544. The authors
would like to thank all the members in the M3D project
partner teams UIB, ADETTI, EDC, OA, IDOM and
ARQMAQ for all their cooperation and enthusiasm of the
work. The user partners especially OA, IDOM and
ARQMAQ have made extremely valuable suggestions
and feedback to the development of the work presented
here. For a global view of the system, please see
www.m3d.org for more details.

5HIHUHQFHV
[1] A. Almeida and C. A. Belo. ‚ÄúSupport for Multimedia
Cooperative Sessions over Distributed Environments.‚Äù
3URF 0HGLDFRPP¬∂, Society for Computer Simulation,
Southampton, April, 1995.

Proceedings of the Sixth International Conference on Information Visualisation (IV‚Äô02)
1093-9547/02 $17.00 ¬© 2002 IEEE

[2] Bas Tummers et. al., Report on the development of M3D
database, Esprit Project No. 26287 (M3D), Deliverable 3.1.1,
October, 1999.
[3] CAD
Studio,
‚ÄúVRMLout
for
AutoCAD‚Äù,
http://www.cadstudio.cz/indexuk.html.
[4] David Casta√±eda, Jorge Silva, Jos√© Manuel Fonseca, In√™s
Torres, Miguel Villar, Marc Albiol, Report on the user trial
evaluation , Esprit Project No. 26287 (M3D) Deliverable 5.3,
March 2001.
[5] Dias, J.M.S. et al, ‚Äú$UFKLWHFWXUH 3URFHVV PRGHO¬¥ ESPRIT
Project No. 26287 (Multi-site cooperative 3D design system
for architecture) Deliverable 1.1.2, Sept. 1998.
[6] Dias, J. M. S., Gamito, M., Silva, J., Fonseca, J., Luo, Y.,
‚ÄúInterference Detection in Architectural Databases‚Äù, Short
paper Eurographics 99, Milan, September 1999.
[7] R. Galli, Y. Luo. ‚Äú Mu3D: A Causal Consistency Protocol for
a Collaborative VRML Editor‚Äù, 3URFHHGLQJ RI WKH
950/¬∂ 6\PSRVLXP, Monterey, CA, Feb. 2000, ACM
SIGGRAPH.
[8] Y. Luo, R. Galli, M. Mascaro, P. Palmer, F. J. Riera, C.
Ferrer, S. F. Alves, ‚ÄúReal Time Multi-User Interaction with
3D Graphics via Communication Network,‚Äù 3URFHHGLQJV RI
,(((  &RQIHUHQFH RQ ,QIRUPDWLRQ 9LVXDOL]DWLRQ, July
1998, London.
[9] Y. Luo, R. Galli, A. Almeida, M. Dias, A Prototype System
for Cooperative Architecture Design, Proceedings of IEEE
Symposium on Information Visualization, July 1999,
London.
[10] Y. Luo, D. S√°nchez, S. Alves, M. Dias, R. Marques, A.
Almeida, J. Silva, J. Manuel , , B. Tummers (EDC), Ed.
R.Galli, ‚Äú0' WHFKQLFDO VSHFLILFDWLRQV‚Äù, ESPRIT Project
No. 26287 M3D, Deliverable 1.2, April1999.
[11] Luo Y., Galli R., Dias M., Gamito M., Fonseca J. M., Silva
J., 2002 Cooperative Integration of Architectural Design In
3D, The Ninth International Conference on Computing in
Civil and Building Engineering, April 3-5, 2002, Taipei,
Taiwan.
[12] D. S√°nchez, A. F. Bennasar, R.
Galli, Y. Luo,
Implementation of mechanisms for concurrent 3D design and
visualisation, Proceedings of IEEE 2000 Conference on
Information Visualization, July 2000, London, pp. 179 - 184.
[13] Product Data Representation and Exchange, Part 230 Building Structural Frame: Steelwork, ISO TC184/SC4/WG3
N551, Working Draft12 October 1996.

