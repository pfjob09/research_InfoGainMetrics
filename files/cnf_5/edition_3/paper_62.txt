Fifth International Conference on Computer Graphics, Imaging and Visualization
Visualisation

A Real Time Simulation of Flood Hazard
1st Jasrul Nizam Ghazali, 2nd Amirrudin Kamsin
Faculty of Computer Science and Information Technology, University Malaya,
50603 Kuala Lumpur, Malaysia
{jn6050@yahoo.com, amir@um.edu.my}
rivers improvement, retention ponds, Integrated River
Basin Management (IRBM), preparation of guidelines
and design standard and resettlement of population are
some of present countermeasures to cater the flood
problems in Malaysia. The increasing incident involving
flash flood was reported. Some of the incidents involved
major cities like Kuala Lumpur. Among the identified
factors that lead to this incident was localized
thunderstorm development and heavy intense of rain
occurred in a short time period over several place in the
city.
However, studies already stated that rapid
urbanizing in major cities was the main cause. Major
cities such as Kuala Lumpur grew at the confluence of
the Kelang and Gombak river and are exposed to flood
risk. Situated in a flood plain, Kuala Lumpur has
experienced a number of major flood events. The 1971
flood incident resulted in extensive damage with nearly
445 hectares of the city were inundated and damage
suffered was estimated around RM 36 million [1].
The usage of Geographical Information System
(GIS) technology has play a major part in supporting and
helping the study of hazardous or disaster. With the
support from satellite images or aerial imagery and the
elevation data, researcher may map the study area
exactly as real. The study area is made visible and
researchers may interacts real time with the virtual
environment and perform analysis and decision purposes.
This was also being enhance by the growth of computer
graphic arena especially in fluid simulation areas.Fluid
simulation has become a popular tool in the computer
graphic arena for generating realistic animations of
water, smoke, explosion and other fluid objects.
Computer graphic experts modified the physic-based
formula to define fluid and created various algorithms in
computer graphic arena. Among the common ones are
Eulerian grid-based methods, Smoothed Particle
Hydrodynamics (SPH) methods, Vorticity-based
methods and Lattice Boltzmann methods. These
algorithms was used to create fluid objects and mostly
was applied in movie industries for visual effects.
In this paper, we describe a method to model and
simulate fluid objects using Particle-Based methods. The
aim is to examine the adaptability of this techniques for
environmental studies, in this case flood and its

Abstract

Kuala Lumpur city is located at the confluence of
two rivers and are flood prone area. With rapid
development and uncontrolled town planning, the city
had experience several major flash flood incidents and
have caused tremendous damage to country. This
research describes a study made to model and simulate
the flash flood incident that struck Kuala Lumpur on 10
June 2007 using 3D Computer Graphic and fluid
simulation techniques. The aim is to examine the stability
and effectiveness of this approach as a solution tool for
environmental hazard studies. Particle-Based method
used to model the fluid objects using MAYA software.
Light Detection and Ranging (LIDAR) data and remote
sensing imagery were used to model the study area. The
main contribution of this study is the introduction of this
approach to enhance realistic visualization for
environmental studies thus enable better planning and
countermeasures created to prevent the disaster.
Keywords--- Three Dimensional (3D), Computer
Graphics,
Fluid
Simulation,
Particle-Based,
Geographical Information System (GIS), Light
Detection and Ranging (LIDAR), Digital Elevation
Model (DEM)

1. Introduction
Flood can be categorized as one of the main
problems faced by Malaysian citizens. Every year,
during the monsoon period and heavy rainfall, this
disaster will strike flood risk area in our country no
matter whether it is rural area or urban area. The disaster
results in tremendous damage to people and their
belongings and cause great loss to the country and
economic growth. Relevant government agencies experts
and researchers have been working hard to solve this
problem. Various methods and techniques are being
implemented including creating a multi purposes dams,
bunding of rivers, construction of Stormwater
Management and Road Tunnel (SMART) tunnel and
Flood Warning System had been implemented to control
the impact of flood hazard in Malaysia. Efforts such as

978-0-7695-3359-9/08 $25.00 © 2008 IEEE
DOI 10.1109/CGIV.2008.29

393

effectiveness in a real time environment system. GIS
LIDAR DEM data and remote sensing images were
utilized to create a 3D ground model for the study area.
MAYA software was used to animate the fluid objects
which represent flood movement. 3D application MAYA
particle system was tested to create fluid based objects..
A final prototype real time system which depicts the
flood movement developed using MAYA with
programming interface shows animation of flooding
events are evaluated for their real-time effectiveness. The
flash flood incident that struck Kuala Lumpur on 10 June
2007 was be used as reference for this study.

(1)
A scalar A is interpolated at location r by a weighted
sum of contributions from the particles where j iterates
over all particles in the scene, mj is the mass of particle j.
rj the position, ρj the density and Aj the field quantity at rj.
.The W(r,h) is called smoothing kernel with core radius h
[9].

2.1. GIS for Flood Modeling and Analysis
The GIS and remote sensing data are substantial in
environmental studies especially related to flood hazard.
Many environmental experts described that GIS
technology has played an instrumental part in the
development of a real-time simulation. With powerful
data such as LIDAR and DEM, and the support from
remote sensing high-resolution imagery, it is clear that
these techniques are significant for environmental
studies. Most of flood related studies used these data
depend on their research scope. A research by University
of Texas on evaluation of GIS used for hydrological and
hydraulic modeling, it states that during a sent out to the
fifty state highway agencies related to hydrology and
highway work, thirty two responses on implementing
GIS for mapping and data management.
A DEM data is a digital representation of ground
surface topography or terrain. DEM data is significant
for environmental studies especially hydrological areas
[10]. Another study showed the potential of LIDAR
DEM data to support a flood simulation process in urban
areas. The study also evaluated the effect of the DEM
averaging process, as caused by selected re-sampling
procedures on the flood model simulation results. During
the research development, they found out that airborne
remote sensing data such as LIDAR DEM could provide
high quality digital terrain models that could serve as
input in the hydraulic flood modeling [11]. Another
usage of the LIDAR DEM is for the virtual city
development. Lohr, U., describe the various application
used by the LIDAR data, explains on the benefits of
using Laser Scan DEM for the development of a 3D
virtual city. This paper describe that with 1 meter raster
LIDAR DEM data, if overlaid with a scanned aerial
photograph, form an excellent data base for the 3D city
models used in applications such as simulation of floods
and diverse virtual reality applications [12].

2. Previous Works
The computer graphics fluid simulation was
generated based on the Navier-Stokes equations. The
Navier-Stokes equation is the physic-based equations
that describe the dynamic of fluid. This equation has
enable more computing techniques for fluid simulation
being developed. The initiative started with the
introduction of the Computational Fluid Dynamics
(CFD). CFD is one of the fluid mechanic branches that
uses mathematical calculations to simulate the
interactions of fluids and liquid often used in engineering
fields. It started in early 1970’s, and it became an
acronym for a combination of physics, numerical
mathematics and computer science to simulate fluid
flows [2]. Since the introduction of CFD, several more
methods and approaches were developed. Among the
common ones are Eulerian grid-base methods, Smooth
Particle Hydrodynamics (SPH) derived from Lagrangian
methods and Lattice Boltzman methods. In computer
graphics the Lagrangian particle-based fluid was
introduced to computer graphic by [3] and then extended
to the semi- Lagrangian method by Stam [4].[5]
introduce the particle system to model a class of fuzzy
objects or fluid objects. Since then, both particle-based
Lagrangian approach and the grid-based Eulerian
approach have been used to simulate fluids in computer
graphic according to Miller [6].
Smoothed Particle Hydrodynamics (SPH) is a
Lagrangian approach in the CFD arena, where the flow is
modeled as a collection of particles that move under the
influence of hydrodynamics and gravitational force. SPH
was initially introduced by [7] and [8] to solve
astrophysics problems. Because of it advantages over
other techniques to solve complex fluid phenomena, it
has been widely used and applied in the fluid dynamics
simulations. The SPH was first tested as the numerical
solution for gas flow problems for astronomical interest.
SPH is an interpolation method for particle system. In
the SPH method, the state of system is represented by a
set of particles, which process individual material
properties and move according to the governing
conservation equations. With SPH, field quantities that
are only defined at discrete particle locations can be
evaluated anywhere in space. With this purpose, SPH
distributes quantities in a local neighborhood of each
particle using radial symmetrical smoothing kernels [6].

3. Implementation Approach
The development is divided into three steps which
are the ground surface modeling, generation of 3D
computer graphics fluid simulation and finally
development of a prototype real time simulation system.
Ground model involves the used of GIS LIDAR DEM
and remote sensing data was to model the study area.
The river level data and rainfall data was used as input to
create the fluid simulation to represent flood movements.
Figure 1 depicts the full approach used for development.

394

Fig.3 .Satellite image drape onto LIDAR DEM

Fig.1. Conceptual Research Methods for the study

3.1. Ground Modeling

3.2. Fluid Modeling

The area of interest focus on the confluence of two
major rivers in Kuala Lumpur which was the high risk
for initiating the flash flood. Figure 2 illustrates the study
area.

The river level data act as a reference for the
generation of fluid movement. It is the objectives of this
research to simulate an actual flash flood incident dated
10 June 2007. Due to that, the data obtained is at the same
date as the incident. The river level in meter for the area
of interest is obtained from Jam. Tun Perak Station. This
is the nearest station that holds the data for the study area.
Then we align the point elevation on the LIDAR DEM
with the river cross section to determine the water level
for the area. We pinpoint the exact height from the
LIDAR DATA to identify water level risk for simulation
and compared it with the cross section. The 3D scene was
then imported into MAYA to create the water simulation.
The water simulation was done using particle-based
method showing water movement. The idea was to
determine the process in real-time basis. Figure 4
illustrate the river cross section with water level
information for the area of interest.

Gombak
River
Klang
River

Fig.2. The area of interest
Using GIS approaches, we are able to drape both
images to create the ground model of the study area..
First we utilize the LIDAR DEM to extract the elevation.
Then we drape the satellite images on top of it for better
object viewing. Figure 3 shows the study area with
satellite image drape on top of LIDAR data.

Fig.4. The area of interest river cross section

395

We created 12000 particles to simulate the water and
tested the animation in a real-time of 18fps. The results
show that with reduce particle, less computations used
and accuracy of the simulation can be enhance. This
study proves that via 12000 particles, it can handle a
fluid simulation with range 10,000m2 using this
approach. The simulation step was calculated in 3
seconds showing the water movement from 25.4 meter to
30 meter. The next figure shows the particles created on
the ground surface as at 7p.m. with 26.5 meter water
level.

3.3. Simulation and Result
We implement the Particle-Based method to create
the water flow in MAYA. We simulated the water using
12,000 particles. First we import the elevation of the
study area. The study area is being reduced due to
memory consumption. First we test the particle
simulation within the river confluence area. We refer to
the river level data and compare it with the static water
simulation for the study area. The static simulation is
based on LIDAR DEM data which we align the water
level according to time. The next figure illustrates more
on the steps taken before implementing the graphical
approach. The table below shows the water level for the
study area during flash flood incident dated 10 June
2007.
Time
Jam. Tun Perak Station (m)
6.00 p.m
25.4
7.00 p.m
26.5
8.00 p.m
30.6
9.00 p.m
31.0
10.00 p.m
31.0
11.00 p.m
31.0
Table 1. River Level (m) for Jam. Tun Perak
Station on 10 June 2007

Fig. 7. Water level as at 7p.m.

We then create a static water simulation to identify the
affected area. We extract the ground surface into MAYA
applications and reduce it to minimize memory
consumption. First images shows water levels as at 6p.m
(25.4 meters), second images shows water levels as at
8.p.m (30.0 meters) and third images shows water levels
as at 11 p.m. (31.0 meter).

Fig. 8. Water level as at 9.30 p.m.

Fig. 5. Water movements during flash flood

Conclusions
We described an approach to examine the capability
of computer graphics techniques to support
environmental hazards studies. With relevant hardware,
larger areas of simulation can be implemented. With
increasing research in computational fluid simulation
arena, higher chances of reducing computation process
and real-time computing using computer graphics. The
next step is to enhance the simulation process by
applying specific algorithm which can simulate larger
amount of particle with enhance real-time simulation.
Future test will also include enhancing the virtual

.
Fig. 6. The reduce study area.

396

environment for ground modeling to achieve better
realism and optimize simulation results.

References
[1]

A. Keizrul. Stormwater Management and Road Tunnel
(SMART) An Underground Approach to Mitigating
Flash Floods. In International Workshop on Flash
Floods in Urban Areas and Risk Management, Muscat,
Oman. Sept 2006.
[2] J. Blazek. Computational Fluid Dynamics: Principles and
Applications. , Elsevier Science Ltd., 2001.
[3] N. Foster and M. Dimitri. Realistic Animations of
Liquids. In Graphical Models and Image Processing.
Vol.58, No.5, 471-483.1996.
[4] J. Stam. Stable Fluids. In Proc. SIGGRPAH 99, New
York. ACM Press, 121-128. 1999.
[5] W.T. Reeves. Particle System – A technique for
modeling a class of fuzzy objects. In ACM SIGGRAPH
Computer Graphics1993. Vol.17, No.3, 359-375. 1993.
[6] M. Miller et. al. Particle-Based Fluid Simulation for
Interactive Applications. In Proceeding of the 2003 ACM
SIGGRAPH / Euro graphics symposium on Computer
Animation, San Diego, California .July 2003.
[7] L.B. Lucy. A Numerical Approach to the Testing of the
Fission Hypothesis. In The Astronomy Journal. Vol.82,
No.12, 1013-1024. 1977.
[8] R.A. Gingold and J.J. Monaghan. Smoothed particle
hydrodynamics: theory and application to non-spherical
stars. In Monthly Notice of the Royal Astronomy
Society. Vol.181, 375-389. 1977.
[9] P. Horvath and D. Illes. SPH-Based Fluid Simulation for
Special Effects. In The 11th Central European Seminar
on Computer Graphics 2007, Budmerice, Slovakia. April
2007.
[10] J. R. Chris. Development of GIS Techniques for
Automated Topographic and Hydrologic Analysis. Thesis
(PhD). Wollongong University, Australia. url:
www.library.uow.edu.au/adt-NWU/public/adtNWU20041216.122353/index.html
[11] T.H. Alemseged and T.H.M. Rientjes. Effects of LIDAR
DEM Resolution in Flood Modeling : A Model
Sensitivity Study for the City of Tegucigalpa, Honduras.
In ISPRS WG III/3, III/4, V/3 Workshop “Laser Scanning
2005”Enschede, Netherlands. Sept 2005. url :
www.commission3.isprs.org/laserscanning2005/papers/1
68.pdf
[12] U. Lohr. Laserscan DEM for various applications. 1998.
url :

http://www.ifp.unistuttgart.de/publications/commI
V/lohrs1.pdf

397

