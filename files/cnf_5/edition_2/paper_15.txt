2009 Sixth International Conference on Computer Graphics, Imaging and Visualization

A Motion Retargeting Method for Topologically Different Characters
Wenyu Lu, Yan Liu, Jizhou Sun, Libo Sun
School of Computer Science and Technology, Tianjin University, Tianjin 300072, China
{fatcatlwy@gmail.com, daisy_liu@tju.edu.cn, jzsun@tju.edu.cn, slb1210@yahoo.com.cn}
ground. Our algorithm can be applied to real-time motion
retargeting between characters with the same or different
topological structures. Phenomena of feet unable to reach
the ground, footskate and foot going into the ground are
eliminated.
This paper is organized as follows: in the next
section, we briefly review related work. Section 3 mainly
discusses our motion retargeting method, especially the
adaptation algorithm. Section 4 demonstrates the
implementations and results. We conclude with a brief
discussion of the method’s advantages and limitations in
section 5, with directions for further work.

Abstract
In this paper, we present a real-time method for
motion retargeting between topologically different
characters. An intermediate skeleton is used for setting
correspondence between nodes of the source skeleton
and the target skeleton. When animal-to-human motion
retargeting is performed, segment lengths of the
intermediate skeleton are adjusted to address the
problem such as upper limbs unable to reach the ground.
To get a satisfactory motion, an improved adaptation
principle based on end effector constraints is introduced
for eliminating undesirable phenomena.

2. Related works

Keywords--- Motion Editing, Motion Retargeting,
Intermediate Skeleton, end effector

Michael Gleicher [1] proposed the term Motion
Retargeting Problem in 1998. He mainly focused on
adapting the motion of one articulated figure to another
figure with identical structure but different segment
lengths. To address the problem of retargeting between
characters with different structures, Monzani [2]
introduced a method to convert movements by using
intermediate skeleton. Ming-Kai Hsieh [3] also presented
an interactive system for motion retargeting in different
articulated figures. This system establishes a union
skeleton that contains bone structures of the source
skeleton and the target skeleton. Then, with the initial
poses aligned, motion data can be transferred between
them.
There are also some related works aimed at solving
the problem of preserving the basic features of the
original motion. Gleicher [1,8] defines motion
retargeting as a complex constraint formulation, and tried
to reduce the computational costs. Popovi`c and Witkin
[4] proposed an algorithm to solve motion transformation
problem by combining a hierarchical curve fitting
technique with a new IK solver. The system maintains
the desired features that are specified by a set of
constraints to compensate for geometric variations
caused by both characters and environments. Unlike
Michael Gleicher [1,8], who addressed motion
retargeting as a large non-linear optimization problem,
they decoupled this problem into manageable
subproblems that can be efficiently solved.

1. Introduction
With the advances in motion capture techniques,
animators are able to obtain large amount of realistic
motion data through optical or magnetic devices. By
reusing these motion data, we can simplify the tedious
process of animation creation. One of the main
techniques for editing captured motion data is Motion
Retargeting, that is, to adapt a motion from one character
to another. In most cases, the retargeted motion is
supposed to preserve important aspects of the original
motion and not to violate specific constraints. For
instance, the feet must touch the ground without going
into the ground.
This paper presents an improved method for motion
retargeting between topologically different characters by
using intermediate skeleton. Unlike the approach
proposed by Monzani, our method uses the intermediate
skeleton rather than the target skeleton for the retargeted
motion, thus the process is simplified by that way. When
animal-to-human motion retargeting is performed,
segment lengths are adjusted for intermediate skeleton to
address the problem such as upper limbs unable to reach
the ground. An adaptation principle based on endeffector constraints is introduced in this paper. By this
principle position of the constrained end-effector is
computed, and the height of the root should be adapted to
ensure all limbs touch the floor without going into the
978-0-7695-3789-4/09 $25.00 © 2009 IEEE
DOI 10.1109/CGIV.2009.53

96

Since spacetime constraint methods often involve a
tedious and time consuming procedure for solving the
retargeting problem, some related work has focused on
faster algorithm to achieve real-time performance. Choi
[5] proposed a real-time retargeting method based on
inverse rate control, computing the optimization solution
for a single frame each time. However, Tak [6] pointed
out that this method is likely to give rise to the problem
of discontinuity. Monzani [2], Yang Shi-nine [9]
computed the rotational value of each joint by using
inverse kinematics, but this might change the
characteristics of the original motion and violate
movement balance and kinematics properties. Hence, we
are aiming at finding an approach that is fast enough for
real-time retargeting while satisfying physical and
kinematical constraints.

the length of upper limbs, they finally touch the ground (in the
middle) as the source skeleton (on the right).

3.3. Undesirable results of motion retargeting
For characters with the same joint angles but
different skeleton lengths, their moving velocities also
vary from each other. If we adapt the captured motion
data to an animation character with shorter skeleton
directly (that is, we map the captured root translation
parameters and rotation angles of each joint onto the
target character directly), the root velocity of the
character increases while the number of footsteps
remains the same. This would result in feet skidding on
the floor, as is shown in figure 2. Retargeting motions to
a character with shorter or longer skeleton can also cause
problems, such as feet going into the ground or not able
to touch the floor, which is shown in figure 3.

3. Constraint-based control of motion
3.1. Using intermediate skeleton
When we retarget motions between skeletons with
different structures, the values of the source skeleton
cannot be mapped onto the target skeleton directly due to
their different proportions, hierarchies and local axis
systems. Hence, we use an intermediate skeleton [2] to
set correspondence between the two structures.
According to Monzani, the intermediate skeleton shares
identical structure and coordinate system with the target
skeleton. To avoid discontinuity and unnaturalness, we
need to reorient the intermediate skeleton bones in
accordance with the initial posture of the source skeleton.
Unlike the approach proposed by Monzani, the
retargeting process is simplified by using intermediate
skeleton directly rather than target skeleton for the
retargeted motion.

Figure 2: Left: feet skidding when retargeting motion to a
character with shorter skeleton. Right: normal walking motion
[1]

3.2. Adjusting proportions of the intermediate
skeleton

Source

target

source target

source

target

Figure 3: Feet cannot touch the ground when retargeting

When considering motion retargeting from animal
skeletons onto human skeletons, problems may arise due
to different proportions of the length of upper limbs to
the length of lower limbs. The root position of an
intermediate skeleton is computed according to the end
effector position, which is specified as a constraint. For a
human skeleton, when we define a constraint that feet
must touch the ground, it is possible that hands cannot
touch the ground since arms are shorter than legs.

motions to a character with shorter skeleton (a); feet go into the
ground when retargeting motions to a character with longer
skeleton (b); when we retarget horse motions to a human
character, the limbs of the target character cannot touch the
ground(c)

3.4. Constraint-based adaptation approach
To solve the problems mentioned above, we present
an improved per-frame approach based on end effectors
constraints. When considering motion conversion
between characters with different structures, we retarget
motions to an intermediate skeleton. For characters with
the same structure, motions are mapped onto the target
skeleton directly. Both these two kinds of retargeting
reestablish the constraint that feet touch the floor in their
targeted motions. For convenience, in the following
sections, the term target skeleton refers to both
intermediate skeleton and target skeleton.

Figure 1: We retarget horse motions onto a human skeleton.
Without adjustment, the upper limbs of the intermediate
skeleton (on the left) hang above the ground. After we adjust

97

¾ How to choose the constraint point
In this paper, animal-to-human retargeting and
human-to-human retargeting are researched respectively.
If the source skeleton is a human skeleton, the nodes
which can touch the floor are left ankle (LANKLE), right
ankle(RANKLE), left toe(LTOE), right toe(RTOE);
while for a animal skeleton, they are left forefoot
(LTOE1),
right
forefoot(RTOE1),
left
back
foot(LTOE2), right back foot(RTOE2). These four nodes
are used as the end effectors.
In the first frame, we compare each end effector
position of the source skeleton, and specify the effector
that is closest to the ground as the hard constraint for
target skeleton. Then the global translational value of the
root node is computed by using inverse kinematics. In
other frames, for the purpose of avoiding discontinuity
and skidding, we should not use the end effector position
of the original motion as the hard constraint for the target
skeleton. Instead, we find out the end effector that is
closest to the ground of the original motion and specify
its corresponding position of the target skeleton as a hard
constraint.
¾ Computing the constraint point position
Let Pmw (i ) be the value of the mth end effector in

Ci | y = Pmw ' (i ) y = Pmw (i ) y
Now, with the end effector constraint value, we can
compute the root position V0w' (i) by using Inverse
Kinematics. The above calculating steps ensure feet not
to skid and the hard constraint point not to hang above or
go into the ground. However, due to different
proportions between the source skeleton and the target
skeleton, it is possible that those three non-constraint end
effectors violate the specified constraints, such as going
into the ground. To solve this problem, we make slight
adjustment to the root position:

V0w ' (i ) = V0w ' (i ) − Ymin (Ymin < 0)
where Ymin is the smallest y-axis value among the
three non-constraint end effectors. If Ymin < 0 , we “pull” up
the root of the target skeleton by Ymin to ensure that all
the end effectors will not go into the ground.

4. Experiments and Results

global coordinate in the ith frame. For retargeting
between human skeletons, m=1 is LANKEL, m=2 is
RANKLE, m=3 is LTOE, m=4 is RTOE; for retargeting
from an animal skeleton to a human skeleton, m=1 is
LTOE1, m=2 is RTOE1, m=3 is LTOE2, m=4 is
RTOE2. If the height of the mth end effector is the
smallest, we define its position as the constraint in the
first frame.
In other frames, the constraint position must be
recomputed. For the characters with the same structure
but different skeleton lengths, the ratio of displacements
equals to the ratio of skeleton lengths [13,14]. Thus, the
constraint position can be calculated as follows:

4.1. Retargeting between human characters with
the same structure
A boxing motion captured using a motion capture
device was used as the original motion in this
experiment. This motion clip contains 512 frames with a
0.016667s interval between adjacent frames when
sampling and a 0.03333s interval when playing
animation. The target skeleton has the same structure but
half the segment lengths of the source skeleton. Our
algorithm can successfully preserve the original posture
and solve the problem that feet cannot touch the ground,
as is shown in Figure 4. The speed for performing
motion retargeting is 30 fps.

Ci = Pmw' (i) = Pmw' (i −1) + scale '× (Pmw (i) − Pmw (i −1))
n

scale =

∑L
k =1
n

'
k

∑ Lk

(n is the number of bones)

k =1

(a) Frame 1

⎧ scale , scale ≤ 1
scale ' = ⎨
⎩ 1 , scale > 1

(b) Frame 144

Figure 4: We retarget a box motion from a human character
to another with the same structure. From left to right: source
skeleton, targeted skeleton with constraints, and targeted
skeleton without constraints.

where Ci is the constraint position in the ith frame
and scale is the ratio of lengths of lower limbs between
the source skeleton and the target skeleton. Since
variation would be exaggerated when scale exceeds 1,
we use scale ' instead of scale (exaggeration might result
in foot skidding or going into the ground).
At the same time, y-axis value of Ci should remain
the same as the original motion:

4.2. Retargeting between human characters with
different structures
A walking-to-standing motion clip contains 134
frames with a 0.130s interval between adjacent frames

98

Figure 6: We retarget a horse motion to a human character.
From left to right: source skeleton, intermediate skeleton with
constraints, and intermediate skeleton without constraints.

when sampling and a 0.03333s interval when playing
animation. The source character has 24 joints, while the
target character has 23 joints with different skeleton
lengths and different local axis systems. Since the two
skeletons have different structures, the motion is adapted
to the intermediate skeleton rather than the target
skeleton. Figure 5 shows that the retargeted motion
preserves the posture in each frame of the original
motion, without foot skidding, hanging above the floor
or going into the ground. 4. The speed for performing
motion retargeting is 28 fps.

Conclusions
In this paper, we present an improved algorithm for
defining the correspondence between topologically
different characters by using an intermediate skeleton,
which was first proposed by Monzani. To avoid
footskate, feet going into the ground or unable to touch
the floor, an adaptation principle based on end-effector
constraints is also proposed in this paper. Our method
can be successfully applied to retargeting between
characters with different structures, while satisfying
kinematics and physical constraints. Experiment results
illustrate this method can be performed in real time. One
limitation of our approach is that the source character
must be more complex than the target character. Since a
relatively complex skeleton has more nodes, there’s no
corresponding motion data for the nodes that are absent
in a simple skeleton. Thus, we cannot retarget motions
from a simple skeleton to a complex skeleton using our
method. How to solve this problem can be considered as
the next step of our research.

Acknowledgements
This work was supported by the Technologies
Research and Development Cultivation Program of
Tianjin under Grant No. 06YFGZGX06200, the Applied
Basic Research and Cutting-Edge Technology Research
Scheme of Tianjin under Grant No. 08JCYBJC14300,
National Science Foundation of China under Grant No.
60776807, Key Topic of 863 Program under Grant No.
2006AA12A105 and Key Projects in the Science and
Technology Pillar Program of Tianjin under Grant No.
08ZCKFGX04100.

Figure 5: We retarget a walking-to-standing motion
(above) to a human character with different structure (below).
4.3. Retargeting from animal characters to
human characters
A jumping motion of a horse captured using a
motion capture device was used as the original motion in
this experiment. This motion clip contains 115 frames
with a 0.03333s interval between adjacent frames when
sampling and the same interval when playing animation.
The intermediate skeleton is required for retargeting due
to different structures of human characters and horse
characters. Figure 6 shows that the retargeted motion
preserves the characteristics of a horse and the specified
constraints are not violated. Figure 7 provides several
snaps of the retargeted motion. The speed for performing
motion retargeting is 28 fps.

References
[1]

[2]

[3]

[4]

(a) Frame 15

(b) Frame 100
[5]

99

M. Gleicher. Retargeting Motion to New Characters[C].
In: Proceedings of the 25th annual conference on
Computer graphics and interactive techniques. New
York, NY, USA: ACM Press, 1998. 33~42
J. S. Monzani, P. Baerlocher, R. Boulic, et al. Using an
Intermediate Skeleton and Inverse Kinematics for
Motion Retargeting[C]. Eurographics Eds. M. Gross and
F. R. A. Hopgood, 2000, 19(3)
M. K. Hsieh, B. Y. Chen and M. Ouhyoung, Motion
Retargeting and Transition in Different Articulated
Figures[C]. In: Proceedings of 2005 International
Conference on Computer Aided Design and Computer
Graphics, Hong Kong, China, 2005. 457~462
Z. Popovic, A. Witkin, Physically Based Motion
Transformation[C]. In: Proceedings of the 26th annual
conference on Computer graphics and interactive
techniques. New York, NY, USA: ACM Press/AddisonWesley Publishing Co, 1999. 11~20
J. Lee, S. Y. Shin, A Hierarchical Approach to
Interactive Motion Editing for Human-Like Figures[C].
In: Proceedings of the 26th annual conference on

Computer graphics and interactive techniques. New
York, NY, USA: ACM Press/Addison-Wesley
Publishing Co, 1999. 39~48
[6] K. J. Choi, H. S. Ko, Online Motion Retargeting[J]. The
Journal of Visualization and Computer Animation. 2000,
11(5): 223~235
[7] Tak Seyoon, Hyeongseok Ko, Example guided inverse
kinematics[A]. In: the Proceedings of the International
Conference on Computer Graphics and Imaging(CGIM)
2000[C], Las Vegas, Nevada, USA, November 2000[C],
Las Vegas, Nevada, USA, November 2000: l9～23
[8] M. Gleicher, Motion Editing with Spacetime
Constraints[C]. In: Proceedings of the 1997 symposium
on Interactive 3D graphics. New York, NY, USA: ACM
Press, 1997. 139~148
[9] Yang Shi-nine, Chang Chia-ming, Chao Shi-pin, Motion
Retargeting with Geometry Scaling[J].Journal of Image
and Graphics.2002，7(9): 871~875
[10] M. Gleicher, P. Litwinowicz, Constraint-based Motion
Adaptation[J]. Journal of Visualization and Computer
Animation. 1998, 9(2): 65~94
[11] Luo Zhongxiang, Zhuang Yueting， Liu Feng, SpaceTime Constraints Based Motion Editing and Motion

Retargeting[J]. Journal of Computer-Aided Design &
Computer Graphics. 2002, 14(12): 1146~1150
[12] C. F. Rose, B. Guenter, Bobby Bodenheimer. Efficient
Generation of Motion Transitions Using Spacetime
Constraints[C]. In: Proceedings of the 23rd annual
conference on Computer graphics and interactive
techniques. New York, NY, USA: ACM Press,
1996.147~154
[13] S. Guo, J. Roberge, A high-level control mechanism for
human locomotion based on parametric frame space
interpolation[C]. In: Proceedings of the Eurographics
workshop on Computer animation and simulation’96.
New York, NY, USA: Springer-Verlag New York, Inc.,
1996. 95~107
[14] N. Pollard, Simple Machines for Scaling Human
Motion[C]. Eurographics workshop on Animation and
Simulation, 1999

Figure 7: Snaps of the horse-to-human retargeted motion

100

