VACCINATED - Visual Analytics for Characterizing a Pandemic Spread
VAST 2010 Mini Challenge 2 Award: Support for Future Detection
Abish Malik∗

Shehzad Afzal∗
∗ Purdue

Erin Hodgess†

David S. Ebert∗

Ross Maciejewski∗

Visual Analytics Center - Purdue University
of Houston - Downtown

† University

1 I NTRODUCTION
Given a set of hospital admittance and death records, the challenge
was to characterize the spread of a pandemic in terms of the attack and mortality rates, spatiotemporal patterns of onset and the
recovery time. We began the analysis by preprocessing the hospital admittance records using the University of Pittsburgh’s CoCo
classifier [1]. CoCo is a text classification software that takes hospital admittance fields and classifies them into chief complaint categories (Botulinic, Constitutional, Gastrointestinal, Hemorrhagic,
Neurological, Rash, Respiratory, and Other). The choice of the
CoCo classifier was based on its online availability as well as its
well documented classification performance metrics, see [1].
Once the data was classified, we utilized and extended work done
by the Purdue University Visual Analytics Center on healthcare
analysis [2]. Our system consists of a combination of linked views,
showing time series views of syndromes and death rates through
line graph views (Figure 1 - Top), stacked graph views showing
deaths (Figure 1 - Bottom), geographical map views showing the
impact by country (not illustrated in this paper), and summary windows providing statistical breakdowns of the data (not illustrated in
this paper). All views are linked through an interactive time slider
that allows users to explore the data over time. Extensions to our
previous work [2] include the stacked graph view, summary windows, new control chart methods, and an interactive ‘tape measure’
tool.
2 T IME S ERIES A NALYSIS
Underlying the views, we apply analytical algorithms based on
typical control charting methods for time-series anomaly detection
over the categorical chief complaints. These analytical algorithms
feed back into the visualization as glyphs within the time-series, denoting when anomalous patterns have occurred in the data. These
temporal anomalies represent deviations from the expected values
and indicate a need to investigate the current status of the data.
An Exponentially Weighted Moving Average (EWMA) control
chart with a 99% confidence interval upper bound was used for
event prediction and detection. In the line graph view (Figure 1 Top), the selected syndrome (or syndromes) is automatically passed
to the EWMA algorithm. The EWMA algorithm takes the temporal
data and first smoothes the time series:
St = (1 − α )St−1 + α yt , for t ≥ 2,
where St is the smoothed series, y is the original time series and
0 ≤ α ≤ 1. To initialize the smoothed series at t = 1, we use S0 = y;
¯
that is, the sample mean:
y¯ =

1 n
∑ yt
n t=1

IEEE Symposium on Visual Analytics Science and Technology
October 24 - 29, Salt Lake City, Utah, USA
978-1-4244-9487-3/10/$26.00 ©2010 IEEE

Given the smoothed series, we calculate an upper control limit
(UCL) as:
UCL = y¯ + 3σ

α
[1 − (1 − α )2i ]
2−α

where σ is
n

∑ |yt −yt−1 |
t=2

σ=

n−1

1.128

where 1.128 is a table value from the original EWMA design [3].
For this challenge, we did not use the lower control limit, since we
were only concerned with the upper limit, as this indicated high
values of the diseases. When the smoothed series was higher than
the upper control limit, then we indicated this with red dots indicating an alert. We chose not to visualize the upper control limit as
this added more clutter to the time series view when multiple series
were plotted at once.
We let the multiplier for the control limit be 3, representing
at 99% confidence interval band for the UCL. Finally, we chose
α = 0.2 based on the typical default value given in [3]. Note that
were the data to have begun being collected during the pandemic,
then the EWMA control charting would not have detected changes
in the time series as the initial rate would have already been high.
As such, it was assumed in this challenge that there would be some
period of normalcy prior to the pandemic outbreak. It is important
to note that the EWMA control chart algorithm is interactively applied to any time series view generated by through interactive filters
in the program. Thus, the user can see the alerts for not only one
syndrome, but multiple syndromes (either combined into a single
time series of separated into its components where each component
has its own control chart applied for alert generation).
For the analysis, we visually explored each of the syndromic
categories, by country, by hospital admittance records. We found
that two categories (gastrointestinal Figure 1 (Top) and hemorrhagic) have an outstanding number of temporally contiguous alerts
in eight out of the eleven given spatial locations (Aleppo, Colombia, Iran, Lebanon, Nairobi, Saudi Arabia, Venezuela and Yemen).
Only Thailand, Turkey and Karachi seem unaffected.
3 I NTERACTIVE M EASUREMENTS
Next, our goal was to characterize the parameters of the pandemic.
To facilitate this, we implemented an interactive ‘tape measure’ tool
which the user could drag across the line graph view (Figure 1 Top). The user clicks anywhere within the line graph window, and
drags the mouse. This has an effect of creating a tape measure that
provides a distance between two points with respect to the temporal
axis. The tape measure provides three outputs, the number of days
being measured, the attack rate, and the mortality rate. For a given
syndrome, the attack rate of the syndrome is calculated as the number of patients seen with syndrome X divided by the total number
of patients seen. The mortality rate is calculated as the number of

281

Figure 1: (Top) The line graph view of the gastrointestinal syndrome category for Iran. The red dots on the time series represent alerts that fall
within the 99% confidence interval of an EWMA control chart. The line connecting the first alert and the last alert is an interactive ‘tape measure’
tool which the user can use to calculate the attack and mortality rate. (Bottom) The stacked graph death records view. The black line shows the
current day the user is exploring. The overlaid red texture shows the deaths related to patients seen on the current day under exploration.

patients seen that died from syndrome X divided by the total number of patients presenting with syndrome X. The mortality rate is
an approximate rate as we ignore patients categorized as other that
may still be demonstrating signs of infection.
Use of this tool is shown in Figure 1 - Top. Here, we have extended the tape measure over the entire series of alerts and see the
approximated mortality and attack rate (with respect to gastrointestinal syndromes) for Iran, finding a mortality rate of 8.864% and
an attack rate of 23.591%. The average mortality rate over all the
countries of interest is 10%. The average attack rate over all countries of interest is 26%.
Concurrently, we wanted to characterize the time between onset
and death. For this, we utilized a stack graph view to explore patient death records linked to those patients that had presented with
syndromes. This view shows deaths, by category, totaled by all
selected countries, visualized on a single plot. As the user scrolls
through time, a texture overlay is plotted to show links between the
current days patients and the future times in which any subset of
these patients died. From this, we can determine the approximate
amount of time it would take a patient, showing signs of a given
syndrome to die. Figure 1 - Bottom shows this view for the country
selection of Iran. We find that from hospital admittance to reported
death, the average time span in which a patient may succumb to an
illness is 8 days. This was consistent across all countries of interest
in our study.
4

PANDEMIC S PREAD A NALYSIS

Finally, in comparing outbreaks across countries and cities, we utilized the map view visualization component of our system. As we
scrolled through time, we hypothesized that the disease progresses
from Nairobi City in Kenya to Aleppo in Syria, Lebanon and Iran.

282

From there, it seems to progress to other Middle Eastern countries
(Saudi Arabia and Yemen) to South America, appearing in Colombia and Venezuela indicating that air travel may have played a part
in the pandemic spread.
ACKNOWLEDGEMENTS
This work has been supported by the U.S. Department of Homeland Security’s VACCINE Center under Award Number 2009-ST061-CI0001. A portion of this research was performed under an
appointment to the U.S. Department of Homeland Security (DHS)
Summer Research Team Program for Minority Serving Institutions
under DOE contract number DE-AC05-06OR23100.
R EFERENCES
[1] W. W. Chapman, J. N. Dowling, and M. M. Wagner. Classification
of emergency department chief complaints into 7 syndromes: A retrospective analysis of 527,228 patients. Annals of Emergency Medicine,
46:445–455, November 2005.
[2] R. Maciejewski, S. Rudolph, R. Hafen, A. Abusalah, M. Yakout,
M. Ouzzani, W. S. Cleveland, S. J. Grannis, M. Wade, and D. S. Ebert.
A visual analytics approach to understanding spatiotemporal hotspots.
IEEE Transactions on Visualization and Computer Graphics, 16:205–
220, Mar. - Apr. 2010.
[3] D. C. Montgomery. Introduction to Statistical Quality Control. Wiley:
New York, 2008.

