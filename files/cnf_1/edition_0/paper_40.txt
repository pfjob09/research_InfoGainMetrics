A Case Study: Tracking and Visualizing the Evolution of Dark Matter Halos and
Groups of Satellite Halos in Cosmology Simulations
1

1

Jay Takle , Deborah Silver , Katrin Heitmann
1

Department of Electrical & Computer Engineering, Rutgers University

2

2

High Energy Physics Division, Argonne National Laboratory

Figure1: Visualization of hierarchy of the universe. (a)The Simulated Universe: Covering a volume of (8.35x108 light-years)3 each particle in this figure
represents a dark matter tracer particle equivalent to 1011 solar masses. Approximately 100 dark matter tracer particles represent a galaxy. Particles are
colored according to their potential value (time step 499). (b)Subset of the Simulated Universe: Focusing on a smaller portion of the simulation data
shows filaments, clusters and voids that make the universe. (c)Supercluster: A supercluster as the name suggests is a cluster of smaller dark matter
tracer particle groups called Dark Matter Halos. (d)Dark Matter Halo: Dark Matter Halos or Host Halos envelope numerous smaller groups of dark matter
tracer particles called satellite halos. Each of these satellite halos would host galaxies that are held together by dark matter gravitational fields.
(e)Satellite Halo: Each satellite halo is represented by numerous dark matter tracer particles. One tracer particle is equivalent to 10 11 solar masses while
each galaxy is equivalent to 1013 solar masses. Thus a satellite halo holds a galaxy for approximately every 100 dark matter tracer particles inside itself.

ABSTRACT
In this poster, we track the evolution of cosmic structures and higher
level host structures in cosmological simulation as they interact with
each other. The structures found in these simulations are made up of
groups of dark matter tracer particles called satellite halos and
groups of satellite halos called host halos. We implement a multilevel tracking model to track dark matter tracer particles, satellite
halos and host halos to understand their behaviour and show how the
different structures are formed over time. We also represent the
evolution of halos in the form of merger trees for detailed analysis by
cosmologists.
Keywords: Group tracking, multi-level tracking, merger tree.
1 INTRODUCTION
In cosmology, dark matter is a currently unknown type of matter
theorized to account for a large part of the total mass in the universe.
Estimated to constitute 83% of the matter in the universe, dark
matter neither emits nor absorbs light or other electromagnetic
radiation, and thus cannot be directly seen with telescopes. The only
way of detecting dark matter is by observing the effect of its
gravitational forces on stars and galaxies. Scattered in the form of
clumps or in cosmological terms dark matter halos, the gravitational
forces exerted by halos aid in the formation of clusters of galaxies.
To understand the physics behind the formation of these structures
and the galaxies within, cosmologists have to accurately study the
evolution of dark matter halos over time and space. Understanding
the behaviour of dark matter holds the key to unravelling numerous
questions pertaining to galaxies and the whole universe [1].
The goal in computational cosmology is to simulate the universe
down to each of the individual galaxies. Since the physics of galaxy
formation is not known in detail, cosmologists perform a gravityonly simulation using super computers. The simulation formulated to
compute the dark matter distribution covers a massive volume of
(256 h-1Mpc)3 or (8.35x108 light-years)3 of the observable universe
and evolves 2563 dark matter tracer particles [1]. These simulations
determine the distribution of dark matter throughout the observable
universe. The dark matter halos are then extracted from the
simulations and galaxies are populated within these halos using
various methods. Approximately 100 dark matter tracer particles can
host a galaxy [5]. Instead of the simpler Halo Occupation
Distribution method [5], cosmologists can also use a more
sophisticated method that takes into account the evolution history of
IEEE Symposium
Analytics
Science
Technology
these
halos [5]. on
TheVisual
formation
time
of theandhalo
(old or 2012
young)
October 14 - 19, Seattle, WA, USA
including
events
such
as
merging
of
halos,
influences
the
galaxy
978-1-4673-4753-2/12/$31.00 ©2012 IEEE
population within. These models are checked by comparing their

results with observations from survey telescopes which map the
visible universe.
Dark matter halos have a complicated substructure and they are
dominated by primary halos known as satellite halos as shown in
figure 1(d). Gravitational forces exerted by halos and satellite halos
can give rise to various dynamic multi-level interactions. These
satellite halos can merge with other satellite halos within the same
host halo. They may also change their host halos by transferring
from one host halo to a different host halo. In this poster we apply a
tracking algorithm to follow the evolution of each satellite halo and
host halo from their birth until they either merge, split or die.
We track halos, satellite halos and individual dark matter tracer
particles as the halos and satellite halos emerge, die, merge and
continue to exist over time. This group tracking model is an
extension to the feature tracking framework [2] and also represents
the evolution of halos and satellite halos in the form of a merger tree.
We visualize the merger trees in 3D along with statistical halo
information to provide a detailed overview of structural evolution.
2 HALO AND SATELLITE HALO TRACKING
2.1 Halo Extraction and Grouping: In order to track the
evolution of satellite halos and host halos, we have to first extract
satellite halos from the simulation data. Each particle in the
simulation represents a dark matter tracer particle. As shown in
Figure 1(e) each satellite halo is made up of a group of these
particles. The particles are first grouped in halos using the friend-offriend algorithm (FOF) [7]. The simulation assigns a halo ID to
every particle. The satellite halos within are then determined by an
extended form of the friend-of friend algorithm [7]. Each host halo
envelopes a group of satellite halos as shown in Figure 1(d).
2.2 Satellite Halo Tracking: At each time step we have a list of
satellite halos, host halos and particles. To understand the evolution
of these structures we have to correlate satellite halos from one time
step to the other. Since each satellite halo consists of a group of
particles, we consequently track each dark matter tracer particle at
every time step. We track satellite halos using the feature tracking
framework in [2]. In this framework, features are tracked over time
by overlapping the area of one feature in the current time step to the
area of the feature in the next time step. Correlations are made based
upon maximum overlap. Instead of using spatial overlap here, we use
particle overlap as the particles are all referenced by unique halo
ID’s. Thus by correlating the particles in two consecutive time steps,
we find out whether a satellite halo in time step ti dies, splits into two
or more satellite halos, merges with a different satellite halo or just
continues as the same satellite halo in time step ti+1.

243

Figure 2: Merger of host halos and satellite halos from time step t138 to t174. (a)Birth of a new halo H69 enveloping a single satellite halo (particles in
white). Glyphs show direction of movement of each particle. (b)Birth of a new halo H134 consisting of a single satellite halo (particles in pink) along with
continuation of the existing white halo H69. Blue glyphs on the pink particles show halo H134 moving towards the existing white halo H69. (c)The halo H69
and the halo H134 merge into one halo represented by H69 with two satellite halos (both represented by white particles). (d)Both the satellite halos
inside halo H69 eventually merge into one satellite halo represented by white particles. (e)The Halo merger tree shows birth, continuation and merger
of halo H69 and halo H134 from time step t138 to t174. (f)The satellite halo merger tree shows birth, continuation and merger of satellite halos that are
part of halos H69 and H134 from time step t138 to t174.

2.3 Host Halo Tracking: As mentioned in the halo grouping
process in section 2.1 we assign halo ID’s to each particle before the
satellite halo tracking. Since we group the satellite halos into their
respective host halos before the tracking phase, both the satellite
halos and their host halos are tracked simultaneously.
2.4 Merger Tree: To understand the physics behind galaxy
evolution, cosmologists have to accurately know the evolution of the
dark matter halos in terms of hierarchical merging at each time step
[4]. The hierarchy of merger of halos can be represented by merger
trees [4, 6]. A Merger trees thus describes the sequence in which
halos merge and grow. Every node represents a halo and an edge
connected to the node tells about the halo’s descendents and
ancestors. Traditional visualization of halo merger trees is achieved
by representing halos in the form of circles [6]. In this poster we
extend the traditional representation by visualizing halos in 3D, thus
providing useful particle distribution and velocity information. Using
the output from the tracking modules in section 2.2 and 2.3, we
classify whether a satellite halo or host halo is born, dies, splits,
merges or continues. Depending on the classification, we update the
merger tree for that specific satellite halo or host halo. The final
result is thousand of merger trees for halos that exist at the last time
step. Cosmologists can query for interesting statistical quantities and
study the evolution of different halos by analyzing the merger tree.
Figure 2(d) shows a merger tree for the merging process of halo
H69 and halo H134. The merger tree in figure 2(e) show the births of
H69 and halo H134 along with continuation of halo H69. After a merger
process between two structures is complete, the resultant merged
structure retains the halo ID or satellite halo ID of the structure with
the smaller ID between the two participating structures. In figure
2(e), since halo H69 has the smaller ID, the merger leads to a resultant
halo with halo ID and color of H69. In figure 2(f), we also represent
interactions of the inner satellite halos in the form of merger trees.
3 VISUALIZATION: MERGER OF HALOS
3.1 Tracking: Figure 2 shows an example of the merger of halos
and satellite halos. Figure 2(a) shows the birth of a new halo H69 at
time step t138 consisting of a single satellite halo with white
coloured particles. The arrows on each particle represent the
direction of movement of each particle. In time step t155 (figure
2(b)), a new halo H134 is born, enveloping only one satellite halo
(particles shown in pink). Figure 2(c) shows the merger of H69 and
H134 into a single halo. After merging, the resultant halo retains the
halo ID and color of the smaller of the two halos ID’s, H69. The halo
merger tree in figure 2(e) gives a detailed overview of the halo
merger process.

244

3.2 Cross-Level Interactions: Satellite halos are the dominating
substructures within halos. They may interact with other satellite
halos inside the same host halo, as shown in the transition from
figure 2(c) to figure 2(d). In addition, the halos themselves may
interact with other neighbouring halos to merge into a bigger halo
over time, as shown in the transition from figure 2(b) to figure 2(c).
Tracking becomes challenging when the satellite halos participate in
cross-level interactions. Cross-level events can occur when satellite
halos change their host halos to interact with other satellite halos as
shown in figure 2(f), in the transition from time step t155 to t165.
4 DISCUSSION & CONCLUSION
In this poster we implemented the tracking framework to track
satellite halos and their host halos over time. We use the feature
tracking model in [2] and extend it to track clusters of dark matter
tracer particles (satellite halo) along with groups of satellite halos
(host halo). Both the satellite and their host halos are tracked
simultaneously. We also visualize the evolution of halos in the form
of merger trees. The merger trees will be useful for detailed analysis
of halo evolution. The merger tree data will also be used as an input
to the software for galaxy distribution analysis, GALACTICUS. This
implementation helps cosmologists understand the evolution of dark
matter halos, their complex substructure and galaxy formation.
ACKNOWLEDGEMENTS
We are grateful to the support of DOE #DE-FG02-09ER25977. This
work is part of the SciDAC Institute for Ultra Scale Visualization.
REFERENCES
[1] S. Bhattacharya, S. Habib, K. Heitmann, “Dark matter halo profiles of
massive clusters: Theory vs Observations”, The Astrophysical Journal. , 2011
[2] R. Samtaney, D. Silver, N. Zabusky, and J. Cao, “Visualizing features and
tracking their evolution”, IEEE Computer, 27(7):20–27, July 1994.
[3] J. Chen, D. Silver, and L. Jiang. “The feature tree: Visualizing feature
tracking in distributed AMR datasets.” In Proc. of IEEE symposium on
Parallel and Large-Data Visualization and Graphics 2003, 103–110, 2003.
[4] S. Cole, C. Lacey, C. Baugh and C. Frenk, “Hierarchical galaxy
formation”, Monthly Notices of the Royal Astronomical Society. 319, 168204, 2000.
[5] Z. Lukic, D. Reed, S. Habib and K. Hetimann. “The structure of halos:
Implications for group and cluster cosmology.” The Astrophysical Journal,
692:217-228, 2009
[6] D. Tweed, J. Devriendt, J. Blaizot, S. Colombi and A. Slyz, “Building
merger trees from cosmological N-body simulations”, Astronomy and
Astrophysics, 506, 647, 2009.
[7] K. Heitmann, P. Ricker, M. Warren and S. Habib. “Robustness of
cosmological simulations. I. large-scale structure.” The Astrophysical
Journal, 160:28-58, 2005.

