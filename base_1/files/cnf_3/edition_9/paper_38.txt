Real-Time Expressive Rendering of City Models
Jürgen Döllner
Maike Walther
Hasso-Plattner-Institute at the University of Potsdam
{juergen.doellner, maike.walther}@hpi.uni-potsdam.de

Abstract
City models have become central elements for visually communicating spatial information related to urban
areas and have manifold applications. Our real-time
non-photorealistic rendering technique aims at abstract,
comprehensible, and vivid drawings of assemblies of
polygonal 3D urban objects. It takes into account related
principles in cartography, cognition, and nonphotorealism. Technically, the geometry of a building is
rendered using expressive line drawings to enhance the
edges, two-tone or three-tone shading to draw the faces,
and simulated shadows. The edge enhancement offers
several degrees of freedom, such as interactively changing the style, width, tilt, color, transparency, and length
of the strokes. Traditional drawings of cities and panoramas inspired the tone shading that achieves a pleasing
visual color effect. The rendering technique can be applied not only to city models but to polygonal shapes in
general.

1. Introduction
In this article, we describe a technique for real-time
expressive rendering of city models. As main elements
of virtual urban 3D environments, city models represent
geometry and appearance of buildings of urban areas as
well as their surroundings. Figure 1 illustrates the kind
of visualization achieved by the presented real-time expressive rendering technique for city models.
City models have been investigated for many years

in geo sciences, focusing on acquisition, classification,
and analysis of urban data derived from, for example,
laser scans or aerial photography. For instance, Ribarsky
et al. describe in detail methods for urban data acquisition and classification. In computer graphics, interests
focus on rendering and modeling techniques for virtual
3D environments. In particular, photorealistic
representations are used in many applications; they
require and, therefore, depend on a large amount of
geometric and graphical detail to achieve impressive
results, and have to cope with the resulting geometric
and graphical complexity of city models. The lack of
sufficient detail is often frustrating – not because highly
detailed data would actually be required at early stages
of construction but because without such detail the
visual results are not convincing. For many applications,
however, the virtual-reality paradigm is neither
cognitively adequate nor adequate with respect to the
task to be supported by interactive visualizations.
In cartography, the visual representation of urban
spatial information has a long history and has yielded
many principles for drawings of this category. The most
prominent examples include panoramic maps of cities
and landscapes as well as bird’s-eye views of cities.
They show a high degree of visual clarity and geometric
abstraction – preferring abstraction to realism. The historic maps in Figures 2 illustrate a few principles of their
design: choosing colors carefully; simplifying geometric
structures; and sketching dimensions of and relationships

Figure 1. Part of a 3D city model. Presentation based on standard illumination (left).
Presentation based on real-time expressive rendering with enhanced edges, integrated
shadows, and procedurally generated facades.

Proceedings of the Seventh International Conference on Information Visualization (IV’03)
1093-9547/03 $17.00 © 2003 IEEE

th

Figure 2: Map of the City of Graz, Austria, 16 century (left).
Map of the City of New York, 1870 (right).
between objects. Their rich contents and visually pleasing design triggers the curiosity of the observer.
The manifold applications of expressive renderings of city models include decision-support systems for
city and landscape planning to show locations and relations between parts of the model. Furthermore, city
models serve as architectural development models used
to illustrate concepts and principles underlying suggested plans. City models may facilitate people’s participation in decision-making through comprehensible
representations. In geo-information systems, transport
information systems, and radio-network planning systems city models play a fundamental role in visualizing
data and monitoring processes related to urban areas.
Further applications can be found in education and entertainment – imagine a cartoon-like story taking place in a
3D non-realistically drawn “real city” or an Internet platform for neighborhood communication.
On the whole, city models act as main subjects
used for presenting, exploring, analyzing, and editing
spatial information. For these purposes, real-time rendering is required to achieve interactive visualization.
The expressive rendering technique for city
models we discuss intends to reflect insights from cartography and cognitive sciences. We have designed a
real-time rendering technique that processes polygonal
3D objects, the typical elements of city models. It
achieves abstract, comprehensible, and vivid illustrations
of assemblies of those objects.

2. Cartographic and Cognitive Aspects of
City Models
We have analyzed the rendering of city models
from the perspective of cartography, cognition, and nonphotorealism. We derived several principles that are
found in many non-digital drawing techniques.
City Models as Maps. City models can be considered as map-related 3D representations of spatial data.
In addition to 2D information, such as topographic maps,
thematic maps, and 2D ground plans, they include 3D
information, for example, 3D terrain models and 3D
buildings. Interactive representations allow for better
exploration and analysis, but complicate navigation and

orientation, unless special care is taken to support these
user activities.
Geometric Projection. In classical bird’s-eye
views both orthogonal and perspective projections are
used. The Bollmann’s maps of many European as well
as US cities are well-known examples of ‘pictorial city
maps’. Traditionally they choose the east or west direction for projection because important, optically dominant
landmarks such as well known public buildings and
churches are oriented that way. In addition, map designers often attempt to diagonally capture important quarters and streets of houses. Whatever direction is taken,
approximately half of the model is not shown in static
views. Thus an interactive 3D city map can achieve a
substantially better communication of spatial information.
Graphical Techniques. Maps of city models
attempt to maximize visual clarity. Most importantly,
edges are enhanced to stress the contours of buildings.
Colors are chosen according to semantics and aesthetics
– they do not necessarily correspond to the natural colors. The overall number of colors is kept small.
Strothotte et al. (1994) propose graphical techniques of a
sketch rendering system based on insights from perceptional psychology.
Geometrical Techniques. The terrain model
represents the reference surface for city models. In traditional city maps, the terrain surface is often ignored or
just indicated where its morphology is significant. For
interactive visualizations, a 3D terrain model can improve the understanding of the city model and the related
terrain; its impact on the visualization can be controlled
by appropriate scaling of the terrain surface. To cope
with complex geometry, detail reduction is used both at
the technical level by multiresolution modeling and
level-of-detail techniques, and at the semantic level by
generalizing buildings to quarters if their distance to the
camera exceeds a given threshold.
As the sides of buildings provide more characteristic information about them than the roofs, the roofs
can be scaled down in height while the main bodies of
the buildings are scaled up. This is done in traditional
panoramic views of cities to meet the spectator’s expectation, who is used to seeing the city as a pedestrian.

Proceedings of the Seventh International Conference on Information Visualization (IV’03)
1093-9547/03 $17.00 © 2003 IEEE

Orientation Cues. In a complex and dense
urban area landmarks serve as means of orientation for
the user. Landmarks consist mainly of those buildings
that are known a priori to the user – typically monuments and buildings of public interest. Therefore, they
require an exact geometric and graphical 3D model. The
visualization should guarantee that landmarks, even if
they are nearly out of the view volume, do not disappear.
The multiresolution mechanism might want to treat them
differently from the remaining buildings because the eye
is sensitive to even small changes of well-known objects.
Shape Cues. In many visualizations, shape is
derived from shading. In abstract depictions, shades are
rarely used to communicate that information. Instead,
contours and edges are drawn. In particular, edge enhancement is used for separating the faces of an object.
Depth Cues. In classical 3D city maps, using
orthogonal projections the monocular depth cues linear
perspective, relative size and, texture gradient are not
available. However, occlusion and known sizes provide
depth cues. Frequently map designers place objects of
known size (e.g., people, trees, animals) in the scenery.
Furthermore shadows and fog can be used to aid depth
perception. Interactive visualization additionally provides motion-based depth cues. Goldstein (1999) and
Ware (2000) give a comprehensive overview of depth
cues.

lapse the buildings of a quarter into a quarter bounding
box. In cartography, this discrete form of generalization
has been developed to avoid artifacts resulting from too
many too small buildings, and they improve the comprehensibility of a city model.
Expressive line drawings are a major topic in
NPR. For instance, Raskar (2001) presents a technique
for rendering silhouettes, ridges, and valleys of a polygonal scene using graphics hardware abilities. The
silhouettes are rendered by enlarging the corresponding
faces. For the ridges and valleys additional quadrilaterals
are to be added at run-time. We follow this approach.
Our implementation in contrast uses preprocessing since
polygon generation is not yet supported by current
graphics hardware. For achieving expressiveness, we
texture the quads, as proposed by Raskar. For this we
need planar surfaces, and therefore use billboarding.
Strothotte and Schlechtweg (2002, Chapter 3)
give a comprehensive overview of drawing lines, curves,
and strokes. He distinguishes between the path and the
style of lines. The path describes the geometric position
of the line, and the style the overall appearance. Our
expressive line drawing technique treats paths given as
the vector from the starting point to the end point of an
edge. The style is conveyed using textures. Examples of
stroke textures are illustrated in Figure 3.

4. Modeling City Models
3. Rendering City Models
Rendering techniques for city models have to
cope with their geometric and graphical complexity.
Typically the model does not fit into main memory and
cannot be rendered in real-time in its original precision.
City models are therefore subject to multiresolution
modeling and acceleration techniques as described by
Willmott (2001) and Flack (2001).
Common acceleration techniques include viewfrustum culling and occlusion culling to reduce nonvisible geometry from being processed by the rendering
pipeline.
Level-of-detail modeling for buildings is required. But their geometry can be fragile, that is, small
geometric details of a single building, for example, two
columns beside the front door, might be important for
recognizing a single building. For this reason, general
multiresolution algorithms simplifying a single, geometrically complex 3D object cannot be directly applied –
semantics of building parts and visual perception issues
such as shading discontinuities [1] have to be taken into
account. Generalization can further define how to col-

Our real-time expressive rendering technique is
based on an object-oriented design of city models. In this
article, we concentrate on the rendering of buildings, so
we only briefly outline principles of such a design.
The reference surface is partitioned into patches
that are derived as the dual of the graph of the street
network. The resulting patches are empty (e.g., streets)
or equipped with buildings or other urban objects such as
vegetation.
In each equipped patch, there is a (possibly
empty) collection of buildings, each of which is specified by 3D geometry. The design also specifies the relation between geo database and urban objects such as
buildings, streets, and patches. For each building, we
classify its object edges according to their structural importance and semantics.
Among the important attributes of buildings, we
specify the ground plane, height, and roof style, where
the roof style is chosen according to a given classification. We are currently working with a simple classification consisting of the roof styles flat, hip, gable, or
pyramid illustrated in Figure 4.

Figure 3: Examples of stroke textures.

Figure 4: Classification of roof styles.

Proceedings of the Seventh International Conference on Information Visualization (IV’03)
1093-9547/03 $17.00 © 2003 IEEE

Figure 5: Edge-aligned billboards.

5. Expressive Rendering of City Models
Edge enhancement, as one of the aspects of our rendering technique, operates in object-space. For each edge to
be drawn, we create on-the-fly an edge-aligned quad
facing the viewer, and use textures to simulate strokes.
Textured Strokes. We draw the edges using
thin rectangular billboards fastened to or near to the start
and end points of the edges as in Figure 5. The billboards are drawn using a stroke texture that can be partially transparent. We decompose each edge into three
segments: start segment, middle segment, and end segment. For each, different stroke textures can be configured. The texture for the middle segment is repeated

according to the length of the stroke. The stroke texture
defines the style of strokes. A transparency parameter
controls the weight that is given to edges in an image.
This way, edges can be faded in and out.
Billboards. Given the start and end points of an
edge, we want to draw a sketchy line along the edge. In
hand drawings, lines along edges usually do not start and
end exactly at the ends, but near the ends. This results in
a higher visual quality and expressiveness. Inspired by
this, we introduced two rendering parameters, one determining the tilting angle and one the length of the line.
To express uncertainty, tilting and length can be varied
as illustrated in Figure 6.
After moving the starting and end points according to the tilt and length parameter, we apply cylindrical billboarding, using the vector from the starting
point to the end point as an axis. For implementation, we
can employ per-vertex programming for calculating the
billboards.
Controlling the Edge Style. Edge drawing in
object-space allows us to control appearance attributes
such as stroke form, stroke width, brightness, color,
length, and exactness. For example, the actual drawn
edge can be stretched, shrunk, or disturbed to express
fuzzy, sketchy, or slightly overlapping outlines. The object-space approach offers a high degree of expressiveness, in particular, if the underlying model explicitly
defines edges as in city models.

Figure 6: Combining different stroke textures, stroke lengths, and tilts to achieve different looks.

Proceedings of the Seventh International Conference on Information Visualization (IV’03)
1093-9547/03 $17.00 © 2003 IEEE

Figure 7: Two-tone shading (left). Three-tone shading (right).
There are different types of shadows in comWhen rendering a complex scene we do not
puter graphics: Hard shadows are derived by building a
always want to draw all edges and not necessarily all
geometric shadow volume. Within that volume, all scene
edges with the same level of detail. For instance in our
parts are drawn darker. Soft shadows are conceptually
implementation we draw only the edges that are best
similar except that the darkness varies, a blurred impresvisible to the viewer using three textures as explained
sion results. Ware (2000) argues that soft shadows do
above. Edges with low visible importance are either
not need to be physically correct in order to be convincdrawn using only the texture for the middle or not at all;
ing and recommends using soft shadows instead of hard
as criteria the actual length of an edge in image space
shadows.
and the distance to the camera can be used.
In our approach, we simulate shadows by adding textured-quads to the ground plan of each building in
6. Tone Shading for City Models
A major inspiration for our work were cartographic picture maps and other hand drawings of cities.
In colored drawings the illustrator usually abstracts from
the realistic colors of the urban objects and greatly reduces the number of colors used in the representation. In
general only two or three colors and for each color only
two or three tints are used. The choice of the colors is
based on aesthetic and other reasons as well as the actual
colors of the city. Inspired by this we decided to use a
two-tone or three-tone shading for the faces, which assigns the color according to the angle of the face to the
light as illustrated in Figure 7. Technically this can be
done in the same way as cartoon shading but instead of
the intensity we use the dot product of the normal of the
face and the light direction to determine the color.
We observed that three tone shading supplies
better results for interactive applications than two tone
shading because neighboring faces of one building will
have different colors assuming the building does not
have more than four sides. Using two-tone shading this
is not the case. Thus there is much less contrast when
moving through a scene and the light direction is much
harder to determine. This, of course, is not a problem in
traditional cartography where the scenes are static and
the light direction can be chosen suitably. Often the light
shines from the upper left. This can also be done with
our shading when producing static scenes.

7. Shadows in City Models
In architectural drawings shadows are used for
conveying three-dimensionality and spatial relationships,
which aids the comprehensibility and naturalism, and,
for adding vividness. For example, the length of shadows represents a measure for the heights of the buildings. Shadows should not obscure any parts of the geometry. Also they should harmonize with the rest of the
drawing and be clearly recognizable.

Proceedings of the Seventh International Conference on Information Visualization (IV’03)
1093-9547/03 $17.00 © 2003 IEEE

Figure 8: Three types of shadows: hatched,
hard and soft.

Figure 9: Level-of-detail textures for windows, selected according to camera distance.
the direction of the projected light direction to draw the
shadowed region on the reference surface. Selfshadowing and shadowing between faces are ignored:
shadows are only calculated with respect to the reference
surface. We support three types of shadow, hard shadows, soft shadows, and hatched shadows as shown in
Figure 8. The hatched shadows are a typical element of
architectural drawings (Mehlhorn, 1994).

8. Current Directions
The real-time expressive rendering technique presented
here focus on representations of virtual 3D city models.
As core features, it uses edge enhancement together with
tone shading and shadows. The rendering technique offers many degrees of freedom for individual sketch
styles and expression of uncertainty and vagueness. Its
implementation can be completely accelerated by today’s graphics hardware.
We also added support for height cues such as
procedural textures that indicate windows. Their main
purpose is to depict heights and to allow users to compare and to estimate building heights. Figure 9 illustrates
the concept, which is based on level-of-detail 2D textures that encode window representations generalized
differently.
The presented technique can be extended in
various directions. 1) A generalization scheme, driven by
semantics, could be added to simplify city models at the
geometric level; the generalization should take into account cartographic and architectural methods. 2) The
faces could be designed to express information about the
façade. For this, textures derived from photos or images
taken from the real model could be preprocessed in such
a way that the core information is made available for
expressive rendering. 3) Edge enhancement for curved
surfaces should be investigated with respect to a method
that can be accelerated by graphics hardware and implemented by per-vertex programs.
Acknowledgments. We would like to thank Kevin
Buchin and Marc Nienhaus for their collaboration, and
Christian Herrmann for his cartographic inspiration.

References
[1] H. Buchholz, J. Döllner, “Efficient Handling of

[2]

[3]

[4]
[5]
[6]

[7]

[8]

[9]

[10]
[11]

Shading Discontinuities for Progressive Meshes“,
Proceedings of 7th International Conference on
Information Visualization, to appear, 2003.
F. Bollmann, “Entstehung von Bildstadtplänen“,
Karlsruher Geowissenschaftliche Schriften, Reihe
A, Band 4, pp. 93-98, 1986.
P. A. Flack, J. Willmott, S. P. Browne, D. B. Arnold, A. M. Day, ”Scene Assembly for Large Scale
Urban Reconstructions”, VAST 2001: The International Symposium on Virtual Reality, Archaeology,
and Cultural Heritage, 2001.
E. B. Goldstein, Sensation and Perception,
Brooks/Cole, US, 1999.
D.-J. Mehlhorn, Zeichnen für Stadtplaner, 2nd Edition, Werner, 1994.
R. Raskar, “Hardware Support for NonPhotorealistic Rendering”, SIGGRAPH / Eurographics Workshop on Graphics Hardware
(HWWS), ISBN: 1-58113-407-X, pp. 41-46, August
2001.
W. Ribarsky, T. Wasilewski, N. Faust, “From Urban
Terrain Models to Visible Cities”, IEEE Computer
Graphics and Applications, July/August 2002, pp.
10-15.
T. Strothotte, S. Schlechtweg, Non Photorealistic
Computer Graphics: Modeling, Rendering and
Animation, Morgan Kaufman, 2002.
T. Strothotte, S. Preim, Raab, Schumann, Forsey,
“How to Render Frames and Influence People”,
Computer Graphics Forum (13) 3, Proceedings of
EuroGraphics 1994, pp. 455-466.
C. Ware, Information Visualization, Morgan Kaufman, 2000.
J. Willmott, L. I. Wright, D. B. Arnold, A. M. Day,
“Rendering of Large and Complex Urban Environments for Real time Heritage Reconstructions”,
VAST2001: The International Symposium on Virtual
Reality, Archaeology, and Cultural Heritage, 2001.

Proceedings of the Seventh International Conference on Information Visualization (IV’03)
1093-9547/03 $17.00 © 2003 IEEE

