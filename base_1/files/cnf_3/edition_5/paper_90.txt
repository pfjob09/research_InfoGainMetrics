Interactive Web Visualisation of Proposals for Site Developments

Robina Hetherington, Brian Farrimond, Paul Clynch
Liverpool Hope University
{ hetherr@hope.ac.uk, farrimb@hope.ac.uk, clynchp@hope.ac.uk}

Abstract
X3D (eXtensible 3 Dimensions), the international
standard for Web 3D, offers opportunities for the dynamic
display and interoperability of data over the World Wide
Web. One potential application relates to the process of
urban planning in which applications are required to be
made readily available for public comment. Relevant
information is typically presented in the form of site plans
and a limited number of architectural drawings that can
be difficult for the general public to fully comprehend.
Web3D models of proposals in the context of the site and
viewed from different directions have the potential to
provide the general public and the planning authority
with a better understanding of the visual impact of the
proposals.
This paper, through a case study of a proposed
residential development, demonstrates the use of standard
web browser as a GUI (Graphical User Interface) to
control the display of a 3D model. The interactive, client
side, visualization is achieved using AJAX (Asynchronous
JavaScript and XML).
Keywords--- X3D, Ajax, XML, Ajax3D, SAI,
Architecture, Planning, Environment.

1

Introduction

In the UK and Europe local authorities are
increasingly being required to make data available
electronically, primarily over the Web. In the UK a
significant number of local authorities, responsible for
managing the development process, now make pdf files of
documents relating to proposed developments available
via Websites. However, other than allowing interested
parties to view the data in their own homes or offices, it
fails to offer the full benefits of current methods of
visualisation. It may even continue to exclude many

11th International Conference Information Visualization (IV'07)
0-7695-2900-3/07 $20.00 © 2007

members of the community as two dimensional drawings
of plans, sections and elevations require training to enable
the interpretation of the data. Considerable experience
and knowledge is required to read and interpret
architectural drawings.
Inability to understand the
information provided can lead to reactionary responses
from the community to new developments. “Not in my
backyard” is often quoted as the almost automatic
response to local planning proposals. More effective
methods which allow the display of local planning
proposals in web based interactive 3D, free at the point of
access, are required. Interactive computer visualisation,
in the form of interactive 3D models, is potentially one of
the
most
important
developments
in
visual
communication of urban developments [1, 2].
This work extends earlier work by the authors in
temporal modeling [3]. Temporal modeling applies to the
ability to view the application at different times or states.
In the context of this work it can be used to visualize the
current time along with different possible alternative
futures.
The paper is organized as follows: Section 2
presents a review of work relating to the presentation of
real time models of buildings over the web and the
display of interactive 3D models. Section 3 sets out the
objectives for the work and section 4 describes an
implementation of a model of a real life scenario. The
model is imbedded within a webpage and the display is
controlled dynamically. Finally in Section 5 conclusions
are drawn.

2

Related work

Although 3D visualisation can be an excellent tool
for presenting designs and options to the public it is not
widely used in the planning profession [4]. However, the
understanding of complex environmental processes could
be significantly improved by the development of novel
interactive visualizations [5].
In this section the
challenges and some solutions to the display of 3D urban
models over the World Wide Web are discussed. The

information and visualisation required by both planning
experts and non-specialists is established.
Related work in two areas is outlined: the ability to
view both existing and future environments, and
interactive control of the display of the model.

2.1

Visualization for planning purposes

Bates-Brkljac [6] outlined criteria to measure the
authority in representations of a proposed urban
development. These are: accuracy, in terms of items such
as scale, height and distance, necessary to give a correct
understanding of the design; realism, required to create a
realistic experience and abstraction, the amount of
information included in the presentation (level of detail of
textures, materials, construction details etc.).
In addition to the above, the authors consider it
important to show alternative proposals from the same
viewpoint in the context of the site. Also the ability to
view concurrently the same data (for example plan and
perspective) in different forms, is important. Another
important consideration is how the user, both specialist
and non specialist, will interact with the information and
the model.
The generic objectives for this work are thus:
 To provide an accurate model of the site,
complete with landscape elements in different
display modes such as plan and perspective;
 To provide a ‘real’ experience in terms of
viewing the proposal and to be able to ‘move
around’ the model and to view it from particular
key points, such as entrances or road junctions;
 To provide an interactive visualisation of the
site, both in its existing form and with alternative
proposals modelled in 3D, from the same
viewpoint.

2.2

Multi-state models

The visualization of landscapes over time with the
ability to display predictions of future planting using
VRML (Virtual Reality Modellng Language) has been
demonstrated by Honjo et al. [7]. However, this was not
an interactive model.
A medical application combining spatial, temporal
and abstract information has been developed by Polys et
al [8]. PathSim Visualizer used animation to illustrate the
progress of infection over time by changing anatomical
coloring and provided global and local population graphs
and numerical read-outs. In this case the animation and
the display of abstract data is presented within the model.
The effect of time in a medical application is continuous
which is well illustrated by animation
Building developments are not a continuous process;
but occur over short periods of time and the building then
remains unaltered for a much longer length of time. This

11th International Conference Information Visualization (IV'07)
0-7695-2900-3/07 $20.00 © 2007

type of temporal approach to the evolution of buildings
has been employed by Hetherington et al [9]. Employing
SAI (Scene Access Interface) to achieve interactivity, a
model was used to illustrate the three dimensional
temporal changes of an archeological structure. The
capability of X3D to show buildings at different times or
states was demonstrated using a modular approach,
through the grouping of elements. The temporal state of
the 3D model was changed dynamically, using attributes
of the Switch node. SAI was used to enable button
clicks in the webpage to change the whichChoice
value in the Switch node in the DOM (Document
Object Model) created from the loaded X3D file. The file
is unchanged - it is the DOM that gets changed.

2.3

Interactivity between the browser and 3D
models

Control of the state of the model from outside the
World is now defined by Parisi as Ajax3D [10]. Ajax, a
term used to describe the combination of Asynchronous
Javascript and XML, enables client programming to
create rich, responsive applications which work within a
web page. Ajax3D is based upon the integration of the
DOM and SAI to control X3D scenes. With Ajax3D,
immersive virtual worlds can be displayed within a web
browser, integrated with pages and other media to enable
professional, scalable, industrial strength applications.
Hetherington et al [9, 11] have demonstrated interactivity
between the client browser and the 3D plugin., where, not
only is the state of the model changed dynamically, but
data can be extracted from the model.

3

Objectives

Arising from the above, the generic objectives from
Section 2.1 can be refined to give the specific
computational objectives for this work as follows:
1. Investigation of the structure of the X3D file to
enable the display of a model showing the existing
building with alternative proposals.
2. Development of a model with accurate realistic
landscape elements.
3. Extension of earlier work by Hetherington et al [9,
11] into the use of Ajax3D to manipulate the model
from the HTML browser.
This involves the
development of a webpage in the form of a GUI
(Graphical User Interface) to enable the nonspecialist to interact with the model and provision of
the required form of interactions. Although non
specialists may not be familiar with the controls
typically found in 3D plugins, the widespread
adoption of the World Wide Web means they are
probably comfortable with buttons or links within
hypertext documents. This work will not only show
how the model can be displayed in different states of

different proposals, it will also investigate new
methods of interactivity with the model with by the
user on the client-side. In particular the ability by
the user to choose selectively both the elements of
the model to be displayed and the viewpoint used
will be investigated.

4

Group nodes. The second Switch node allows for the
cumulative and subtractive nature of the proposals for the
site to be achieved using SAI and is used to control the
display of the development. Another Switch node is
used to turn ‘on and off’ the display of landscape items
such as trees and hedges.

Implementation

The techniques described in this paper were
developed in the context of a real project relating to a
proposal to erect a dwelling in the garden of a house
called Wyncote. As can be seen from Figure 1, Wyncote
is an unusual building, consisting of a two storey central
octagonal volume and single storey wings forming a cross
on plan. Idiosyncratic houses such as this exist in the
county of Cheshire, UK, probably through the influence
of nearby Port Sunlight, built at approximately the same
period[12]. Built in the early 1900s it is an example of
romantic, decorative homes of the Edwardian period. It
has previously been subject to a number of changes since
built.

Figure 1 X3D model of Wyncote with
photographic textures added

4.1

Structure of the model

In earlier work by Hetherington et al [3], an X3D
model file was structured to allow for the display of an
archaeological structure at different times using Group
nodes. The display of the different time states was
controlled by Switch nodes. In this work a number of
Switch nodes are also used in the model and the
parameter whichChoice used to instruct the 3D
browser which group to display. In Figure 2, the
Switch nodes have a value of -1 for the parameter
whichChoice meaning that, initially, neither Switch
is displaying a group so that only the site plan, sitting
outside the Group/Switch hierarchy, is permanently
displayed.
The first Switch node in Figure 2 contains each of
the developments of the building in separately defined

11th International Conference Information Visualization (IV'07)
0-7695-2900-3/07 $20.00 © 2007

Figure 2 Scene Graph showing Switch and
Group tags

4.2

Display of the model in different states

The model is displayed in the webpage using an
X3D plugin, Flux [13] with the different states of the
model, ‘as existing’, ‘proposal 1’ and ‘proposal 2’
controlled using SAI to send messages to the Flux plugin.
A JavaScript function uses setNodeEventIn to pass
the value as an argument to the Switch node in the
X3D. This changes the Group node displayed by the
X3D plugin. A similar technique is used to ‘turn on and
off’ the display of the landscape with Group nodes
contained within another Switch node.

4.3

Viewpoints

The alteration of the Viewpoint, or camera
position, was considered a very important feature for the
working application. The ability to ‘see’ the site from a
number of key positions, such as entrances or road

junctions, is crucial to giving an understanding of the
impact of the design. Two instances of the plugin were
embedded within the webpage, see Figure 3. The lefthand image has the Viewpoint in the model set to
have no perspective and positioned above the site, so that
it is displayed in a 2D mode. A 2D image could have
been used for this display, but if changes are made to the
model it would have to be re-created. Using SAI, as the
model is loaded, icons representing cameras are ‘turned
on’ in this instance of the model. They do not appear in
the right-hand, perspective display. The camera icons are
‘clickable’ and can be used to send a message to the other
instance of the model in the right-hand side of the page to
change the Viewpoint. Links within the webpage can
also be used to alter the viewpoints.

4.4

either can change the Viewpoint in the right-hand
instance of the model. Both are outlined in red when
active. JavaScript was used to alter the CSS to display a
red border around the active links in the webpage and a
red circle around the icon in the model.

Utilisation of the browser as a GUI

Figure 3 shows the final model embedded within a
webpage, with 2 instances of the model displayed in
plugins. Four types of file were used:
 An HTML file which loads the other three files
and acts as the user interface.


X3D model files, consisting of one main file
with a number of additional files, linked from the
main model, for example to create the 3D trees.



A JavaScript file containing the program.



Cascading Style Sheet file containing the display
instructions.

The HTML links on the left control the display of the
site model in three different ways:
1. Different times – these allow the display of the
development showing the evolution over time and the
alternative proposals for the site, see Figure 6.
2. Control of the display – these relate to particular
features of the model such as landscape and site area
and the view of the model, see Figure 4 and Figure 5.
The option to ‘show’ or ‘hide’ the landscape and to
‘show’ or ‘hide’ the site area are mutually exclusive.
JavaScript was used to replace the links in order that
the relevant one is displayed, so that at any one time
two of the four possible links are displayed.
3. Control of the camera – these relate to perspective
views of the model, displayed in the right-hand side
of the webpage. The views are taken from eye
height, about 1.6 metres, to show how the proposals
would be seen by the public, primarily from outside
the site.
It should be noted that unlike a normal webpage,
where there would only be one active link, with this
application there are a number of active states which
require user feedback. Standard CSS was not capable of
handling this situation. In the case of the camera
positions, the camera icons in the model and the links in
the webpage are programmed to work together so that

11th International Conference Information Visualization (IV'07)
0-7695-2900-3/07 $20.00 © 2007

Figure 3 Browser showing the building model
and the HTML links

4.5

Display of the site

An existing drawing of the site was included within
the model, applied to a cuboid and implemented as an
IndexedFaceSet as shown in Figure 4. This was
done to enable the model to relate to any accompanying
set of drawings. The building model is not intended to
replace drawings, but to supplement them in order to
demonstrate the temporal nature of development and
improve the visualization of the proposal. The model is
seen as ‘growing’ from the 2D representation.
The area to be developed is typically indicated by
outlining the site in red on 2D drawings. On the 3D
model this is achieved by the display of an
IndexedFaceSet coloured red as shown in Figure
4(a). In order that this ‘red blob’ does not distract from
the visual impact of the ‘real-life’ modeling the
transparency of this element is turned ‘on and off’
using a link in the HTML and SAI. This is achieved by
altering the Transparency parameter of the
Material node from 1, which corresponds to fully
transparent, to a value of 0.4, which corresponds to
partially transparent. The other illustrations in Figure
4(b) and (c) show the display of the model for Proposal 1,
with and without, the landscaping. As can be seen, these
displays do not improve significantly on drawings; it is
only when the viewpoint is positioned at ‘eye height’ at

Figure 4 The site plan showing the (a) site
area, (b) without and (c) with the landscape
.

real positions relative to the site, as illustrated below, does
the benefits of the 3D approach become apparent

4.6

Display of the landscape

The buildings were the first elements of the model to
be generated as they are arguably the most important.
However, as can be seen in Figure 5, the landscaping, and
the presence of the trees in particular, make a significant
difference to how a proposal would be perceived.

(a)
(a)

(b)

(c)

(b)
(d)

(c)

11th International Conference Information Visualization (IV'07)
0-7695-2900-3/07 $20.00 © 2007

Figure 5 Comparative view of different treatment
of the landscape, (a) none, (b) simple trees, (c)
more complex trees, (d) billboard trees
Initially simple, diagrammatic trees were used, as
shown in Figure 5(b). This type of diagrammatic, simple,
representation is generally employed by architects but are
probably not sufficiently realistic for lay people. Figure
5(c) shows more detailed trees modelled in 3ds Max using
AEC Extended Objects, exported and converted into X3D
using Flux Studio [13] and included in the model as an
Inline file. In this model only two different types of
tree are used, deciduous (Oak) and evergreen (Pine)
ideally there should be more types to better reflect the
actual trees. These trees are combined with partially
transparent primitive shapes to give a ‘visual mass’ to the
model. However they require a very large file size, even

when compressed, over 900 KB for each different type of
tree. They also cause significant problems in the speed of
rendering of the model. Figure 5(d) shows an alternative
method of modelling trees using the Billboard technique,
where images of trees with a transparent background are
applied to a transparent IndexedFaceSet.
The
transparent shapes are then set to remain at right angles to
the Viewpoint using a Billboard node.
This
approach still requires a relatively large file size, 350 KB,
due to the detail in the photographs used. When a number
of trees are used together they can look repetitive, see
Figure 5(d), however they do not present the same
rendering issues as the modelled trees shown in the third
illustration.
The hedge, which borders the site at eye level where
the cameras are positioned, acts as a significant visual
element. It has been modelled as a semi-transparent
extruded rectangle in Figure 5(b) and (c) above, but these
lack the visual quality of the trees. On the final
illustration Figure 5(d) an image has been repeated on the
extruded shape and gives a texture to the representation.

4.7

Display of existing situation and alternative
proposed developments

(a)

(b)

(c)

11th International Conference Information Visualization (IV'07)
0-7695-2900-3/07 $20.00 © 2007

Figure 6 Display of the site (a) as existing, (b)
proposal 1 and (c) proposal 2
Figure 6 shows screen grabs of the model displayed
in three different states. The first has just the existing
house and garage and the other two have alternative
proposals for a new dwelling, as seen from a viewpoint
positioned on the existing drive. The links in the
webpage allow the control of the display of parts of the
model, making the direct comparison of the different
proposals from a particular viewpoint possible.

5

Conclusions

This work illustrates a simplified model of a small
proposed domestic dwelling which was used to develop
the method. The manipulation of the X3D data file
required a particular structure. The method involved the
use of Switch and nested Group nodes to display the
model in different states. The was relatively easy to
achieve, however it should be noted that a significant part
of the modeling of the model was generated by hand
using a basic text editor, NotePad++ to produce ‘clean’
code. The next step is to investigate the method could be
applied to a model generated by 3D modeling software
such as Flux Studio or 3ds Max.
The method illustrated uses some of the elements
given in the definition of Ajax3D. [10] The method does
not use XMLHttpRequest, to store or retrieve data,
there was no need as the model file itself is not altered;
the data is simply presented in different ways. SAI has
been used to manipulate the display of the model from the
HTML browser to show the model in different states,
with different features and from different views. The
interactivity of the site is effective, however the model
and webpage took some time to load into browser. The
method was developed for the Flux plugin only. The
code developed for SAI was specific for Flux, future
work will include the investigation of other types of
plugins. It is expected that specific code might be
required for 3D browsers such as BS Contact and
Octagon.
The webpage application and interactive model have
not been evaluated by either planning professionals or the
general public. It is intended to use the model in future
discussions with planners on the Wyncote site. It is also
planned to model an urban development which is larger
and more complex, for instance, the campus of Liverpool
Hope University and show how it has evolved over time
and how it is intended to develop in the future. Such a
model would enable the qualitative analysis of the
benefits of this method.
Specific issues to be evaluated are:
 Website usability;
 The effectiveness of showing the alternative
proposals in 3D over traditional 2D methods;



The effectiveness of the developed methods of
interaction to selectively display particular
elements of the model;
 Comparisons of the different techniques for
modelling trees.
The modeling and display of the landscape was
found to be extremely important visually. Future work
will investigate alternative ways of the modeling of trees.
Both the complex model and the Billboard display present
problems of file size and rendering, even with reasonably
powerful computers, with good graphics capabilities.
Methods to dynamically generate trees will be
investigated. The representation of the trees changing
over time will also be investigated, both short term, and
long term.
Deciduous trees on sites mean that
developments can look very different at different times of
the year. It would also be interesting to model trees,
changing the size and shape over time, not only the height
but also details of the trunk, altering the texture and
colour. Improved methods of modeling hedges will also
be investigated.

6

References

[1]

J. Counsell, S. Smith, and N. Bates-Brkljac, "Web 3D
based dialogue for public participation and the
VEPs Project," in IV2006, London, 2006, pp. 343348.
A. Smith, M. Dodge, and S. Doyle, "Visual
Communication in Urban Planning and Urban
Design," Centre for Advanced Spatial Analysis,
University College London 1998.
R. Hetherington and J. Scott, "Adding a Fourth
Dimension to Three Dimensional Virtual Spaces,"
in Web3D Symposium, Monterey, 2004, pp. 163172.

[2]

[3]

11th International Conference Information Visualization (IV'07)
0-7695-2900-3/07 $20.00 © 2007

[4]

[5]

[6]

[7]
[8]

[9]

[10]

[11]

[12]
[13]

J. Barton, J. Plume, and B. Parolin, "Public
participation in a spatial decision support system
for public housing," Computers, Environment and
Urban Systems, vol. 29, pp. 630–652, 2005.
B. Huang, "Web-based dynamic and interactive
environmental
visualization,"
Computers,
Environment and Urban Systems, vol. 27, pp. 623–
636, 2001.
N. Bates-Brkljac, "Visualisation of Architectural
Design Schemes through Static Computer
Generated and Traditional Visual epresentations:
An Investigation of Subjective Responses," in
IV2006, London, 2006, pp. 337-342.
T. Honjo and E.-M. Lim, "Visualization of Landscape
by VRML System," Landscape and Urban
Planning, vol. 55, pp. 175-183, 2001.
N. F. Polys, D. A. Bowman, C. North, R.
Laubenbacher, and K. Duca, "PathSim visualizer:
an
Information-Rich
Virtual
Environment
framework for systems biology," in Web3D
Symposium, Monterey, California, 2004, pp. 7-14.
R. Hetherington, B. Farrimond, and S. Presland,
"Information Rich Temporal Virtual Models using
X3D," Computers & Graphics, vol. 30, pp. 287-298,
2006.
T. Parisi, "Ajax3D: The Open Platform for Rich 3D
Web
Applications",
2006,
http://www.ajax3d.org/whitepaper/, accessed on
10th November 2006.
R. Hetherington and B. Farrimond, "The Integration
and Display of Architectural Information Using
XML and X3D Technologies," in Proceedings of
the 11th International Conference on HumanComputer Interaction and 1st International
Conference on Virtual Reality, Las Vegas, 2005.
N. Pevsner and E. Hubbard, The Buildings of England
- Cheshire. London: Penguin Books, 1971.
Media-Machines, "Media Machines - Virtual worlds,
Web 3D, X3D for the rest of us", 2007,
accessed
on
http://www.mediamachines.com/,
8/02/2007.

