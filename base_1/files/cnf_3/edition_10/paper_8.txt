The Design and Implementation of Mobile Navigation System for the Digital
Libraries
Rong-Yuh Hwang
Department of Electronic Engineering,
National Taipei University of Technology,
Taipei, Taiwan, R. O. C.
email: ryh@en.ntut.edu.tw

ABSTRACT
Keywords: Bluetooth, Microcontroller, Man-machine
interface, Mobile navigation system
A mobile navigation system is designed and
implemented in this paper. This system can be applied to
the digital libraries to make a real time query in the
library. The information provided for this system
includes data and voice. The major functions of this
system include information access and destination
guidance. Other value-added functions can also be
finished easily. There are three major parts in this
system. Mobile navigation device is designed for the
visitors of the libraries. In this device, wireless
equipments such as bluetooth technology and IrDA
device are employed to finish the major function.
Man-machine interface is designed to receive the
information from the mobile navigation device. Besides,
man-machine interface also process the function of
destination guidance. As for the information access,
interface PC will pass data to the host computer to get
the queried data and then pass the information to the
mobile device via wireless module. The third part of the
system is host computer with SQL database. The
prototype of this system had been almost finished. Now,
The test work is in progress. Evidences display that there
is a nice effect.

1. Introduction
Bluetooth technology will be widely used in the IA
field such as PDA in this year. In this paper, we will
extend the application of bluetooth technology to the
navigation system in the digital libraries. Most of the
current digital libraries provide useful information via

Internet or Intranet. However, if we enter into a library
to search or access information such as search of books,
papers, or magazines, we only can use PC to finish the
above work. This will incur several shortcomings. First,
a bottleneck is created at the PC end. Visitors will wait
the PC to query their information in sequence. Second,
after query, visitor needs to write down all information
on the paper. This will squander the paper resource.
Besides, it is in inconvenient to communicate with
librarian. Therefore, if the navigation system is exploited,
the above shortcomings will be resolved.
The functions for the navigation system are listed as
follows.
1) Real-time information query.
2) Destination guidance.
3) Intercommunication between visitor and librarian.
4) Automation for the book-borrowing flow.
5) Automation for the book-returning flow.
6) Automation for the book-subscribing
The remained topics in this paper are organized as
follows: The overall structure of mobile navigation
system is constructed in Section 2. Mobile navigation
device is described in Section 3. And man-machine
interface is listed in Section 4. Layout design for
wireless devices in a library is discussed in Section 5
Finally, a conclusion is made in Section 6.

2. The Overall Structure
Navigation System

of

Mobile

In this section, all hardware related topics will be
discussed and designed. The system framework is
shown in Fig. 1. In this figure, mobile navigation device
is designed for the visitor to query the information from
the server of digital library. Two wireless components
are used in the mobile device. Bluetooth module is

Proceedings of the Sixth International Conference on Information Visualisation (IV’02)
1093-9547/02 $17.00 © 2002 IEEE

employed to execute information exchange between
mobile device and server. Because of the directionless of
bluetooth, visitor can execute the information exchange
at any time and corner in the library. IrDA component is
designed for guiding visitor to the destination of
information. Man-machine interface always know where
the queried visitor is via the IrDA. By checking the
library local map in the system, man-machine interface
PC can guide the visitor to the information destination.
Similarly, These two wireless components can also be
used in the man-machine interface to finish the
following works. 1) Receiving queried information
provided by bluetooth module and visitor location
provided by IrDA transceiver/receiver. 2) Packaging the
information into formal queried data and sending it to
the server. 3) Guiding visitor to the destination via the
help of library map. As for the server, including
ASP+SQL, this is the basic function of the current
digital libraries. Therefore, we do not intend to discuss it
in detail.

range. In this module, voice and data can be transferred
simultaneously. Each piconet can support 7
simultaneous full duplex data transmission. From the
discussion above, bluetooth technology is very suitable
for the navigation environment.

PIC
LCD

BT

16F877

K.B.

PCM
CODE

Fig. 2 The block diagram of mobile navigation device

IrDA

BT

Mobile
Navigation
Device

BT

IrDA

Man-Machine
Interface

Server (ASP+SQL)

Fig. 1 The wireless navigation framework

3. Mobile Navigation Devices
The block diagram of the mobile navigation device
is shown in Fig. 2. The major components for devices
include microcontroller, LCD display, keyboard,
bluetooth module, and IrDA component. The major
work of microcontroller is to receive the queried
information from keyboard and display the input
information to the LCD. After that, the information is
passed to the bluetooth module via serial transfer. In this
system, PIC 16F877 is selected as the microcontroller.
PIC is a RISC-style single chip. In our application, the
data amount is not so large, so PIC is a nice choice.
As for the bluetooth module, 2.4 GHz ISM open
band, frequency hopping, and time division duplex are
adopted. The transmission distance is in 10 to 100 meter

The flowchart of mobile navigation device is shown
in Fig. 3. Some initializations are executed. These
include PIC initialization, LCD display initialization,
and bluetooth device initialization. After that, system is
entered into the waiting state to wait for the operation of
user. The operations are as follows: First, data
connection is executed for searching the near bluetooth
device. In such case, mobile navigation system will
connect a bluetooth device automatically. After
connection, LCD will display “Please input the query 1)
Title, 2) Author”. Visitor can select one of the items to
search the queried data. Then, the man-machine
interface PC will response the matched information on
the LCD screen. At this time, visitor can select one of
the matched information and navigation system will
guide visitor to the destination via the location of IrDA
and guidance algorithm.

4. Man-Machine Interface
The block diagram of man-machine interface is
shown in Fig. 4. Basically, three major parts exist in the
interface. Bluetooth module and PIC microcontroller are
also used as the information transmission. The
development language of man-machine interface is
Visual Basic 6.0. This interface PC provides a
user-friendly interface to operate and maintain the
system.
The
transmission
media
between
microcontroller and interface is used with COM port.
The format of man-machine interface is shown in Fig. 5.
Their operation steps for the interface are as follows.
Step 1: select COM port: The default COM port is

Proceedings of the Sixth International Conference on Information Visualisation (IV’02)
1093-9547/02 $17.00 © 2002 IEEE

COM1. On changing to port COM2, operator only needs
to click the push button of COM2.
Step 2: Bluetooth Initialization: This step will initialize
the bluetooth module. After initialization, the
identifier of the bluetooth will be shown in the
display window of the initialization.
Step 3: Search device: When we push the search button,
bluetooth will search the other modules to
prepare for data link.

Start

packet delivery link up to the point where a
packet can’t be transferred, then a timeout will
occur. And an SCO link transfers a certain type
of packet and is not a reliable link. Instead
packets are sent on a guaranteed time base.
Step 5: Start data transmission: Bluetooth module
executes data transmission via ACL link
connection.
The
transmitted-data
and
received-data
will
be
shown
in
“Transmission-Data”
and
“Receive -Data”
window respectively.
Step 6: Voice connection: After constructing ACL, we
can construct the voice connection via SCO link.
On constructing the SCO link, the voice
transmission is in progress.

PIC, LCD, and BT
Initializations

Bluetooth
Tr/Re
module

Display Manual &

PIC 16F877
Microcontroller

Waiting for operation
IrDA
Receiver
Device

Y
CALL
CONNECT

C
N

Man-Machine Interface
(Destination Guidance System +
Information Access)

Y
CALL
INPUT

Q
C
N

Y

N

5. Layout Design for wireless Devices
CALL
TX

S
Y
D

Fig. 4 The block diagram of man-machine interface

END

N
C: Search for connection Q: Input query
S: Select item
D: Disconnect
Fig. 3 Flowchart of mobile navigation system
Step 4: Select communicated device: We can select the
device found in the above steps. Basically, there
are two types of links defined in the Bluetooth
Specification”:
1)
ACLAsynchronous
Connection Link, 2) SCO- Synchronous
Connection Oriented Link. An ACL link
transfers a certain type of packet and is reliable

As discussion above, information query and
destination guidance are two major functions in the
navigation system. For the information querying
function, bluetooth modules are used to finish data
transmission between mobile device and man-machine
interface. In order to make a perfect data transmission,
the layout design of library is very important. In this
section, we will discuss how to make a layout for
information querying and destination guidance.
In order to plan the layout design, the layout exhibit
of bluetooth module is assumed as in Fig. 6. In this
figure, assume that the length and width of bookshelf
and alley width between bookshelves are 20 meter, 0.1
meter, and 2 meter respectively. There are 6 rows and 50
columns per row in the library. Therefore, the total floor
area
of
the
library
area
is
160*105
([(6+2)*20]*[(0.1+2)*50]) m2 . According to the
bluetooth specification, the transmission range is
between 10 and 50 meter. We set the transmission
distance as 30 meter. And the placement of bluetooth is

Proceedings of the Sixth International Conference on Information Visualisation (IV’02)
1093-9547/02 $17.00 © 2002 IEEE

put on the ceiling to make sure the direct transmission
with any mobile navigation device. Because of the
directionless for bluetooth, we can partition the
bluetooth into several subareas. Each subarea is 40*40
m2 . In a subarea, there are two rows and 10 columns per
row. Therefore, there are 27 (9*3) sets of bluetooth
modules in the subarea. One of the modules needs to be
programmed as master mode and the others are all
programmed as slaved mode. The master modules are
used to communicate with the module connected with
the man-machine interface. There are 3*5 (15) masters
in the library. RS485 is used to link all masters to the
interface PC. According to the specification, RS485 can
connect up to 256 devices. In the library, only 15
devices are used.
IrDA device is used to support the destination
guidance function in the library. IrDA device has the
feature of direction. Therefore, IrDA can be used as to

identify the visitor’s location. The planning of IrDA is
as follows: RS 485 is employed for servicing data
transmission of one column. The row index of visitor is
stored at a bit corresponding to an IrDA. We plan two
bytes to store the IrDA’s value for each column.
Therefore, there are at most 16 IrDA devices in a
column. For the example library, we can use about 3
IrDA devices in a bookshelf with 20 meter. Obviously,
this plan is good for the environment. For example, if
visitor is at position 230. The value 230 means that
visitor is at row 2 and column 30. Assume that each row
uses 3 IrDAs. Therefore, the content of two byte in
column 30 will get the value “0000000000010000”B.
This information will be sent back to the man-machine
interface PC to provide the guidance information for the
visitor. COM 2 is used for IrDA transmission to avoid
conflicting with bluetooth module.

Fig. 5 The format of man-machine interface

Proceedings of the Sixth International Conference on Information Visualisation (IV’02)
1093-9547/02 $17.00 © 2002 IEEE

Bookshelf 0101

Bookshelf 0102

…

Bookshelf 0150

Bookshelf 0201

Bookshelf 0202

…

Bookshelf 0250

Bookshelf 0301

Bookshelf 0302

…

Bookshelf 0350

Bookshelf 0401

Bookshelf 0402

…

Bookshelf 0450

Bookshelf 0501

Bookshelf 0502

…

Bookshelf 0550

Bookshelf 0601

Bookshelf 0602

…

Bookshelf 0650

Fig. 6 The exhibit of bluetooth module in a library

5. Conclusion
We had finished the design of digital navigation
system. Some important techniques such as bluetooth
module, IrDA, and Man-machine interface had been
implemented. In the future, we will extend the value
added functions to the navigation system.

Acknowledgement
This work is supported in part by the National Scientific
Counsel (NSC 91-2242-H-027-332)

References
[1] “Learn to Program with Visual Basic 6 ”, John Smiley.
[2] “Programming Microsoft Visual Basic 6.0 ”, Francesco
Baleno.
[3] “Microsoft Visual Basic .NET Step by Step”, Michael
Halvorson.
[4] “Serial PIC/n PIC Microcontroller Serial Communication”,

Roger L. Stevens.
[5] “PIC’n Techniques, PIC Microcontroller Application
Guides”, David Benson.
[6] “Easy PIC’N: A beginners Guide to using PIC 16/17
Microcontroller from Square 1 ”, David Benson, June
1999.
[7] “Bluetooth 1.1 Connect without cables”, Jennifer Bray, et
al.
[8] “Bluetooth Revealed: The Insider’s guide to an open
specification for global wireless communications”, Brent
A. Miller, Chatschik Bisdikian.
[9] “Data over Wireless Networks: Bluetooth, WAP, and
Wireless LANs”, Gilbert Held.
[10] “Professional SQL Server 2000 Programming”, Rob
Vieira, December 2000.
[11] “Web Database Application with PHP & MYSQL”, Hugh
E. Williams, David Lane.
[12] “Bluetooth 2001 Industry Survey”, ARC Group.
[13] “Database Issues for Data Visualization”, IEEE
Visualization 1993.
[14] “SQL Server 7 System Management “, Divya Chaturvedi,
Paritosh Pathak.
[15] “Internetworking with TCP/IP ”, Douglas E. Com

Proceedings of the Sixth International Conference on Information Visualisation (IV’02)
1093-9547/02 $17.00 © 2002 IEEE

