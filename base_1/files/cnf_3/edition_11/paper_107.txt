Capturing Outline of Fonts using Genetic Algorithm and Splines
M. Sarfraz

S . A. Raza

Department of Information and Computer Science
King Fahd University of Petroleum and Minerals
Dhahran 3 1261, Saudi Arabia
E-mail: {sarfraz, saraza}@ccse. kfupm. edu.sa

Abstract

for open curves has been presented. We incorporate,clased
curves' approximation taking fonts and symbols as a case
study. For such shapes, a parametric form of B-Spline is
to be used. Additionally, the main objective is to capture
a pleasant looking outline. In order to aid our GA(Genetic
Algorithm) a corner detection algorithm has also been used
to determine the significant points which are of great importance in capturing the outline of closed curves in which
accuracy of approximation is important.

In order to obtain a good spline model from large measiirenient data, we frequently have to deal with knots as
variables, which becomes a continuous, non-linear and
niultivariate optimization problem with many local optima.
Hence, it is very dijjicult to obtain a global optima. In this
paper, we present a method to convert the original problem into a discrete combinatorial optimization problem and
solve it by a genetic algorithm. We also incorporate a corner detection algorithm to detect signGCant points which
are necessary to capture a pleasant looking spline fitting
for shapes such as fonts. A parametric B-Spline has been
approximated to various characters and symbols. The chromosomes have been constructed by considering the cundidates of the locations of knots as genes. The best model
among the candidates is searched by using Akaike 's Information Criterion(A1C). The method determines the appropriate number and location of knots automatically and simultaneously. Some examples are given to show the results
obtained from the algorithm.

2. The B-Spline
The points on a parametric B-Spline curve are represented as ordered set of values: &(t) = [ ~ ( ty(t)].
) , The
parameter t takes the values from a specified range;. conventionally from 0 to 1 .Parametric form of curve allows multiple values of y for single or more values of 2. A parametric
curve is approximated by piecewise polynomial curves. Bsplines consist of curve segments whose polynomial coefficients depend on just a few control points. This behavior
is called local control. Thus, moving a control affects only
a small part of curve. This local behavior is due to the fact
that each vertex is associated with a unique basis function.
Let T = { t o , t l , ...,t m } be a nondecreasing sequence of
real numbers, i.e., ti 5 ti+l, i = 0, ..., m - 1. The ti are
called knots, and T is the knot vector. The ith B-spline basis
function of degree p , denoted by Ni,*(t)is defined as

1. Introduction
Data fitting with spline is one of the important technologies for geometric modeling in shape design. If we have to
make a good model from measurement data, having acomplicated underlying function data, it is difficult to approximate it by a single polynomial. In this case, a spline is one
of the most appropriate approximating functions.
The key to using a spline is the determination of good
knots, and to obtain good approximation, we have to place
the knots as precisely as possible. In such cases, we have
to deal with knots as variables. Then the problem becomes
a continuous nonlinear and multivariate optimization problem with many local optima. Therefore, it is difficult to
obtain a global optimum [ 131.
Our work is the extension of [ 131 in which a spline model

Ni,l

1 if ti 5 t < ti+l;
0
otherwise.

and

"(t) =

(t - tz)Nz,p-l(t)
&+p-l - t z

+ (tz+,

-t)N+l,p-l(t)
- tz+1

tz+p

(1)
Given n + 1 control points, the B-spline S ( t ) is given by:
n

i=O

738
0-7695-1195-3/01 $10.00 0 2001 IEEE

=

where ci is a B-spline coefficient.

3. Boundary Detection
There are numerous boundary detction algorithms. We
have used the algorithm in [9]. The input to this algorithm
is a bitmap file. The algorithm returns number of pieces
and for each piece, number of boundary points and values
of these boundary points p i = (xi, yi), i = 1,...,N .

4. Corner Detection
Corner detection is related to detection of high curvature
points in planar curves. A number of approaches have been
proposed by researchers. We have used the technique suggested by [2]. In this paper, we will be using significant
points interchangeably with corner points.

5. A Brief overview of GAS
In the last decade, Genetic Algorithms have emerged as
practical robust optimization search methods. Genetic Algorithms(GAs), introduced by Holland in the 1970s, are
search techniques based on the concept of evolution. Given
a well-defined search space in which each solution is represented by a bit string, called a chromosome, a CA is applied
with its three genetic search operators-selection, crossover
and mutation-to transform a population of chromosomes
with the objective of improving the quality of the chromosomes. The individual bits of a chromosome are called
genes. Before the search starts, a set of chromosomes is
randomly chosen from the search space to form the initial
population. The three genetic search operations are then applied one aftcr the other to obtain a new generation of chromosomes in which the expected quality over all the chromosomes is better than that of the previous generation. The
process is repeated until stopping criterion is met (for example, a predefined number of generations are processed).
In the end the bcst chromosome of the last gcneration is reported as a final solution, as shown in Fig 1 .

Figure 1 . Outline of a genetic algorithm

(a,b)called the interior kriots n . The initial population, consists of K individuals of genelength L. The genes are randomly set to 0 and 1. However, the corner points are determined before the creation of initial population and the
genes corresponding to those points are intentionally set to
1 in the initial population and in the population of the subsequent generations. The idea behind this scheme is not to
lose those points as they are important in determining the
outlines of the shapes. In addition to the conventional genetic control parametcrs(crossover and mutation), another
control parameter knot ratio R is also used as suggested
by [ 131. Akaike's Information Criterion(AlC)[ I ] is used as
a fitness measure. By using AIC we can choose the best
model among the candidate models automatically. AIC is
given by

6. Implementation
The scheme used to convert the original continuous
problem into a discrete optimization problem is same as
[ 131. Each data point corresponds to a single gene in the
bit string of a chromosome. In this formulation if a gene
is equal to 1, we put a knot at the corresponding data point
and if the gene is equal to 0 we do not (see Fig 2).
If the given points lie in the interval [a,b], then the appropriate number of knots are determined in the interval

'I

where N is the number of data,QI is given by equation 4, n
is the number of interior knots, nz is the order of the spline to
be fitted on the given data. The subscript of AIC means the
dimension of the data. It should be noted that the smaller
value of Eqn 3 gives better fitness.

739

7. Demonstration and Analysis
a

n

I

I

In this section, the results obtained by applying the algorithm on various words, symbols and letters have been
presented. These shapes have been approximated with a
cubic parametric B-Spline. The method, however, does not
depend on the degree of the spline.
For the word 'Ah', 41 1 points were determined by the
boundary detection algorithm (see Fig 4).The corner detection algorithm detected 12 corner points (see Fig 5). The
genetic algorithm was run for 120 genrations with a population size of 30. The subsequent figures show the behavior of
algorithm at various generations. The algorithm converged
at 98th generation (see Fig 1 I ) . The graphs of AIC, Sum
Square Error and Knots plotted against the number of generations have also been shown on which only the best values
in a certain generation were plotted (see figures IO, 11 and
12 ). Other results for pound symbol have also been shown.

I

Figure 2. Genetic Formulation

where S ( t ) is the spline approximated over the data F
and wj is the weight of data, taken to be 1 for all data points
in our case. The subscript of Q means the dimension of the
data.
In the context of genetic algorithm, a Roulette wheel selection and a double point crossover has been used. The
probability of crossover C is taken to be 0.7 and the probability of mutation Ad is taken to be 0.001, while 0 5 R <
0.5 has been used.
The summary of the algorithm is given below.

1. Input the data to be fitted.
2. Input the control parameters.

Figure 3. Bitmap image of the word 'Ali'

3 . Find the boundary using boundary detection algorithm

4. Find corner points using corner detection algorithm

5. Create an initial population by using random numbers.

6. For each individual in the population make the bits corresponding to the significant points as 1.
7 . For each individual compute data fitting and obtain the

fitness value.

Figure 4. Outline after boundary detection
8. If total number of generations exhausted, stop the computation, otherwise go to step 9.

8. Concluding Remarks

9. Do selection by using the fitness values.

In the end, we conclude that the method presented is effective in the determination of the appropriate number of
knots and their locations simultaneously for closed shapes.
The genetic algorithm is partly aided by the corner detection for the determination of significant points, which are

IO. Do crossover and make the individuals of the next generation.
1 1 . Do mutation and go back to step 6.

740

Figure 5. Spline approxiinated to the significant points before running GA

Figure 8. At 75th generation

Figure 9. After convergence
Figure 6. At 25th generation

1500

1

Figure 10. AIC vs number of generations

Figure 7. At 50th generation

741

Figure 11. Sum square error vs number of
generations

Figure 14. Outline after boundary detection

Figure 15. Spline approximated to the significant points before running GA
Figure 12. Knots vs number of generations

Figure 16. After convergence

Figure 13. Bitmap image of Pound symbol

742

important in capturing the outline of shapes in which pleasant looking output is the main objective. The method used
is actually the extension of the .work done by,[ 131.

[I41 T. H. Yoshimoto, E and Y. Aoyama. Data Fitting using a genetic algorithm with real number genes. Proc. ofthe lasted
International Conference on Computer Graphics and Imaging, 2000.
1

9. Future Direction
Some of the suggested future work directions may be:

Use of NURBS: NURBS can be used, incorporating the
optimizimation of weights using real number genes.
Surfaces: The NURBS curve implementation can
further be extended for mesh optimization.
Use of Parallelisni: In this algorithm the load of computation is concentrated in step 6 and 7. We can apply parallel
computing here to save computational time.

References
H. Akaike. A new look at the ::tatistical model identification.
IEEE Trans. Autorna[ic Control, AC- 19(6):716-723, 1974.
D. Chetverikov and 2. Szabo. A simple and efficient algorithm for detection of high curvature points in planar curves.
Proc. 23rd Workshop [ f the Australiun Pattern Recognition
Group, pages 175- 184, 1999.
P. Dierckx. Cirrve arid Siirfcicc Fitting with Splines. Oxford
University Press, 1993.
D. E. Goldberg. Genetic Alg~ritlitnsin Search, Opriniizntion, arid Machine Learning. Addison-Wesley, 1989.
J. Gregory, M. Sarfraz, and P. K. Yuen. Interactive Curve
Design using C2 Rational Splines. Cotnpiiters wid Grapliics. 18(2):153-159, 1994.
E L. Kitson. An algorithm for curve and surface fitting using
B-Splines. IEEE Corference, i'989.
G. R. Markus, A. and J. Vancza. Spline interpolation with
genetic algorithms. Proc. Int. Cant on shape, Modeling arid
applicarions, IEEE Conipiirer Socieh Press, pages 47-54,
1997.

T. Prahasto and S. Bedi. Optimization of knots for the multi
curve B-spline approximation . IEEE Conference, 2000.
A. Quddus. Citnm[irreAnalJsis Using Miiltiresolution Techniques. PhD thesis, KFUPM; 1998.
M. Sarfraz. Cubic Spline Curves with Shape Control. Computers and Graphics, 18(5):707-7 13, 1994.
Y.-N. S. Shu-Chien Huang. Polygonal Approximation using
genetic algorithm. IEEE Conference, 1996.
M. Yoshimoto, E and T.Harada. A method of plane-data
fitting with a genetic algorithm. Proc. of the Iusred International Conference on Coinpiiter Graphics and Imaging,
pages 2 1-3 1, 1998.
M. Yoshimoto, E and T.Harada. Automatic Knot Placement
by a Genetic Algorithm for Data Fitting with Spline. IEEE
Conference, 1999.

743

