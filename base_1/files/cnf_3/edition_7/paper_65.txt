From Form to Content:
Using Shape Grammars for Image Visualization∗
Xiu Wu Huang, Cheryl Kolak Dudek, Lydia Sharman, and Fred E Szabo
Concordia University, Montreal, Canada
xwhuang@alcor.concordia.ca, cdudek@symatico.ca,
lydia@alcor.concordia.ca, fredszabo@mac.ca
1 March 2005

Abstract
The idea of superimposing geometric grids on images
to visualize their content is not new. Leonardo Da Vinci
used it, D¨urer used it, and Descartes pioneered the use of
geometric grids to describe geometric content with algebraic equations. Shape grammars take the algebraic analysis of images to a new dynamic level. They permit the
visualization of images in terms of construction processes:
generators and relations, in the language of algebra. In
this paper, we discuss some of the creativity involved in the
identiﬁcation of initial objects and rules for the analysis
of both a Zillij mosaic and a Kuba cloth. We show that
although conceptually similar, the processes are quite different for the two types of design. While Zillij mosaics are
regular, Kuba cloths also involve scaling: the variation of
the size of repeated sub-patterns within a deﬁned space.
Keywords— Design, image template, Kuba cloths, Mathematica function, shape grammar, shape-grammar form,
shape-grammar rule, visualization, Zillij mosaics

1

ization of the geometric content of the given images.
The focus of our research is to develop a single, computationally powerful method for analyzing both symmetric patterns in ancient in cultural artifacts, such as those in
the 16th-century Zillij mosaics, as well as the asymmetrical ones obtained from symmetric patterns by geometric improvisation, such as those in African Kuba cloths.
This approach has the advantage over traditional methods
of providing a uniform analytical approach to pattern analysis, independent of the presence of symmetry. Our work
on symmetric patterns using shape grammars is only the
starting point of our research and validates our method.
The process of writing shape grammars to describe the
underlying geometric forms of a set of artifacts can be
compared to that of axiomatizing a set of mathematical
structures. The process is both creative and non-routine
and the formal description is not unique. Expert knowledge is required at the initial steps. The following tables
juxtaposes the corresponding notions:

Introduction

In this paper, we introduce the idea of a shape grammar
form, a geometric design generated by a shape grammar
that reveals aspects of the underlying geometric content of
an image. We give two examples: one for a Zillij mosaic
(chosen because of its geometric regularity), and one for a
Kuba cloth (chosen because it involves the additional ideas
of scaling and geometric improvisation). While the shape
grammars derived from speciﬁc images almost never provide a tool for the exact reconstruction of the images for
which they were built, some of the patterns constructed
with these grammars can always be superimposed on the
initial images and act as templates to facilitate the visual-

Shape Grammars
Initial shapes
Construction rules
Shape grammar forms
Shape grammar functions

⇔
⇔
⇔
⇔
⇔

Formal Systems
Formal axioms
Rules of inference
Formal proofs
Theorem provers

Table 1: Shape Grammars versus Formal Systems
The use of formal systems as a visualization technique
is not new. In Szabo for example, formal proofs, as treestructures, are used to visualize the results of the composition of canonical functions between sets of mathematical
objects obtained by generalizing sets of vector spaces.

∗ The research in this paper is supported in part by grants from the Social Sciences and Humanities Research Council of Canada, the Fonds qu´
eb´equois
de la recherche sur la soci´et´e et la culture, and the Hexagram Institute for Research and Creation in Media Arts and Technology.

Proceedings of the Ninth International Conference on Information Visualisation (IV’05)
1550-6037/05 $20.00 © 2005 IEEE

2

Forms for Zillij Mosaics

The Zillij mosaic pattern used in this paper is from a
14th century wall panel located in the Madrassa Bunaniya
(religious school) in the Medina in Fez, Morocco. The mosaics are glazed ceramic and the technique for creating the
subtle and complex patterns are passed down, principally
by the eldest son, through the men of the families that are
responsible for the survival of the craft.

squares and the creation of the short pointed star. The remaining images on the left side are three single forms. On
the right side the function that is applied to these forms
to create the pattern is shown. Each form is rotated eight
times, equidistant around a circle. Two of the forms have a
simple rotation while the third requires rotation and mirror
reﬂection.
Zillij mosaic patterns are usually created using six, eight
or ten fold symmetry. Each of these geometries produces
patterns requiring different forms. Within each of the geometries there is a wide variety of patterns, although some
of the forms can be used for different patterns when the
governing geometry is the same.

Figure 1: A Sample Zillij Mosaic
(Photo: Sharman 1994)
This example is made up of nine different discrete
shapes surrounded by mosaic strips that form woven ribbons which are found in the early examples of zillij mosaics. More recent and contemporary examples are usually
made up of the discrete forms without this weaving.

3

Visualizing Zillij Mosaics with Forms

The components of the shape grammar form in Figure
2, are eight of those found in the zillij panel plus a square.
The ninth form in the panel is created by overlapping two
squares of the same size rotated by 90 degrees (Figure 3) to
create a star with eight short points. It is from this star that
the pattern radiates with its eight fold rotational symmetry.
The eight forms are all derived from the star, with some
additional steps before the forms can be identiﬁed. By
folding in every other point of the star inwards, a cross is
formed which tessellates with the eight-pointed star. It is
from the combined cross and star that some of the forms
can be extracted. Others are extracted by extending the
lines of the short pointed star to make a star with eight long
points (see Sharman [13] and Hedgecoe [5]). However, the
scale of these basic shapes varies extensively when creating the ﬁnal zillij pieces.
The top four images in Figure 3 explain the overlapping

Figure 2: Zillij Grammar Shape Palette
The shape grammar palette in Figure 2, is a partial list
of the basic shapes from which visualization forms can be
built. The shapes are not unique. It is very likely that
designers and geometers have different starting points and
their choice of initial shapes may therefore not be the same.
These choices then impact on the sets of construction rules
required to build the grammars. The process is again analogous to that in the theory of formal proofs where there is
often a choice between many formal axioms and few rules
of inference versus few formal axioms and many rules of
inference. We again refer to Szabo [14] for an illustration
of this point.
By choosing a small number of axioms and many rules,
formal proofs can sometimes be construction that contain
no detours. In the case of shape grammars, this would correspond to having shape grammars without an eraser function. The shape grammars discussed in this paper have this
property. For visualization purposes, this property is desirable since the constructed forms involve no loss of information. In Examples 3, for example, we show a Zillij form
which is Mathematica-generated without erasures. So is

Proceedings of the Ninth International Conference on Information Visualisation (IV’05)
1550-6037/05 $20.00 © 2005 IEEE

the Kuba shape in Example 5. By contrast, some of the designs in Knight’s book on Transformations in Design (see
[6]), deﬁnitely involve a loss of information in the application of rules of some grammars discussed in the book.
Among the goals of our research is to explore the existence of shape grammars for classes of images which have
what we might call the subform property, i.e., the property that they can be visualized using shape grammar forms
built without erasures. In proof theory, the analogue of
this property is known as the subformula property, where
proofs of theorems can be constructed by using only the
subformulas of the formula to be proved. The search for
axiomatic descriptions of sets of theorems with the subformula property is central to the study of proofs. Finding
shape grammars for sets of images with the subform property is one of the goals of this research.

be built. The next two examples give an indication of how
this can be done.
Example 1 Generating Two Zillij Forms
Using the Rotations package of Mathematica, we can
easily generate the following Zillij form:

Figure 4: A Mathematica-Generated Zillij Form

Example 2 A Mathematica Implementation
The Mathematica function used to apply and iterate the
Zillij rule shown in Figure X is deﬁned using basic tools
built into the Rotations package:

Figure 3: A Zillij-Grammar Rule Palette

3.1

Using Mathematica for Generative Design

While the identiﬁcation of basic geometric shapes in artifacts is an interpretive artistic endeavor, the production of
shape grammar forms for studying the geometric content
of such artifacts can be partially automated using appropriate graphical software. The Mathematica computation
system is particularly well suited to this task. Its extensive
visualization features provide an elegant environment for
generating shape grammar forms.
Mathematica contains extensive geometric tools for the
implementation of Zillij shape grammars. It supports afﬁne
transformations for the deﬁnition of a wide variety of
space-ﬁlling patterns. Moreover, Artlandia, a Mathematica add-on, makes it possible to generate a large class of
geometric patterns from which shape grammar forms can

<< Geometry‘Rotations‘
Rpt[pt_, n_, m_] :=
Table[ Rotate2D[pt[[i]],N[j*Pi/4],
{0,0}],{i,1,n},{j,1,m}]
Rot[pt_, Rp_, n_, m_] :=
Show[Graphics[{Thickness[.01],
Table[ {Line[{pt[[i]], pt[[i+1]]}]},
{i,1,n-1}],
Line[ {pt[[n]], pt[[1]]}],
Table[{Line[{Rp[[i,k]], Rp[[i+1,k]]}]},
{i,1,n-1}, {k,1,m}],
Table[ Line[{Rp[[n,k]], Rp[[1,k]]}],
{k,1,m}]}]]
pt2 =
{{1.2,0},{1.65,-0.45},{2.7,-0.45},
{3.15,0},{2.7,0.45},{1.65,0.45}};
Rp = Rpt[pt2,6,7];
Rot[pt2,Rp,6,7];
By selecting different initial shapes from the Zillij
Shape Palette and making the corresponding changes in the
Mathematica code in the previous example, we can immediately generate another Zillij form, depicted in Figure 5,
that is again based on the Zillij mosaic in Figure 1.

Proceedings of the Ninth International Conference on Information Visualisation (IV’05)
1550-6037/05 $20.00 © 2005 IEEE

pt4 =
{{-4.4,-0.6},{-3.85,-1.15},{-3.85,-0.45},
{-3.25,-0.45},{-3.7,0},{-3.25,0.45},
{-3.85,0.45},{-3.85,1.15},{-4.4,0.6}};
Rp = Rpt[pt4,9,7];
Rot[pt4,Rp,9,7];

graphs, histograms, and other mathematics tools normally
used to visualize the content of numerical datasets.

Figure 5: A Second Mathematica-Generated Zillij Form
Continuing in this way, we can generate an unlimited
variety of Zillij forms based on our interpretation and artistic analysis of a given artifact. We can then use the Mathematica Show function to combine these forms into a single
new design.
Example 3 A Complete Zillij Form
The following design was produced with Mathematica
from the deﬁned shape grammar.

Figure 7: Visualizing Content Using Forms
While the perfect symmetry of the original Zillij mosaic
would make it easy to produce an overlay that matches the
original artifact almost completely, some of visualization
power of the shape-grammar form would be lost in a blackand-white environment. We have therefore used some scaling in the overlay to identify the geometric content of the
mosaic with the given shape-grammar form.
Even when the overlay does not match the original exactly, it does isolate and identify the pieces that make up
the pattern and locate them in relationship to each other.
Andre Paccard undertook a valuable, comprehensive study
of the zillij mosaic patterns and identiﬁed many of the different pieces by shape. They are, however, shown separately (see [10]) rather than being located in the pattern,
which makes their application very difﬁcult to comprehend. With the development of this shape grammar form
it is possible to analyze another eight fold pattern and see
which of the pieces are the same, even when the pattern is
different, and which new forms have been added. In this
way, it could be possible to identify all the forms that are
used in eight fold zillij patterns, and even to create new
patterns.

4
Figure 6: A Completed Mathematica-Generated Zillij Form
In the next ﬁgure, we show how the Zillij form in Figure
6, can be used as guide for visualizing the geometric structure of the original mosaic. As such, we think of the shape
grammars associated with a given artifact as tools for separating form and content. For us, the forms themselves are
shape-grammar analogues of cartesian coordinate grids,

Forms for Kuba Cloths

While 12 of the 17 possible ways a design can be symmetrically varied on a surface are found in Kuba textiles,
along with examples of 7 out of the 7 possible symmetries
in borders, they are most often characterized by asymmetry. Asymmetry in Kuba is achieved by the juxtaposition
of distinct geometric motifs and reinforced by seriate variations in texture, scale, shape, direction and/or monochromatic color. Juxtapositions of motifs, irregular patterning,

Proceedings of the Ninth International Conference on Information Visualisation (IV’05)
1550-6037/05 $20.00 © 2005 IEEE

asymmetry, spontaneity and improvisation result in a complex design that emphasizes movement and vitality. The
irregular geometric patterns characteristic of Kuba can best
be described as compositions of “simultaneous diversity.”
Kuba women artisans incorporate spontaneity and improvisation in their designs achieving uniqueness and individuality, part of their African aesthetic. (See [1] for details.)

We believe that this property is central to the information
visualization process.
Example 5 Kuba Grammar Rules
In the next ﬁgure, we show some of the rules deﬁned
for the construction of a shape grammar form for the Kuba
cloth in Figure X.

Figure 10: A Kuba Rule Palette
Figure 8: A Sample Kuba Cloth
(Photo: Hansj¨org Mayer, with Permission)

5

Visualizing Kuba Cloths with Forms

Asymmetry in Kuba presents a challenge to shape grammar interpretation. Rule sets need the speciﬁcity and detail
to describe unique variations of motifs, shapes and scaling.
Kuba textiles were chosen for this research primarily because of their importance in the history of design, but secondly because of their structural distinctiveness from the
symmetry of Zillij pattern.

Example 6 A Kuba-Grammar-Generated Form
By using the initial shapes in Example 4 and the rules
in Example 5, we can generate a shape-grammar form for
the Kuba cloth in Figure 8.

Example 4 Initial Shapes for a Kuba Grammar

Figure 11: A Kuba Form
Example 7 Kuba Form and Content

Figure 9: A Kuba Shape Palette
These shapes are chosen so that the rule for building
forms for the image in Figure 8, have the subform property.

The following overlay shows how the constructed
shape-grammar form captures the basic geometric features
of the Kuba cloth in Figure 8. The overlay shows how the
form generated in Example 5 can be used to visualize critical features of the geometric structure of the given cloth.

Proceedings of the Ninth International Conference on Information Visualisation (IV’05)
1550-6037/05 $20.00 © 2005 IEEE

[4] R. Eglash, African Fractals, New Brunswick: Rutgers University Press, 1999.
[5] J. Hedgecoe and S. S. Damluji, Zillij, the Art of Moroccan Ceramics, London: Garnet Publishing, 1992.
[6] T.W. Knight, Transformations in Design, Los Angeles: University of California Press, 1978.
[7] C. Kolak Dudek, L. Sharman and F. E. Szabo, Grammatical, Interactive Systems for Generative Design,
9th International Conference on Virtual Systems and
Multimedia, Montreal, 2003.
Figure 12: Visualizing Kuba Form and Content

6

Conclusion

In this paper we have shown how manually deﬁned
shape grammars can be combined with geometric visualization tools built into Mathematica to generate shapegrammar forms for the highly symmetric Zillij mosaics.
Of particular interest is the fact that the presented shape
grammar has the subform property.
We have also presented a manually constructed shape
grammar form for Kuba cloths and constructed with a
grammar with the subform property. In Example 6, we
showed how this form can be used to visualize the information content of the given cloth by highlighting the geometry structure on which the cloth is built. We are examining how intelligent tracing can be used to assist with the
extraction of initial shapes.

References
[1] M. Adams, Beyond Symmetry In Middle African Design, In African Arts 23, Cambridge: MIT Press,
1989.
[2] S. Bhakar, E. Hortop, C. Kolak Dudek, S. Muise,
L. Sharman, and F. E. Szabo, Textiles, Patterns, and
Technology, In Textiles, Cloth and Culture, Oxford:
Berg Publishing, 2004.
[3] D. W. Crowe and D. K. Washburn, Symmetries of
Culture: Theory and Practice of Plane Pattern Analysis, Seattle and London: University of Washington
Press, 1988.

[8] C. Kolak Dudek, L. Sharman, F. E. Szabo, S.
Bhakar, E. Hortop, Y. Li, and W. Pan, From Ethnomathematics to Generative Design: Metapatterns and
Interactive Methods for the Creation of Decorative
Art, 8th International Conference on Information Visualisation, London, 2004.
[9] G. Meurant, Shoowa Design: African Textiles from
the Kingdom of Kuba, London: Thames and Hudson,
1985.
[10] A. Paccard, Traditional Islamic Craft in Moroccan
Architecture. (Translated from the French by Mary
Guggenheim), Paris: Editions Atelier, 1980.
[11] L. Sharman, Visualizing Sound Patterns in a Liquid
Medium, 4th International Conference on Information Visualization, London, 2000.
[12] L. Sharman, Teaching Maths Through Islamic Art,
2nd ed., London: Victoria and Albert Museum, 1996.
[13] G. Stiny, Pictoral and Formal Aspects of Shape and
Shape Grammars: On Computer Generation of Aesthetics Objects, Basel: Birkhâuser Verlag, 1975.
[14] F. E. Szabo, Algebra of Proofs, Amsterdam: NorthHolland, 1978.
[15] S. Wolfram, The Mathematica Book, Cambridge:
Cambridge University Press, 1988.

Proceedings of the Ninth International Conference on Information Visualisation (IV’05)
1550-6037/05 $20.00 © 2005 IEEE

