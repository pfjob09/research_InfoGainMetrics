2009 Sixth International Conference on Computer Graphics, Imaging and Visualization

Online Handwriting Thai Character Recognition
Credit Karnchanapusakij, Phattharasuda Suwannakat, Waroonorn Rakprasertsuk
Natasha Dejdumrong
Department of Computer Engineering
King Mongkut’s University of Technology Thonburi,
Bangkok, 10140, Thailand
Emails: excredo@hotmail.com, bew_chinky@hotmail.com, patwaroonorn@hotmail.com
Corresponding Author Email: natasha@cpe.kmutt.ac.th*
With the stated reason comes the understanding of
the importance of information, information that is most
commonly presented in the medium of phrases and
characters. Following this comes to the creativity in
creating software for the processing of written characters
which are stored in the forms of image data to be
interpreted to character data in which can be understood
by the computer. The mentioned software eases the
human workload and also benefits the handicap or such
people whom cannot type. Moreover, time is saved in
transferring or copying written text and helps enhance
the capabilities of the computer to a larger range of users
bringing together equality within the society and
enhancing quality of life and information understanding.

Abstract
This research is a study of structure and method in
handwriting Thai characters for conversion and
computer use. This paper covers the creation of an
online handwriting recognition system through the use of
linear interpolation approach. The character sampling is
done with 10 significant points for the vector creations of
angles and rotation directions. The linear-interpolated
characters will then be compared with an XML database
in which contains predefined character information. The
best matched character is then further analyzed for
character uniqueness such as tail and size before
concluding the found character(s). This system supports
the writing of different character styles including
slanted, scaled and rotated characters. The average
recognition rates are of 90.88% correctness for matched
character and 98.75% correctness for a candidate group
of found characters in which is satisfactory and effective
for Thai handwriting character recognition.

From the study of research on Thai handwriting
recognition systems such as that of online Thai
handwriting character recognition [3] in which presents
the use of direction in analyzing character heads which
have circular direction and curves. The analysis splits the
characters to find the circular ends and curves, while also
storing the writing steps, width, and ratio. As for the use,
the user must write clearly and correctly with most error
coming from writing too fast causing unclear characters.

Keywords--- Thai Character Recognition, Geometric
Modeling

The online handwriting recognition system for the
Thai, English, numeral, and symbol characters [5] is
capable of converting characters in Thai and English,
including numerals and symbols by sampling the writing
data and analyzing the steps of direction in 8 directions
through a neural network, even so, the system can only
analyze characters that have been written without any
slant.

1. Introduction
In today’s world of information technology which
aims towards news and information sharing for better
quality of life and the development of people’s world
knowledge through the use of computer technology;
technology is advancing in many ways whether it be the
computation efficiency and speed, or quality tools and
devices for internet communication with the internet as a
high volume knowledge database for mankind, man kind
of all races, languages, and cultures. The internet is then
looked upon as a tool in making connections across the
globe, bringing together organizations of many fields
such as education, entertainment, businesses, commerce,
etc.
978-0-7695-3789-4/09 $25.00 © 2009 IEEE
DOI 10.1109/CGIV.2009.79

From the mentioned problem, the authors have
presented a new perspective in creating a prototype
system in analyzing Thai handwriting that supports
slanted characters and also multiple sizes.

323

2. Thai Characters

3.3 Closed Loop

Thai characters can be classified into 4 main groups:
consonants, vowels, numeral and tones. Unlike English
characters, Thai characters are obviously differentiated
by its group. They can be separately classified by several
characteristics, e.g., feature composition, written style,
size, height, width, and spatial position. There are 44
Thai consonants. Although there are 16 vowel characters,
21 kinds of vowels can be formed by vowel and
consonant characters. Finally, there are 4 tone characters,
10 numeral and 3 special characters.

3.4 Twist

Some consonants have two circles (or two closed
loops). There are one circle, representing head, and
another closed loop. There are ten consonants that have
two closed loops such as , , , , , , , ¤, ¯ and ±.

The corners or twists can be found in some Thai
consonants. The feature will make the curve fitting
approximation difficult because it is hard to maintain
G1-continuity of joining two curves.

3. Six Features for the Composition of Thai
Consonants

3.5 Piecewise Curve
An obvious characteristic of Thai consonants is its
gracefulness that is represented by the piecewise curves,
excluding head and closed loop.

There are at most six important elements containing in
Thai consonants. Classically, a consonant can have at
least three attributes (). Figure 1 illustrates the 19th
consonant,

3.6 Straight Line
The last important composition of Thai consonants is
its straight lines. There may be one or more straight lines
in a Thai consonant.

 (pronounced NOR-NANE) that has all six

features of Thai consonants.

3.1 Head of Thai Consonant
The head is an important attribute of Thai consonants.
It is defined as a circle or a closed loop. It identifies the
initiation of writing a Thai consonant. Almost Thai
consonants have one head, except two consonants, i.e., 
and  (Figure 1) have no head.
Normally, the head of different consonants are
occurred at five different positions of the letter, e.g.,
upper left (), upper right (), middle (), lower left (£)
and lower right (ª).

In addition, there are five consonants that have two
parts or supplementary part, such as , , ¬, « and ­. In
this study, this supplementary part is not necessary to be
concerned because the proposed algorithm can still
recognize correctly the character without the additional
part.

4. Thai handwriting character recognition
using linear interpolation approach
In general, there are two main processes for Thai
handwriting recognition: Training and Character
Recognition processes. In Thai character training
mechanism, three handwriting inputs for the same
character will be entered for each person/user. The set of
gathered characters will be use in the latter process for
character matching and recognition.

4.1. Training Algorithm
Step 1: Each user will write all Thai character for
three times. The training part subsystem will store all
coordinate of three different characters in the database.
Figure 2 shows an example of input for the first Thai
consonant.

Figure 1: The 19th Thai consonant, pronounced
NOR-NANE, that has all six features of a Thai
consonant.

3.2 End of Thai Consonant
All consonants must have an end. It identifies the
termination of writing a Thai consonant.
Similar to the head of consonants, the end of different
consonants are also appeared at four different zones of
the letter, e.g., upper left (ª), upper right (), middle left
() and lower right ().

Figure 2: Screenshot of writing a character into
the system

324

Step 2: The system will select only ten sampling
points from the input data points by a systematic
sampling. Each sampling point can be picked up at every
k point provided in the following equation.

k

Di

­ 1, if
°
if
®1,
°0, if
¯

C  1
C !1
 1 d C d 1,

where

n 1
,
m 1

xi 1  xi  yi  2  yi    yi 1  yi xi  2  xi  (3)

ci

(1)

It is remarked that C > 1 means clockwise rotation while
C < -1 means counter-clockwise rotation.

where n is the total number of points stored in the
training set database, m is the number of sampling points,
which is 10. It is noticed that the number ten is chosen
because it is the smallest integer that the recognition
system can still produce the correct and optimal results.
Figure 3 illustrates 10 sampling points (in red) and other
input points (in black)

Step 6: Aggregate the collected data and save into XML
files where 1 file will be used for one character. The data
sets will be gathered as shown in Fig. 5.
<list>
<a>169,1</a>
<a>57,-1</a>
<a>177,1</a>
<a>47,1</a>
<a>145,1</a>
<a>109,1</a>
<a>138,1</a>
<a>170,1</a>
</list>

Figure 3: 10 Sampling points
Step 3: After collecting 3 sets of samples, the training
system will transform these control points into vector
forms. Then, 9 linear-interpolated vectors will be
calculated for each character in each set.

<list>
<a>176,1</a>
<a>59,-1</a>
<a>116,1</a>
<a>99,1</a>
<a>130,1</a>
<a>115,1</a>
<a>151,1</a>
<a>173,1</a>
</list>

<list>
<a>171,1</a>
<a>61,-1</a>
<a>177,1</a>
<a>37,1</a>
<a>143,1</a>
<a>107,1</a>
<a>147,1</a>
<a>178,1</a>
</list>

Figure 5: The collection of data in XML files

4.2 Character Recognition Algorithm
Step 4: Calculate for angle value from two consecutive
vectors (or three points) for each character in each set.
(Fig. 4)

Step 1: When the user inputs their own handwriting, the
recognition system will store the coordinates and
calculate for the important information such as angles,
rotation directions, as same as in the training algorithm
discussed earlier.
Step 2: The recognition system will compare the given
input character with each character stored in XML
database by checking for the Euclidean angle error as in
[1].

Figure 4: The creation of 2 vectors from 3 points
Let i be the position of the angle where 0  i  7,
j be the position of the vector where 0  j  8,
Vj be a vector constructed from 3 control points, an
angle between two vectors can be computed from

Ti

§ v j  v j 1
180  cos 1 ¨
¨ v j  v j 1
©

·
¸
¸
¹

Let

(2)

i be the location of the angle where 0  i  9,
n be the total number of angles to compare
Ai and Aj be the angles participated in comparison,
where 0°  A  180°,
the percent of angle error can be expressed as

§

n 1

©

i 0

1
AngleError = ¨

¨n¦

Step 5: Calculate the rotation direction (of angle) from
the control point sets.

Ai  A j ·
¸ u100
180 ¸
¹

(4)

Step 3: Find the angle rotation error by comparing the
rotation directions as in:

Let Di be the rotation direction where D = {-1, 0, 1},
i be the position of the rotation where 0  i  7,
j be the position of the control point where 0  j  9,
xi be the x coordinate of the control point in i,
yi be the y coordinate of the control point in i,

Let i be the location of the angle where 0  i  9,
n be the total number of angles to compare,
Ci and Cj be the rotation direction of each angle
in comparison where -1  C  1.

the rotation direction (of angle) can be computed from

325

The percent of angle rotation error can be calculated by

3
4

§ 1 n 1
·
Ci  C j ¸ u100 (5)
¦
© 2n i 0
¹

ClockwiseError = ¨

5
6

Step 4: Find the overall error percentage of two
characters participated in the comparison by the
following equation:

7
8
9

OverAllError = (AngleError x 0.6) + (ClockwiseError x 0.4)

10

Step 5: Select four candidate characters with the lowest
percentage errors.

11
12

Step 6: Before displaying the correct matched character,
the system will check in the list of the candidate
characters for character specific uniqueness to help in
providing the accurate results. In the cases of finding

13
14
15

characters in pairs of  and , ¡ and ¢,  and  ,  and §,

£ and ©,  and ,  and ,

16

the verifying system will

17

check for the length of the first line connected to the
character head and the last line within the character, if
the latter was found to be of 1.5 times in length, the
longer-tailed character will be appropriately selected, but
if it was found to be less than 1.5 times in length, the
shorter-tailed character will be selected instead. This rule
is about dealing with the characters with long and short
tails. In the particular cases of finding characters in the
group (ª and ´,

18
19
20
21
22
23

È and Ù, and p and Ø), the character size

1

5. The Experiment Results

5

In order to check for the effectiveness of the
algorithm, the user will write 80 different Thai characters
including 46 basic consonants, 20 vowels, 4 tones, and
10 Thai numerals, as shown in Table 1. After the user
has tested the system, overall error will be checked and
calculated for
1. Handwriting recognition from the default library.
2. Handwriting recognition from personal library.
The user can add his/her own handwriting into the
database.

6

2
3
4

7
8
9
10

2

24
25

27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46




 
¡
¢
£
¤
¥
¦
§
¨
©
ª
«
¬
­
®
¯
°
±

²
³
°´
µ
°Îµ
°·
°¸
°¹
°º
°»

11
12
13
14
15
16
17
18
19
20

¼
Á
Â
Ã
Ä
Å
Æ
Ç
°r
°È

Thai Tones
1
2

Thai Consonants




26

Thai Vowels

will have to be examined and compared to the preceding
characters, if it is found to be smaller, the character
should be a vowel or tone character, otherwise if it is
detected to be equal or larger, the character should be a
basic consonant or numeral character.

1























°n
°o

3
4

°p
°q

Table 1 The Classification of Thai Alphabets



326

From the testing of the 2 types of Thai handwriting
recognition through linear interpolation which are the
comparison with a general database and that of the user’s
personal database, the authors found that comparison
with a general database results in 69.88% correctness
where 92.25% of the candidate characters are correct.
Whereas the comparison with the user’s personal
character database results in 90.88% correctness, where
98.75% of the candidate characters are correct.

Thai Numbers
1
2
3
4
5

6

Ñ
Ò
Ó
Ô
Õ

Ö
×
Ø
Ù
Ú

7
8
9
10

Table 1 The Classification of Thai Alphabets
(continued)

Researches
On-line Handwriting Recognition
System for the Thai, English,
Numeral, and Symbol Characters [4]
Online Thai Handwriting Character
Recognition [3]
Thai Handwritten Recognition
Using Linear Interpolation

The user will store all 80 characters in sets for 3
times. The system will switch from the default database
over to the personal database. After that the user will test
for the system with 80 characters. From the first
experiment, when using the general (or default) training
sets with 3 and 8 test users, the correctness results in
59.88% and 69.88%, respectively. It can be noticed that
by adding more test users, the system learns different as
shown in Table 2.
Number of users
in default
database

Correctness (In Percent)
Exact
Correct
Result
Candidate

3 Users

59.88%

82.25%

8 Users

69.88%

92.25%

86.00%
85.68%
90.88%

Table 4: The comparisons between several
previous methods and our method.

Conclusions
From the study of related research for direction and
development of the online handwriting Thai character
recognition using linear interpolation approach helps
design a system to process and analyze Thai handwriting
to be converted into textual character suitable for
computer interpretation. The results of this system are
that of more than 90% correctness while supporting
multiple character sizes and all character styles (slanted
characters), and to provide more correctness, the user
may store their personal handwriting into the character
database.

Table 2: Displaying the result when using the
default training sets.
From the second test, using a personal database,
results in 90.88% correctness, where 98.75% of the
candidate characters are correct. Because the system has
been trained for that specific user the results are better as
illustrated in Table 3.

Acknowledgment

Resulting Group
One Correct Character

References

The Correct Result is in
the Candidate List

Correctness

This work was supported by the laboratory of CAGD and
Animation (CADLAB), the department of computer
engineering, KMUTT.

Correctness (In Percent)
90.88%

[1]

Aphirukmatakun, C., "An Approach to Curve
Comparisions in Geometric Object-Oriented Databases",
Master Thesis, King Mongkut's University of
Technology Thonburi, Thailand, 2007.

[2]

Budsayaplakorn R., Asdornwised W., Jitapunkul S.,
"On-line Thai handwritten character recognition using
hidden Markov model and fuzzy logic", IEEE 13th
Workshop on Neural Networks for Signal Processing,
537-346, 2003.

[3]

Cheypanoun G. and Numboon M., "Online Thai
Handwriting
Character
Recognition",
Computer

98.75%

Table 3: Displaying the result when using the
personal training sets.
From the above results, when comparing the
correctness to other research, it can be found that the use
of Thai handwriting recognition through the linear
interpolation approach has the best results. Above that,
our Thai handwriting recognition eliminates the
constraints in character styles and sizes as in Table 4.

327

Engineering Department, King Mongkut's Institute of
Technology Ladkrabang, Thailand.
[4]

Cooper D.," Fuzzy Letters and Thai Optical Character
Recognition”, in Symsosium on Natural Language
Processsing ’95, Bangkok, Thailand, 1995.

[5]

Kortungsap P., Lekhachaivorakul P., and Madarasmi S,
"On-line Handwriting Recognition System for the Thai,
English, Numeral, and Symbol Characters", Computer
Engineering Department, King Mongkut's University of
Technology Thonburi, Thailand, 1999.

[6]

Methasate I., “Off-Line Thai Word Based Handwritten
Character Recognition Using Fuzzy Rules With
Distinctive Features”, Master’s thesis, Chulalongkorn
University, Thailand, 2000.

328

