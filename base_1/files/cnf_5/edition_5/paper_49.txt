New Methods in Fractal Imaging
Michael F. Barnsley, John Hutchinson
Australian National University

Abstract

met by certain pairs of IFSs and result in sometimes
beautiful continuous transformations between pictures.
For example, animated cloudscapes may be produced
using a single fractal homeomorphism plus a single input
picture of the sky.
(iii) Y -variable fractals, discussed in Section 5, provide a bridge from IFS attractors to "random" fractals.
The symbol Y represents a positive integer which describes the amount of randomness of a Y -variable fractal. These fractals may be used to provide random
variants of a picture or structure. As an example we
illustrate how diverse textures can be generated from
a single input texture, and how an inﬁnite collection
of random synthetic human faces by may deﬁned by a
single input image and sampled using random iteration.

In this paper we draw attention to some recent advances
in fractal geometry and point out several ways in which
they apply to digital imaging. Simple applications include a method for animating backgrounds in the production of synthetic content, including seascapes, forests,
and skies; a novel low-cost technique for creating animated talking heads with unique look-and-feel; and the
sharing of engaging graphics, at low bandwidth, between
wireless devices such as cellphones.
These advances make use of an addressing system
which may be associated with the "top" of the attractor
of an iterated function system (IFS). Previous computer
graphics applications of IFS theory have focused on models based on the attractors and the invariant measures
of IFSs. The addressing system enables the establishment of mappings between attractors; it is these trans- 2
Tops Functions
formations, rather than the attractors themselves, that
underlie the digital imaging ideas introduced here.
Let an iterated function system (IFS) be denoted

1

F := {X; i1 > ===> iQ }=

Introduction

(1)

This consists of a ﬁnite of sequence of one-to-one contraction mappings iq : X $ X acting on a compact metric space (X> g) with metric g so that for some 0  o ? 1
we have g(iq ({)> iq (|))  o · g({> |) for all {> | 5 X, for
q = 1> 2> ===> Q . It is well-known [13] that there exists
a unique non-empty compact set DF  X, called the
attractor of the IFS, such that

Fractal geometry has previously provided methods
for generating digital images which represent terrains,
cloud textures and plants; see for example [14], [15],
[16] and [17]. Here we report on the relevance of three
new mathematical discoveries to modelling and rendering synthetic digital images. The discoveries relate to
IFS theory, see for example [13], [2] and [5]. IFS theory, brieﬂy described in Section 2, has been applied to
computer graphics, see for example [4] and [11], and
to image compression, see for example [3] and [6]. We
refer to the new discoveries as (i) fractal tops [8], (ii)
the fractal homeomorphism theorem [10] and (iii) Y variable fractals [7].
(i) The theory of fractal tops, discussed in Section 2,
provides a useful mapping from an IFS attractor into
the associated code space. It may be applied to assign
colours to the IFS attractor via a method which we refer
to as colour-stealing, see Section 3.
(ii) The fractal homeomorphism theorem, discussed
in Section 4, yields conditions under which two dierent
IFS attractors are homeomorphic. The conditions are

DF =

[

iq (DF )=

q

Let the associated code space be denoted by . This
consists of inﬁnite sequences of symbols {n }4
n=1 belonging to the alphabet {1> ===> Q }. We write  = 1 2 3 === 5
 to denote a typical element of , and we write $n to
denote the nwk element of $ 5 . Then (> g ) is a
compact metric space, where the metric g is deﬁned
by g (> $) = 0 when  = $ and g (> $) = 2n when
n is the least index for which n 6= $n . We order the
elements of  according to
 ? $ i n A $n
1

Proceedings of the International Conference on Computer Graphics, Imaging and Visualisation (CGIV'06)
0-7695-2606-3/06 $20.00 © 2006

where n is the least index for which n 6= $n . This
is a linear ordering, sometimes called the lexicographic
ordering.
Let !F denote the associated code space function [13].
Then !F :  $ DF is the continuous onto function
deﬁned by
!F () = lim i1  i2  ===in ({)
n$4

for some { 5 X. The limit is independent of the choice of
{. The set of codes of a point { 5 DF , namely !1
F ({) :=
{ 5  : !F () = {}, is compact and possesses a unique
largest element F ({). We call F : DF $  the tops
function [8] of the IFS. The set F () is shift-invariant
and as a consequence there are e!cient algorithms for
approximation of F , see [10]. (A subset    is called
shift-invariant when  = {2 3 === 5  : 1 2 3 === 5
}.)
The tops function of an IFS may be used to assign
colours to its attractor. It can also be used to construct homeomorphisms between attractors. For the
Figure 1: Attactor of an IFS rendered by indexing (top
rest of this paper we restrict attention to the case where
left), measure theory (top right) and colour-stealing
2
X = ¤ := {({> |) 5 R : 0  {  1> 0  |  1} and the
(bottom left). The image at lower right is the one from
transformations which comprise IFSs are a!ne.
which the colours were stolen.

3

Colour-Stealing
is "almost continuous": the map !G is continuous with
respect to the natural topology on code space and F
is continuous at points of DF which do not belong to
a certain countable set of boundaries, see Chapter 4
of [10]. These boundaries may be revealed when colourstealing is applied, and may combine harmoniously with
the forms and colours in the picture Q.
If the picture Q is transformed by a continuous transformation, for example by a horizontal translation, then
the picture P changes almost-continuously. See for example the bottom left image in Figure 2. Animations,
which can be produced by steadily translating Q while
holding F and G ﬁxed, may seem quite beautiful. See
for example [9].

Two well-known methods by which colours may be assigned to the attractor DF of an IFS F are by indexing,
where each point { 5 DF is coloured according to the
value of q such that { 5 iq (DF ), see for example [11],
and by using measure theory, see [4]. Indexing does not
work when the attractor of the IFS is overlapping, and
the measure theory method is expensive to compute.
The new method, colour-stealing, applies in all cases, is
cheap to compute and very versatile. Pictures produced
using colour-stealing may be beautiful and possess distinctive look-and-feel, see Figures 1 and 2.
Colour-stealing is deﬁned as follows. Let G :=
{¤; j1 > ===> jQ } denote a second IFS and let Q : ¤ $ F
denote a picture on ¤, namely a function whose domain
is ¤ and whose range lies in a colour-space F such as
F = {0> 1> 2> ===> 255}3 . Let DG  ¤. Then we deﬁne a
new picture P : DF $ F by

4

Fractal homeomorphisms

In certain cases the transformation !G  F : DF $
DG is a homeomorphism. That is, !G  F is a one-toone continuous transformation from DF onto DG and
its inverse, given by !G  F is also continuous. One
situation where this occurs may be described as follows.
Let us write X to denote the closure of a subset
X   with respect to the metric g . Let HF () =
{$ 5 F (DF ) : !F ($) = !F ()} for all  5 . Let
VF = {HF () :  5 }. We call the set of subsets
VF the code space structure of the IFS F. The frac-

P({) = Q(!G (F ({)) for all { 5 DF .
That is, informally, each code (address) $ 5  is assigned the colour of the point on the attractor of G
given by this code. Each point on the attractor of F
is then given the colour of the "top" code (address) of
this point. We say that the colours of P have been
stolen from Q, and we call P a stolen picture.
The unique look-and-feel of stolen pictures derives in
part from the property that the transformation !G  F
2

Proceedings of the International Conference on Computer Graphics, Imaging and Visualisation (CGIV'06)
0-7695-2606-3/06 $20.00 © 2006

Figure 3: The ranges of the two IFSs used to make the
fractal homeomorphism in the pictures of New York.

obtained by translating the original cloud picture sideways.

5

V-Variable Fractals

Rather than describing the full theory of Y -variable
fractals
and superfractals here, we consider the case
Figure 2: The top left image P is the attractor of an IFS
Y
=
1,
previously
noted in [1] and [12], and we refer
F of three a!ne transformations, rendered by colourto
[7]
and
[10]
for
the
generalization to Y  1. Let
stealing from the image Q at top right. The IFS G, used
to select the stolen colours, is similar to but distinct
q
}
Fq = {¤; i1q > i2q > ===> iP
from F. The image at lower left is a 2× zoom on P.
The image at lower right is a 4× zoom, but the IFS G denote an IFS for each q 5 {1> 2> ===> Q }. Let H denote
has been replaced by T GT 1 where T is a horizontal the nonempty compact subsets of ¤, and let denote
translation.
Fq : H $ H denote the function deﬁned by Fq (E) =
S
q
ip
(E) for all E 5 H, for each q 5 {1> 2> ===> Q }. Then
p

Fq : H $ H is a strict contraction mapping with respect
tal homeomorphism theorem, see Chapter 4 of [10], in- to the Hausdor metric on H and
cludes the statement that if the two IFSs F and G have
(2)
F : ={H : F1 > F2 > ===> FQ }
the same code space structure then !G  F is a homeomorphism. Roughly speaking this says that if the sym- is an IFS. The attractor AF of F is a set of sets and is
bolic dynamical systems associated with the tops of the an example of what we call a superfractal. In contrast,
two IFSs are topologically conjugate, then the attrac- the attractor DF of the IFS in Equation 1 is a set of
points, a single fractal.
tors of the IFSs are homeomorphic.
The elements of AF may be sampled by means of a
We illustrate applications of this theorem in Figrandom iteration algorithm, analogously to the way in
ures 4 and 5. To construct Figure 4, the pictures P
which the points of DF may be sampled by the chaos
and Q are rescaled so that their domains are both
game, [5]. Let sq A 0 for all q 5 {1> 2> ===> Q }, with
¤, and each of the IFSs F = {¤; i1 > i2 > i3 > i4 } and P
s = 1. Then let E0 5 H and deﬁne a sequence
G = {¤; j1 > j2 > j3 > j4 } consists of four a!ne transfor- q q
mations which map ¤ into itself in such a way that ¤ {En }4
n=0 by En+1 = Fn (En ) for n = 0> 1> 2 where n
is neatly tiled by the four sets i1 (¤), i2 (¤), i3 (¤) and is chosen equal to q with probability sq , independently
i4 (¤), and by the four sets j1 (¤), j2 (¤), j3 (¤) and of all other choices. Then two things happen: the elj4 (¤), as illustrated in Figure 3. It is straightforward to ements of the sequence {En }4
n=0 approximate elements
prove that the code space structures associated with the of AF , being assuredly more and more accurate with intwo IFSs are the same. Similarly, two tilings of a trian- creasing values of n; and the asymptotic distribution of
gle by four triangles are used to construct the homeo- the En s is, almost always, the same, namely a certain
morphism between the top two images in Figure 5. The probability measure supported on AF . This result is iltwo rectangular images are frames from an animation lustrated in Figure 6 where we show, from left to right,
3

Proceedings of the International Conference on Computer Graphics, Imaging and Visualisation (CGIV'06)
0-7695-2606-3/06 $20.00 © 2006

Figure 5: Top two triangular images show before and
after a fractal homeomophism of a triangle to a triangle.
The two rectangular images are frames of an animation
produced from the original cloud picture.

sulting sequence of vectors of subsets of ¤ converges,
almost always, to the same stationary distribution. The
components of the stationary vectors are called Y variable fractal sets and the set consisting of all of them
is called a superfractal. The distribution of elements occuring in any ﬁxed component deﬁnes a certain measure
on the superfractal which depends only on the probabilities and is correctly sampled by the random construction. As Y tends to inﬁnity this distribution converges,
in the appropriate sense, to a probability distribution
on truly random fractal sets, [7]. For computer graphics applications, low values of Y seem to be particularly
useful, as illustrated by the case Y = 1, above.

Figure 4: Before (lower image) and after (upper image)
a fractal homeomorphism. See text. The original photo
of New York was obtained from BigStockPhoto.com,
and its copyright is owned by Brian Kelly.

from top to bottom, E0 > E1 > ===> E11 . These sets have
been rendered using a version of colour-stealing. In this
case Q = 2 and P = 4. Each of the IFSs is deﬁned by a
tiling of a triangle by four triangles, and the superfractal AF consists of an uncountable collection of pictures
of faces. The random iteration algorithm starts out on
a polygonal set and, while more and more accurately
representing members of the collection of faces, approximately samples the collection according to a certain
ﬁxed probability distribution.
In Figure 7 we illustrate synthetic marble textures
obtained by using three IFSs of a!ne maps, each corresponding to a dierent tiling of a triangle by triangles.
In the case Y A 1 a more complicated random
construction is used. We construct a sequence of
vectors of sets {(E1n > E2n > ===> EYn ) 5 HY }4
n=0 , where
0
0
0
>
E
>
===>
E
)
is
chosen
arbitrarily
and
Eyn+1 =
(E
1
2
Y
S n>y n
ip (Eop ) where op is selected randomly from

6

Concluding Remarks

We have described brieﬂy some new results in IFS theory including the concept of the tops function, colourstealing, fractal transformations, and superfractals. For
the interested researcher, a much fuller introduction to
this underlying mathematics is provided in [10]. We
point out here that, although the mathematical structures involved may seem at ﬁrst to be abstract and difﬁcult, the practical methods which they lead to, based
on the chaos game, are simple to implement.
We have illustrated a few of many potential applications. Our goal has been to expose original ideas,
based on IFS addressing structures and the fractal concept of describing objects by the relationships between
p
{1> 2> ===> Y } and n>y equals q with probability sq , each their parts, self-referentially. This approach is quite dischoice being independent of all other choices. The re- tinct from classical computer graphics wherein models
4

Proceedings of the International Conference on Computer Graphics, Imaging and Visualisation (CGIV'06)
0-7695-2606-3/06 $20.00 © 2006

Figure 7: Four synthetic marble textures constructed
using 1-variable fractals.

[4] Barnsley, M. F.; Reuter, L.; Jacquin, A.;
Malassenet, F.; Sloan, A. Harnessing chaos for image synthesis, Computer Graphics, 22 (1988), 131—
140.

Figure 6: Sequence of images produced by random iteration on a superfractal, converging to a sequence of
subtly dierent faces.

[5] Barnsley, M. F. Fractals everywhere. Second edition. Revised with the assistance of and with a forward by Hawley Rising, III. Academic Press Professional, Boston, MA, 1993.

are built up from geometrical primitives, and leads generally to rendered images with distinctive look-and-feel.
Although we have emphasized computer graphics examples, there are clearly potential applications in other
areas of digital imaging, including encryption, enhancement, watermarking, and compression.

[6] Barnsley, M.F; Hurd, L. P. Fractal image compression, AK Peters, Boston, MA, 1993.
[7] Barnsley, M.; Hutchinson, J.; Stenﬂo, Ö. A fractal valued random iteration algorithm and fractal
hierarchy. Fractals, 13 (2005), no. 2, 111—146.

References
[1] Asai, T. Fractal image generation with iterated
function set. Ricoh Technical Report No. 24, November 1998, 6—11.

[8] Barnsley, M. F. Theory and application of fractal
tops. 3—20, Fractals in Engineering: New Trends in
Theory and Applications. Lévy-Véhel J.; Lutton,
E. (eds.) Springer-Verlag, London Limited, 2005.

[2] Barnsley, M. F.; Demko, S. Iterated function systems and the global construction of fractals. Proc.
Roy. Soc. London Ser. A 399 (1985), no. 1817, 243—
275.

[9] Barnsley, M. F.; Barnsley, L. F.; Xie, R. Colourstealing animations, www.superfractals.com
[10] Barnsley, M. F. Superfractals. Cambridge University Press, Cambridge, New York, Melbourne,
2006.

[3] Barnsley, M. F; Sloan, Alan D. A better way to
compress images. Byte Magazine, January 1988.
5

Proceedings of the International Conference on Computer Graphics, Imaging and Visualisation (CGIV'06)
0-7695-2606-3/06 $20.00 © 2006

[11] Demko, S.; Hodges, L.; Naylor, B. Constructing
fractal objects with iterated function systems. Computer Graphics 19 (1985), 271-278.
[12] Hambly, B. M. Brownian motion on a random recursive Sierpinski gasket. Ann. Probab. 25 (1997),
no. 3, 1059-1102.
[13] Hutchinson, J. E. Fractals and self-similarity. Indiana Univ. Math. J. 30 (1981), no. 5, 713—747.
[14] Mandelbrot, B. B. The fractal geometry of nature.
W. H. Freeman Publishing Company, San Francisco, 1983.
[15] Peitgen, H. -O.; Richter, P. H. The beauty of
fractals. Images of complex dynamical systems.
Springer-Verlag, Berlin, 1986.
[16] Prusinkiewicz, P.; Lindenmayer, A. The algorithmic beauty of plants. With the collaboration of J.
S. Hanan, F. D. Fracchia, D. R. Fowler, M. J. M.
de Boer and L. Mercer. The Virtual Laboratory.
Springer-Verlag, New York, 1990.
[17] Stewart, I.; Clarke, A. C.; Mandelbrot, B. B.;
Barnsley, M. F.; Barnsley, L. F.; Rood, W.; Flake,
G.; Pennock, D.; Prechter, R. R.; Lesmoir-Gordor,
N.. The beauty and power of fractals. Clear Books,
London, 2004.

6

Proceedings of the International Conference on Computer Graphics, Imaging and Visualisation (CGIV'06)
0-7695-2606-3/06 $20.00 © 2006

