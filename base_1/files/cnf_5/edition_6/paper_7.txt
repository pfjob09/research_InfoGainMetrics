Corresponding Points Matching Based on Position Similarity
Pan Jun-jun, Zhang Yan-ning
School of Computer Science, Northwest Poly-technology University, Xi an, P.R.C
pan_junjun@263.sina.com, ynzhang@nwpu.edu.cn

Abstract
According to the position similarity of
corresponding points in correlative images, a rule of
points matching based on “the regulation of the
minimum summation of Euclid distance” is presented
when studying the problem of corresponding points
matching from X-ray images. This rule is different from
the conventional corresponding points matching
methods based on gray level or region geometric
feature. It derives from the model of sequence matching
algorithm. According to the condition that the relative
position of any two points in adjacent area from two
images are almost unchanged, this rule minimizes the
summation of corresponding points distance by
adjusting the sequence of points with evolutionary
programming searching algorithm to match
corresponding points. From the experiment on PC, the
result demonstrates that this approach can match the
most feature points correctly in a low cost of time just
based on the position of corresponding points.

1. Introduction
Corresponding points matching is one of the most
challenging problems in computer vision. Many
approaches have been presented to solve this problem.
These approaches can be mainly divided into two
classes. One class is the algorithms bas ed on gray level,
such as the Least Squares Image Matching presented
by Ackermann first [1]. The precision of this algorithm
can be even high to 1/10 or 1/100 pixels level. The other
class is the algorithms based on region geometric
feature. This algorithm is usually matching the regions
with the same geometric feature such as corner points,
parallels and so on. One example of its application is the
reconstruction of coronary artery in DSA images [2].
Coatrieux and Collorec adopted this algorithm to match
the intersection points, corner points and other
geometric feature region of artery, realized the

Proceedings of the Computer Graphics, Imaging and Vision: New Trends (CGIV’05)
0-7695-2392-7/05 $20.00 © 2005 IEEE

searching and matching of corresponding feature
regions automatically [3]. To reduce the searching
range and matching error, some regulations have been
applied, such as the regulation of epipoles, the
regulation of uniqueness and so on. However, because
of many factors such as the difference of imaging
principle, illumination, and photography error, until now
there is no approach presented above can deal with all
the matching problems . Take the problem of “3-d
reconstruction from X-ray images” for example. X-rays
belongs to the penetrating projection images, and each
pixel in X-rays is the integration of projection from all
the voxels on the line of sight. Therefore, each pixel in
X-rays does not have definite surface, and it makes the
matching algorithms based on gray level or geometry
region feature ineffective.
In this paper, an algorithm of corresponding points
matching based on position similarity is presented to
solve this problem. The algorithm is described as the
rule of “the regulation of the minimum summation of
Euclid distance”. And it has been realized by
evolutionary programming finally.

2. Corresponding points matching based on
position similarity
2.1. Sequence matching algorithm
Sequence matching algorithm will be discussed at
first. It is the original model of the algorithm based on
the rule of “the regulation of the minimum summation of
Euclid distance” . In correlative image pair, supposing
there are n feature points in each image. Scan this
image pair in the same sequence. During scanning,
when a feature point is detected, acquire its 2-d
coordinates and store them in a structure array. Then
two arrays stored with 2-d coordinates of feature points
are generated. Supposing the array for the first image is:
L{l1 ( x, y ), l 2 ( x , y ), l3 ( x, y)....... ln −1 ( x, y), ln ( x, y )} (1)

The array for the second image is:
R{r1 ( x, y ), r2 ( x , y ), r3 ( x, y)....... rn −1 ( x, y ), rn ( x, y)}

(2)

If two images satisfy the condition that any two
points have the same relative position from the first
image to the second image, the corresponding point
pair is composed by each element from two arrays in
the same order according to the regulation of
uniqueness:
{l1 ( x , y), r1 ( x , y )}, {l 2 ( x, y ), r2 ( x, y )}, {l 3 ( x , y ), r3 ( x, y )}.......{ l n ( x , y ), r n ( x , y )}

(3)
The geometry expression of the condition satisfied in
this algorithm is: li ( x , y ) is a feature point and l j (x , y ) is

condition that two points in adjacent area have the
same relative position from the first image to the second
image, the corresponding points matching can be
realized by adjusting the sequence of points in an array
to approach the correct answer. In the following part,
such a regulation named “the minimum summation of
Euclid dis tance” will be introduced.
The regulation of the minimum summation of Euclid
distance: If put two correlative images in the same
coordinate system and transfer the gravity centre of
feature points from two images to the same coordinates,
the summation of Euclid distance between two
corresponding points should be minimum in correct
matching. This regulation can be described as the
following mathematic model:

any other feature point in first image. Their
corresponding points in second image are: ri ( x , y ) and

n

∑d

xij

(4)

= 1, i = 1,2,3.......n,

(5)

= 1, j = 1, 2, 3.......n,

(6)

min

ij

i , j =1

r ( x , y ) . Supposing the relative position of two points

n

j

in first image is: xl ≤ xl , yl ≤ yl , there should be:
i
j
i
j

s. t.

n

∑x

j

In correlative vision, the geometric relation of points
in horizontal and vertical direction will not change if the
rotation angle of camera is small. Then the sequence
matching algorithm can be used. However, in fact when
the rotation angle of camera is large and photographic
error exists, correlative image pair only satisfies the
condition that two points in adjacent area, not in global
area, have the same relative position from the first
image to the second image. Hence, the sequence
matching algorithm is always ineffective for the
satisfied condition is too strict. Therefore, to generalize
the algorithm presented above and keep its validity, a
regulation should be constructed to lower the
strictness of condition.

2.2. Regulation of minimum summation of
Euclid distance
After generating the array containing n feature
points by sequence matching algorithm for the first
image, according to the regulation of uniqueness, there
is only one point in the second image to match each
point in the first image no matter what scanning
sequence is. That means two feature points sets satisfy
the relationship of mapping from one point in first
image to one point in second image. Obviously, it’s a
permutation problem and there are n ! different answers
in total, and only one is correct. In this correct situation,
if a regulation can be constructed to make it satisfy the

Proceedings of the Computer Graphics, Imaging and Vision: New Trends (CGIV’05)
0-7695-2392-7/05 $20.00 © 2005 IEEE

ij

j =1

xri ≤ xrj , yr ≤ y r in second image.
i

∑x

ij

i =1

x ij ∈ {0 ,1}, i, j = 1,2 ,3 ......n ,
d ij = ( xli − xrj ) 2 + ( y li − y rj ) 2 , i, j = 1,2,3......n,

(7)
(8)

xij =1 in (7) express the
number i point in array L match the number j point
in array R . In (8), d ij express the Euclid distance
between the number i points in array L and the
number j point in array R . The target function (4)
The decision variable

express that the summation of distance between two
points of each matched pair should be minimum.
Formula (5) expresses that each point in the first image
should match the corresponding point in the second
image, and matches only once. Formula (6) expresses
that each point in the second image should match the
corresponding point in the first image, and also
matches only once. The geometry expression of the
condition satisfied in this algorithm is: li (x ,y ) is a point
in the first image and l j ( x , y ) is the other point in the
adjacent area ofl j ( x , y ) . Their corresponding points in
second mage are: ri ( x , y ) , r j (x , y ) . Supposing
geometry relation of this two points in first image is:
xl ≤ xl , y l ≤ yl . According to the position similarity
i

j

i

j

of corresponding points, there is: xr ≤ x r , yr ≤ yr in
i
j
i
j
the second image.

From the mathematic model above, corresponding
points matching becomes an optimization problem. Its
answer set is limited, and there are n ! different answers.
The optimistic answer can be calculated by
enumeration if n is small. However when n is large, this
problem can hardly be solved because it’s a NP-hard
problem. A feasible method to solve this kind of NPhard problem is to find a sub-optimistic answer in
limited time by evolutionary algorithm. The feature
points in arrays L and R are impossible matched all
correctly in (3), however they are not in disordered in
global area, just in disordered in a part area. Therefore,
the crossing operator in evolutionary algorithm is
ineffective. In contrast, the mutation operator can
enhance the searching capacity in part area. So the
evolutionary programming is adopted to search the
optimistic answer in this algorithm.

∧

at ( a t ∈ Pt ∪ Pt , Pt is the corresponding points pair
∧

set before mutation, Pt is the corresponding points
pair set after mutation). Select g individuals in the top
fitness of 2 g individuals for the next generation.
2.3.4. Generation scale number
It is the best situation in which the time cost is 0 if
two images satisfy the condition that any two points in
global area have the same relative position from the first
image to the second image. If the scanning sequence of
one image is reversed and image pair still satisfies the
condition above, it is the worst situation in which the
time cost is highest. And the generation scale number
is n ( n − 1) at least. According to the best and the worst
2

2.3. Realization by evolutionary programming
Fix the sequence of feature points in array L , change
the sequence of feature points in array R when there is
a mutation operation taking place in this position. Then
calculate the fitness of each individual in new matching
result, and eliminate the individuals whose fitness is
small. These are the explanations to all operators in
evolutionary programming as follows:
2.3.1. Fitness function
Use the reciprocal of min

n

∑d

i , j =1

fitness. Supposing there are

ij

xij to measure the

g individuals in every

situations above, the average generation scale number
is n(n − 1)
4

3. Experiments and analysis
Match the corresponding points in correlative X-ray
images by the algorithm above, and make a comparison
with other two algorithms which are based on epipolar
lines and sequence matching. Figure.1 is the original Xray image pair of the human jaw. There are 130 metallic
granules pasted on the lower jaw of testee in tape
shape to make the feature points. Figure.2 is the sketch
map of X-ray photographing.

generation, the best matching is the individual with the
maximum fitness in the last generation.
2.3.2. Mutation operator
There are many different kinds of mutation operator
in evolutionary programming. The mutation operator
chosen in this algorithm is realized by changing the
position of the adjacent points. Take 10 corresponding
points matching problem for example. Supposing one
individual in old generation is 9 8 2 1 7 4 5 0 6 3, the
position number which is generated by program in
random is 2. Change the position of 8 and 2, then this
individual in new generation is 9 2 8 1 7 4 5 0 6 3.
2.3.3. Selection operator
The “Half selection algorithm” is chosen in this
algorithm. After g individuals in old generation are
generated by the mutation from their father generation,
calculate
the
fitness
of
each
individual

Proceedings of the Computer Graphics, Imaging and Vision: New Trends (CGIV’05)
0-7695-2392-7/05 $20.00 © 2005 IEEE

90o Projection

45o Projection

Figure 1 Original X-ray image pair

points in global area have an unchanged relative
position. Otherwise, the result is bad, even the
matching error in chain take place.

Figure 2 Sketch map in X-ray photographing
After detection and segmentation of feature points,
match the corresponding points of image pair in
Figure.1. The adopted algorithms in order are algorithm
based on epipolar lines, sequence matching algorithm,
the algorithm based on “the regulation of minimum
summation of Euclid distance” . The algorithm based on
epipolar line is searching the nearest points from each
epipolar line ranged about three pixels. The results are
illustrated in Figure.3 and the analysis of results is
discussed in the following part.

(a)

(b)

(c)

Figure 3 Results of corresponding points
matching based on different algorithms

(3) The result in (c) is the best in comparison with the
results in (a) and (b). In optimization searching by
evolutionary programming, the generation scale number
is 130(130 − 1) ≈ 5000 . The cost of time in whole process
4
is 2.7 seconds and the accuracy of matching is 93.8%.

4. Conclusions
Corresponding points matching algorithm based on
“the regulation of minimum summation of Euclid
distance” is introduced. This algorithm is described as
a rule in this paper. It gives the regulation to match the
corresponding points to the least error according to the
condition that the relative position is almost unchanged
for points in adjacent area of correlative images. In the
end, it has been realized by evolutionary programming.
This algorithm is different from the conventional
corresponding points matching methods based on gray
level or region geometric feature. It conducts the
matching from the position similarity of corresponding
points. Experimental results illustrate that this algorithm
can match the most points correctly in a low cost of
time just based on the position of feature points.
At present, the regulation of minimum summation of
Euclid distance is proved in practical through many
experiments and applied in some projects. The next step
for farther research is to prove it as a theorem in theory.

(a) 3-d points matched by epipolar lines searching
(b) 3-d points matched by sequence matching
algorithm

Acknowledgements

(c) 3-d points matched by the algorithm based on
“ the regulation of minimum summation of Euclid
distance”

The project of this paper has been supported by China
Space Foundation and Technology Innovation
Foundation of Shaan xi Province.

(1) 3-d points in Figure.3 (a) are not completely in tape
shape because of the matching error. The reason is that
the feature points are so dense that the error range of
searching in vertical direction is beyond the distance of
two adjacent rows of feature points.
(2) 3-d points in some regions are matched correctly in
Figure.3 (b). However, there are “bad points” in some
regions because the adaptability of sequence matching
algorithm is limited. The result will be good when the
points in some regions satisfy the condition that two

Proceedings of the Computer Graphics, Imaging and Vision: New Trends (CGIV’05)
0-7695-2392-7/05 $20.00 © 2005 IEEE

References
[1] Bethe J. “Least square image matching for CE604”,
Proceeding of International Symposium of Remote
Sensing, Ottawa, Canada, 14 June 1997, pp. 457~467
[2] Gruen W. “Adaptive least squares correlation: a powerful
image matching technique”. International Conference of
Remote Sensing, Phoenix, Arizona, USA, 2001, pp.
65~71

[3]

Vladimir
Kolmogorov.
“Multi-camera
scene
reconstruction via graph cuts”. Computer Science
Department, Cornell University, Ithaca, New York,
USA, 2003, 21, pp. 1~5
[4] Sylvain Paris, Francois X. “A surface reconstruction
method using global graphic cut optimization”.
European Conference in Computer Vision, Rhodes,
Greece, 2003, pp. 1~7
[5] Canero M , Radeva P, Toledo R, Mauri J. “3D curve
reconstruction by biplane snakes”. Pattern Recognition.
2001, 33(13), pp. 90~96
[6] Bjbm Wolters, Slager C, Fjm Gijsen. “On the numerical
analysis of coronary artery wall shear stress”. Med Phys.
2002, 20(13), pp. 894~904

Proceedings of the Computer Graphics, Imaging and Vision: New Trends (CGIV’05)
0-7695-2392-7/05 $20.00 © 2005 IEEE

