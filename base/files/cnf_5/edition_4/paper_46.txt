Homogeneity Based Background Subtraction for Robust Hand Pose Recognition :
Focusing On the Digital Game Interface
YoungJoon Chai, DongHeon Jang, TaeYong Kim
Department of Image Engineering, Graduate School of Advanced Imaging Science, Multimedia,
and Film, Chung-Ang University, 221 Huksuk-dong Dongjak-ku 156-756, Seoul, South Korea
{mist1014@hanmail.net, tellamon@gmail.com, kimty@cau.ac.kr}
Abstract
This paper proposes a new game-control interface
using hand poses captured from a digital camera.
Extracting skin color from the background-subtracted
image is generally used for segmenting hand region. But
it suffers from change in illumination, shadows and skincolored objects so that unwanted subsets reduce
accuracy in hand pose recognition. To deal with these
problems, first, subtracting skin colors from the
background image must be done and second, it mustn’t
get affected by changes in background. The paper
describes an approach to using variance of homogeneity
for skin color extraction. Homogeneity which represents
contrast in a window is robust against change in
illumination and can be used to effectively extract skin
color rather than color or brightness based subtraction
from background. The recognition of hand poses
proceeds by computing fourier descriptor of extracted
pixels. This approach to recognition can robustly identify
hand poses comparing to the others. Experiments on
real-time game demonstrate the robustness of the
proposed method.
Keywords--- Hand Pose, Fourier Descriptor,
Background Subtraction, Skin Color.

1. Introduction
Nintendo has succeeded in a video game market
with a new generation game platform Wii equipped with
a novel human-computer interface which brings unique
immersive and perceptive sense to video gamers who
lost interest in traditional input devices such as keyboard,
mouse or joystick. Many researches are conducted on
game interfaces which give unlimited creativeness in
game design as it broadens its usability to other cultural
territory.
Having seen the needs for more immersive interface
in game industry, we propose a new interactive interface
with hand gestures used as inputs to video games.
Recognizing hand gestures can be achieved by either

Computer Graphics, Imaging and Visualisation (CGIV 2007)
0-7695-2928-3/07 $25.00 © 2007

using glove or vision-based method. Glove can provide
accurate data but it is expensive and inadequate for
current game platforms so vision-based system is
preferred and cameras are standard in new generation
game consoles and PC which is recently considered as a
set-top box replacing other multimedia devices. To
recognize hand gestures, we need to represent hand pose
in a form suitable for further computer processing.
Fourier descriptor has been frequently used to identify
each pose [1], [2], [3], [4]. Fourier descriptor provides
accurate precision with rotational and positional
invariance but it prerequisite correct segmentation of
hand region. This paper proposes a robust method of
segmentation for Fourier descriptor to recognize hand
poses.
Although the segmentation process is essential in
nature for further recognition processing, it is difficult to
obtain the exact pixels of hand pose due to illumination
changes and self-shadows. The segmentation algorithm
of hand region consists of two levels i.e background
subtraction and skin color detection in foreground.
Illumination changes, shadows and small perturbations
deteriorate consistency in background subtraction and
skin-colored objects and differences of skin color in
persons still remain as major problems.
The Background differencing methods are attempted
using color or intensity thresholding [5]. J. Heikkila
employed an adaptation coefficient according to new
changes in the background scene [6]. But it is susceptible
to sudden illumination changes. To model the variances
of background, C. Stauer used mixture of Gaussian on
changes of pixel intensity [7], [8].
But only color or intensity based background system
fails in illumination changes. Anwander, A. and O. Javed
modeled background features based on gradients of
image [9], [10]. Recently, a few methods of temporal
such as Optical flow and color co-occurance were
introduced for object segmentation in motion [11], [12].
Recent studies showed the compositional way of above
methods.
In this paper, we propose an effective way of
segmentation for fourier descriptor in which hand pose
recognition is demonstrated. For successive recognition

of fourier descriptor, boundary of hand region must be
extracted clearly without getting affected by change in
illuminations. Intensity or color based subtraction
method depends on noisy error in illumination. So we
use homogeneity of the pixel of concern over neighbor
pixels to classify hand region from background model
which is then further processed in extracting boundary.

F (Δm, Δd ) =
Δm
2πσ f x σ f y 1 − ρ

2. Color and gradient based background
subtraction
2.1 Gradient based background subtraction
J. Heikkila introduced the gradient based
background subtraction method that our homogeneity
method is based on [6]. They use Δ = [Δ m , Δ d ] as a
feature vector for
differencing where

gradient

based

Δ m : the gradient magnitude,

back

ground

f x2 + f y2

Δ d : the gradient direction, tan −1

fy
fx

In order to model the gradient of background
intensities, we need to compute the distribution of Δ .
Let xi , j = [ R, G , B ] be the color for a given pixel(i,j),
t

then g i , j = αR + β G + τB will be its gray scale value.

z
)
2(1 − ρ 2 )

(1)

z and ρ is defined as follows
Δ m cos Δ d − μ f x 2
z=(
)
σ fx

+(

(e)-(f) in figure 1 shows the results subtracting
background methods with threshold values. With the
lowest value in (e), noisy pixels come up around the
hand region and the image of (h), hand region is barely
seen although small noises exist. Both cases show the
difficulty for the required segmentation. The image in (d)
is the result of using the proposed method with several
holes inside the hand region preserving consistent
boundary.

exp(−

Where

− 2ρ (

Figure 1 (a) background image (b) current input
image (c) extracted skin color (d) proposed
method (e)-(f) background subtracted images
with threshold values, 10 to 20

2

Δ m cos Δ d − μ f x

σf

Δ m sin Δ d − μ f y

ρ=

σf
σ i2, j
σf σf
x

Here

x

)

)(

Δ m sin Δ d − μ f x

σf

y

)
(2)

2

y

y

μ f , μ f ,σ f ,σ f
x

y

x

y

are the means and

deviations of x and y directions respectively.

2.2 The problem of Color and gradient based
background subtraction

Figure 2 Four image sequences of color based
method with GMM captured with the interval of
two seconds.
With the gradient based method, they combined the
color based background subtraction in [6]. Figure 2
shows the sequential images captured at each 2 seconds
where the above method is applied. It is shown that
substantial noise appeared with hand movements on
screen because of reflected light and auto-correction of
exposure of camera. In this paper, we propose a
homogeneity based subtraction method which has
superior performance than color and gradient based
method under adverse environments. In the next chapter,
our method is described and we also show that the result
is more robust if skin color region is combined.

3. Homogeneity based background
subtraction

t

We define f x = g i +1, j − g i , j , f y = g i , j +1 − g i , j for the
t

t

t

t

gradients of x and y direction respectively around
neighbor pixels. Since we know the distribution
of f x , f y , if we apply standard deviation transform in
[14] we determine the distribution of feature vector
[Δ m , Δ d ] as follows.

Computer Graphics, Imaging and Visualisation (CGIV 2007)
0-7695-2928-3/07 $25.00 © 2007

3.1 Homogeneity
Homogeneity is largely related to the local
information extracted from an image and reflects how
uniform a region is [15]. Homogeneity is defined as a
composition of two components [16]: the standard
deviation and discontinuity of intensity within a window.
The standard deviation describes the contrast within a
local region. Discontinuity is a measure of abrupt

changes in gray levels and could be obtained by applying
edge detectors to the corresponding region. We only use
the standard deviation to represent homogeneity in this
paper for computational simplicity.
Suppose ci , j is the color components values of a
pixel Pi , j at the location (i,j). wi , j is a size

d ×d

window centered at (i,j) for computation of variation. We
regard wi , j as the local regions while we calculate the
homogeneity features for a pixel Pi , j . The vectors of the

3.2 Gaussian Mixture Model
To estimate the background, we adopt a mixture of
Gaussian model that Stauffer and Grimson introduced in
[7] with homogeneity applied. In this model, k number of
Gaussian model converges in the distribution of color
components space. PDF of homogeneity H i , j of a pixel

Pi , j at t frame is defined as

N (hit, j , mit, j , Σit ,, kj ) =

standard deviation Si , j is defined as follows

1
n
2

(2π ) Σ

×
t ,k
i, j

(8)

⎧
⎫
⎪s p,q | s p,q = c p,q − μ p,q , ⎪
⎪
⎪
d −1 ⎪
⎪ d −1
(3)
≤ p≤i+
,⎬
Si, j = ⎨i −
2
2 ⎪
⎪
d − 1⎪
⎪ d −1
⎪⎩ j − 2 ≤ q ≤ j + 2 ⎪⎭
Here, c p ,q is the color component values of pixels

1
exp− (hit, j − mit,, kj )T (Σit ,, kj ) −1 (hit, j − mit,, kj )
2
t
where hi , j is homogeneity of a pixel located (i,j) and we

μ i, j is the mean of the color

Σ ti ,, kj = diag ((σ it,, kj ,Y ) 2 , (σ it,, kj , Cb ) 2 , (σ it,, kj , Cr ) 2 ) (9)

within a window and

component values within window wi , j and calculated
as .

μi , j

1
= 2
d

i+

d −1
2

j+

d −1
2

∑ ∑c

d −1
d −1
p =i −
j−
2
2

(4)

p,q

as
i+

d −1
d −1
j+
2
2

∑ ∑(c

p=i−

d −1 d −1
j−
2
2

p,q

1
− μi, j )2 = | Si, j (5)
d

where 0 ≤ i ≤ N − 1 , 0 ≤ j ≤ M − 1 .
The standard deviation is normalized in order to
achieve computational consistence.

V (ci , j , wi , j ) =

and Σi , j

t,k

be diagonal matrix for

computational purpose. In this paper, we have
H i , j calculated in YCbCr color space and its covariance
matrix is

The probability of observing the current pixel value
is calculated with the weight ω and K number of
Gaussian models.
K

P(hit, j ) = ∑ ωit,, kj ∗ N (hit,, kj , mit,,kj , Σ ti ,,kj )

(10)

k =1

The standard deviation of a pixel Pi , j is calculated

1
vi, j = 2
d

t ,k

assumed mi , j

vi , j
vmax

(6)

where

vmax = max{vi , j }( 0 ≤ i ≤ N − 1 , 0 ≤ j ≤ M − 1 ).

The homogeneity based method has consistent value
in variation since it uses d × d window which is less
susceptible to illumination changes comparing to the
gradient based. For this reason, we disregard the gradient
information but utilize the standard deviation i.e. the
contrast information to represent homogeneity. Finally
the homogeneity is calculated using the standard
deviation within a window.
(7)
H i , j = H (ci , j , wi , j ) = 1 − Vi , j

Computer Graphics, Imaging and Visualisation (CGIV 2007)
0-7695-2928-3/07 $25.00 © 2007

K is determined by the available memory and
computation power, Currently, 3 is used. The K-means
EM algorithm is used to update parameter of mixture
model. The parameters of K number of the mixture
model of each pixel changes to estimate statistical date of
homogeneity. Then we tested the homogeneity value
range within 2.5 times of standard deviation of Gaussian
as experimented in [7] using mahalanobis distance. The
guassians are sorted by the weight in descending order
and the models are evaluated to estimate background as
follows

B = arg min b (Σ bk =1ω > T )

(11)

The hand region in image is estimated as
background by the other gaussian model i.e. temporal
features change. To avoid the hand region being
classified as background, we separate background
training mode and hand region estimation mode. This is
chosen manually and tested with the average value of
total variance less than 1 in hand region estimation mode.

3.3 Experimental Results
Here, we show some experimental results of the
hand reorganization process. We assume no camera
panning nor zooming, and there is only one hand needs
to be recognized. For each frame of the video sequence
for a given period of time, here 10 seconds, the
recognition success result is measured and evaluated.

The tracked hand-shape is (a) of Figure 5. The target
algorithms being compared are simple background
subtraction, skin color detection, color-gradient with
GMM and our homogeneity method. The comparative
experiment is performed separately under the solid blue
screen and the three different adverse environments:
skin-colored objects dominant scene, scene with sudden
changes in illumination caused by hand in motion and
cluttered background. As seen in Figure 3, the proposed
method produces reliable results in overall experiments
and outperforms the color-gradient method in the
illumination changing scene while it mostly fails on the
cluttered background as the color-gradient method also
does. Because the homogeneity based background
subtraction method is calculated within a window using a
standard deviation value where it is unstable on the edges
in cluttered background.

Figure 5 Six hand poses for hand interface
which respectively has meaning of (a) Move
Forward, (b)Turn Left, (c)Turn Right, (d) Stop,
(e) Fire
The application game is FPS(first person shooting)
game where users can control their player unit to shoot
others. The game is implemented on Torque Game
Engine [21]. Each pose is mapped to game input as
shown in Figure 4.

Figure 3 Experimental results of the 4 different
methods in the adverse environments

4. Application of Hand Pose Game Interface
(HPGI)
4.1 System overview

Figure 6 The flow of HPGI

Figure 4 HPGI system

Figure 4 shows the overall processing flow of HPGI.
The game process itself consumes significant processing
power that makes it impossible to process I/O of cameras
and recognition. So we place the recognition system
separately for independence and flexibility of system and
freely configurable with other system through TCP/IP

4.2 Extraction of Hand Boundary
We made the test-bed game platform as shown in
Figure 3 for new interface system using homogeneity
based hand region extraction. To apply this, we selected
6 simple pose as follows.

Computer Graphics, Imaging and Visualisation (CGIV 2007)
0-7695-2928-3/07 $25.00 © 2007

The extracted pixels from the preprocessing using
homogeneity based method includes hand region and
unwanted foreground objects. We need to extract only
hand region for boundary representation using fourier
descriptor. We exploit skin color to detect only hand
region. One of favorite method of skin color detecting is
to limit skin values within a specific color space. This
method doesn’t require much of computational power

and extra training data. We used skin color extraction
method proposed in [17], [18]. Bu the main difficulty
achieving high recognition rates with this method is the
need to find both good colorspace and adequate decision
rules empirically. It means the other foreground objects
can be miss-classified as skin region if we set large
limiting range. So we combined skin region and the
result obtained above to extract hand region from
foreground objects.

Figure 7 (a) Subtraction from Background (b),
Skin
color
detection,
(c)
background
subtraction based on homogeneity, (d)
boundary of (c), (e) combined AND result of (b)
and (c), (f) center of gravity of (d)
In figure 5, (a) is the result of background
subtraction with threshold value 10. (b) is the result of
skin color with the method described in [18]. Here, lower
area appeared to have the skin color as hand region does.
To remove the skin-colored desk region we use (c) which
is obtained using homogeneity based subtraction and (d)
is its boundary. We combined (b) and (c) to compute (e)
and (f) represent the final hand region with center of
gravity as described in [19]. In the next section we apply
boundaries of (d) only included in (f) area to fourier
descriptor.

We used 64 sampled points to have 22 coefficients
fourier descriptor data set.

4.4 Recognition of Hand pose and its application
Each selected pose is classified with vector
quantization. Vector quantization models the input
patterns to have the single standard pattern or template in
pattern classification form. Computing the vector
quantization on 6 hand pose is to map 22 vectors in
Euclidean space into 6 finite symbols. Here 22 vectors
are coefficients of fourier descriptor and 6 symbols are
the selected hand poses. 20 training data are used and
Euclidean distance is used to find a code vector with the
least distance.

Figure 8 The result of hand recognition using
fourier descriptor and vector quantization
In Figure6, we captured the result images of hand
recognition. This information is transferred to game
system through TCP/IP and applied to control the tank
unit.

4.3 Fourier Descriptor
We used fourier descriptor to represent hand pose
with hand region boundary [19], [20]. First the
boundaries must be sampled with sufficient number so
the data is calculated using DFT. We sampled 64 points
on the boundary. The extracted points on 2D spatial
domain are {x(n), y(n)}, 1 ≤ n ≤ 64 and assumed as 64
elements of hand data set. Each sampled point is
represented
on
complex
plane
as
in
z (n) = x(n) + jy(n) . We then transform z (n) to have
the DFT coefficients a(m) and b(m). We then use the
coefficients for representing a closed boundary. For a
scale-invariant feature the coefficients values are
normalized by dividing the value by the first value.

Am =

Fm
F1

1≤ m ≤ M

Computer Graphics, Imaging and Visualisation (CGIV 2007)
0-7695-2928-3/07 $25.00 © 2007

(12)

Figure 9 The screenshot of game playing with
HPGI

5. Conclusion
In this paper, we have proposed the potential
application of vision based game interface and given the
experiments with the applied implementation. Before
taking account vision based interface into game system,
the characteristics of the targeting game should be
analyzed first. The decent games run at 30~60 fps and it
requires more processing power as high quality graphic
and physic simulation are needed. Vision processing also

consumes much of computational resources and should
be revised to extract only required information with low
computational power. In this paper, we proposed a vision
based robust hand recognition system for game interface.
Homogeneity based method has more consistent
boundary information of foreground objects. With the
proposed method, we applied the vector quantization to 6
hand poses which is successfully given to game system.
In spite of consistent of boundary feature of homogeneity
method, it fails recognition under complex background,
sudden illumination changes and dim lighted space. We
leave utilization of other human body parts such as
shoulder or face for immersive game interface for future
research.

Acknowledgements
This research was supported by the ITRC(Information
Technology Research Center, MIC) program and Seoul
R&BD program, Korea.

References
[1]

Chan Wah Ng and Surendra Ranganath. "Gesture
recognition via pose classification", in Proc Pattern
Recognition, 2000, Volume 3, Sept. 2000, pp. 699-704.
[2] Chan Wah Ng and Surendra Ranganath, “Real-time
gesture recognition system and application," Image and
Vision Computing, Volume 20, Dec. 2002, pp. 993-1007.
[3] Harding. P.R.G. and Ellis. T., “Recognizing hand gesture
using Fourier descriptors”, in Proc Pattern Recognition,
2004. ICPR 2004, Volume 3, Aug. 2004, pp. 286-289.
[4] Attila Licsár and Tamás Szirányi, "User-adaptive hand
gesture recognition system with interactive training,"
Image and Vision Computing, Volume 23, Issue 12, Nov.
2005, pp. 1102-1114.
[5] S. Di Zenzo, "A Note on the Gradient of a Multi-Image",
CVGIP: Graph. Mod. and Image Proc., 33, pp.116-125,
86.
[6] J. Heikkila and O. Silven, “A real-time system for
monitoring of cyclists and pedestrians in”, Second IEEE
Workshop on Visual Surveillance Fort Collins, Colorado,
Jun. 1999., pp. 74-81.
[7] C. Stauer and W. E. L. Grimson, “Adaptive background
mixture models for real-time tracking in”, Computer
Vision and Pattern Recognition Fort Collins, Colorado,
Jun. 1999, pp. 246-252.
[8] M. Harville, G. Gordon and J. Woodfill, “Foreground
segmentation using adaptive mixture model in color and
depth," in Proc. IEEE Workshop Detection and
Recognition of Events in Video, July 2001, pp. 3-11.
[9] Anwander, A. and Neyran, B. and Baskurt, A.,
"Multiscale colour gradient for image segmentation",
Knowledge-Based Intelligent Engineering Systems and
Allied Technologies, 2000., Aug. 2000, Volume 1,
pp. :369-372.
[10] O. Javed, K. Shafique and M. Shah, “A hierarchical
approach to robust background subtraction using color
and gradient information," in Proc. IEEE Workshop
Motion Video Computing, Dec. 2002, pp. 22–27.

Computer Graphics, Imaging and Visualisation (CGIV 2007)
0-7695-2928-3/07 $25.00 © 2007

[11] L.Wixson, “Detecting salient motion by accumulating
directionary-consistent flow," IEEE Trans. Pattern Anal.
Machine Intell., Volume 22, pp. 774–780, Aug. 2000.
[12] L. Li,W. M. Huang, I. Y. H. Gu, and Q. Tian,
“Foreground object detection in changing background
based on color co-occurrence statistics," in Proc. IEEE
Workshop Applications of Computer Vision, Dec. 2002,
pp. 269-274.
[13] Liyuan Li, Weimin Huang, Irene Yu-Hua Gu and Qi
Tian, "Statistical modeling of complex backgrounds for
foreground object detection", Image Processing, IEEE
Transactions on Volume 13, Issue 11, Nov. 2004, pp.
1459-1472.
[14] G. Casella and R. Berger. Statistical Inference. Duxbury,
2 edition, 2001.
[15] R. C. Gonzalez and P. Wintz, "Digital Image
Processing," Addison-Wesley Publishing Company,
1987.
[16] Heng-Da Cheng and Ying Sun, "A hierarchical approach
to color image segmentation using homogeneity," Image
Processing, IEEE Transactions on Volume 9, Issue 12,
Dec. 2000, pp. 2071-2082.
[17] Peer, P., Kovac, J. and Solina, F., "Human skin colour
clustering for face detection.", EUROCON 2003 International Conference on Computer as a Tool., Sep.
2003.
[18] Rein-Lien Hsu, Abdel-Mottaleb, M., Jain, A.K., “Face
detection in color images,” Pattern Analysis and Machine
Intelligence, IEEE Transactions on Volume 24, Issue 5,
May. 2002, pp 696-706
[19] Asanterabi Malima, Erol Ozgur, and Mujdat Cetin, "A
Fast Algorithm for Vision-based Hand Gesture
Recognition for Robot Control," IEEE Conference on
Signal Processing and Communications Applications,
Antalya, Turkey, April 2006.
[20] E. Persoon, K.S. Fu, "Shape discrimination using fourier
descriptor," IEEE Transactions on SMC 7, 1977, pp.
170-179.
[21] http://www.garagegames.com/

