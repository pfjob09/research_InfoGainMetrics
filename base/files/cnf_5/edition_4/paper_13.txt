Keypad Inspection System of Cellular Phone
Du Cheol Gang, Seung Il Han, Byung Gook Lee, Joon Jae Lee
Graduate School of Design & IT, Dongseo University
{ newsephiro@dongseo.ac.kr, tedl2@dongseo.ac.kr, lbg@dongseo.ac.kr,
jjlee @dongseo.ac.kr}
Abstract
In this paper we describe a keypad inspection
of cellular phones using image processing. Before
keypad buttons are assembled, they occur problems
such as surface chipping, color difference, and font
errors under process. To solve these problems and
to improve the quality of the products, automatic
keypad inspection is required. This paper deals
with development of inspection method so that
objects are moved and rotated for matching to
reference image, when objects are in random
direction and location in images. And then, for
inspecting defect of keypad button, all images of
the same patterns of keypad buttons are
sequentially matched by the proposed method.
Keywords--- Defect detection, segmentation,
pattern matching, cellular phone, keypad

1. Introduction
This paper deals with a machine vision system
designed to control and inspect defect of cellular
phone keypad button. The defects in keypad button
are due to surface chipped, color distorted, fonts
errored, etc. It depends on human perception
whether the defect is acceptable or not or how
much it degrades the quality of the device, even
though, manual control tasks are fastidious
subjective and cost effective. Due to its high
demand in market, the quality of the keypad button
becomes a more critical issue for manufacturers. In
order to ensure the quality and improve the yield of
keypad button, the inspection of defects in keypad
button becomes a indispensable task in
manufacturing.
An automatic inspection using machine vision
techniques can offer manufacturers an opportunity
to significantly improve the quality and reduce cost.
The reduction of defects in components level
improves the quality of final products. But the
existing automatic inspecting systems demand high
cost, because they inspect keypads after assembling
keypad buttons of 12 pieces. There are several
works of defect detection on keypad button such as
keypad’s surface, pattern of background’s color in

Computer Graphics, Imaging and Visualisation (CGIV 2007)
0-7695-2928-3/07 $25.00 © 2007

keypad button, font disparity, and many different
type of defect. In this paper we propose a single
key button inspection method based on
segmentation of fonts and keypad and
PCA(principal component analysis) for registering
the input image to reference one. In the image, the
object of keypad button is in random direction and
location. For correctly matching, it is rotated and
translated to reference keypad position. We use the
eigenvalue and eigenvector of PCA which are
constructed by segmented object position
information in image for rotating and translating
the input image. After rotating and translating a
input image, it is compared with the reference
image which is a normal keypad button.

2. Inspection system
The proposed system is shown in Figure 1 to
obtain and inspect defective patterns of keypad
button in Figure 2.

Figure 1. Inspection system

Figure 2. Defective pattern of keypad
The flow chart of this system is shown in Figure
3. First, the segmentation algorithm extracts a pad
and font regions of keypad button, and then find a
direction of keypad button using PCA. The reason

of finding direction is because a rotation requires
standard direction by font and pad features. If
correct pad and font area are detected, we can
translate a location of object and rotate a direction
of object to compare between reference image and
input image. And then, we acquire a difference
image to check the scratch and font error.

is the probability that the pixel is a background
pixel. We can find both areas which are a pad and
font areas through the ratio of P1 and P2.
T=

μ1 + μ 2
2

+

⎛p ⎞
σ2
ln⎜ 2 ⎟
μ1 + μ 2 ⎜⎝ p1 ⎟⎠

(1)

Where μ1 μ 2 and σ 2 are the mean and variance
of the Gaussian density of one class of pixel.

Figure 3. Flowchart

(a) Reference image

(b) Input image

(c) Pad region of (a)

(d) Pad region of (b)

(e) Font region of (a)

(f) Font region of (b)

2.1. Segmentation of pad and font
regions
Threshold Value :

Figure 5. Segmentation of a pad and font
region

2.2. Registration of keypad
Background

Font or Object

Figure 4. Probability density function for
threshold value
An image is segmented by classifying as pixels
with gray levels greater than a threshold T(Figure
4) as background pixels. All other pixels are called
object pixels. Our main objective is to select the
value of T that minimizes the average error in
making the decisions that a given pixel belongs to
an object or to the background. The P1 and P2 are
the probabilities of occurrence of the two classes of
pixels. That is, P2 is the probability that a random
pixel with value z is an object pixel. Similarly, P1

Computer Graphics, Imaging and Visualisation (CGIV 2007)
0-7695-2928-3/07 $25.00 © 2007

The centroid of object is calculated and its
image is translated using Equation (2) for matching
a input image to reference one. To inspect keypad
button’s defect, we store the reference image which
is a normal keypad button and then compare to
input image. When comparing images, the input
image is rotated to same directions in image. In this
paper we use the eigenvector of the PCA(Principal
component analysis) to get the rotation angle(θ).
⎡ 12636549 − 3762543⎤
A=⎢
⎥
⎣− 3762543 5893278 ⎦

(2)

(a) Reference eigenvector (b) Input eigenvector

Figure 6. Eigenvector in the keypad image
( A − λI ) Χ = 0 uses a characteristic equation to
get eigenvalue.

(c) Steps for registration
0
⎡14317107
⎤
0
4212720⎥⎦
⎣

λ=⎢

(3)

Figure 7. Registration of the keypad image

Eigenvalue uses AΧ = λΧ to get eigenvector.
⎡0.913061 − 0.407823⎤
Χ=⎢
⎥
⎣0.407823 0.913061 ⎦

(4)
(a) Difference image (b) Detected scratch

It decides which is bigger among the two
eigenvalue corresponding to the selected
eigenvector to get the rotation angle(θ).
⎛ 0.913061 ⎞
⎟⎟
⎝ − 0.407823⎠

θ = actan⎜⎜

(5)

2.3. Font inspection and scratch
detection
After registering input image to reference one,
the difference image as shown in Figure 8 (a), Then
the font error and scratch is detected by simple
threshold in Figure 8 (b) .

2.4. Color inspection
To check color difference, the color of keypad is
extracted only in keypad region excluding font
regions as shown in Figure 9.

Computer Graphics, Imaging and Visualisation (CGIV 2007)
0-7695-2928-3/07 $25.00 © 2007

Figure 8. Detected scratch of keypad

Figure 9. Region for color comparison
The average color values of all pad regions are
used for distance between input and reference
images. As shown Figure 10, RGB coordinate is
used for illustration, but different color model can
be used instead.

Figure 10. A model of color difference

3. Conclusions
This paper presents a inspection method before
assembling the buttons to reduce the cost, which is
based on PCA on a single keypad button.
Eigenvectors of the PCA which are constructed by
pixel position in input image are used. After
rotating and translating images, it is compared with
reference image which is a normal keypad button.
In this way, user can inspect the defection of
keypad button, even if a image is in random
direction and location. The system can perform
efficiently in real-time environment because it is
detecting and transforming image using eigenvalue
and eigenvector calculated by only the position of
the thresholded objects.

Acknowledgements
This work was supported by grant No. R012004-000-10851-0 from Ministry of Science &
Technology

References
[1] Sang Ji Kim, Nam Yoo Kim, Byung Gook Lee, and
Joon Jae Lee, “FPD Defect Detection Using B-Spline for
Uneven Illumination Variation Compensation”, Proc. of
Conference on Korea Multimedia Society, May 2006.
[2] Sang Ji Kim, Nam Yoo Kim, Byung Gook Lee, and
Joon Jae Lee, “Wavelet Based Uneven Illumination
Compensation for Defect Detection of Flat Panel
Display”, Proc. of 4th IASTED International Conference
on Signal Processing, Pattern Recognition, and
Applications, February 2007.
[3] Hui-Fuang Hg, “Automatic Thresholding for Defect
Detection,” Proc. of Third International Conference on
Image and Graphics, IEEE, 2004
[4] Rafael C. Gonzalez, Richard E. Woods, Digital
Image Processing 2nd Edition, Prentice Hall, 2002.

Computer Graphics, Imaging and Visualisation (CGIV 2007)
0-7695-2928-3/07 $25.00 © 2007

