Forging-dedicated CAD: how getting forging preform
by using trade knowledge and feature reorganization.
Etienne BROSSE, Yvon GARDAN, Estelle PERRIN
ERT Gaspard Monge, IFTS – University of Reims Champagne Ardenne,
7 boulevard Jean Delautre, Charleville-Mézières, France
etienne.brosse@univ-reims.fr, gardan@infonie.fr, estelle.perrin@univ-reims.fr

Abstract
In this paper, we present a new knowledge-based
application dedicated to hot forging. Hot forging is a
multiple stages plastic deformation of metal starting from
an initial part – named billet. The main difficulty of this
process is to get each intermediate metal part – named
preform – that is actually defined by blacksmiths thanks
to forging rules and know-how. Our application supplies
automatically the entire process: it reduces the 3D
desired forged part into some appropriate slices thanks to
morphological and geometrical criteria. For each slice, it
extracts trade features and deforms the slice according to
forging rules. Finally, it creates the preform by
assembling the deformed slices. The application may
iterate on this preform if necessary. In this study, we
focus mainly on slices determination, trade features
extraction and part reconstruction.

metal part, flashes are created in the thin space between
the two dies (see yellow area in Figure 1). Flashes have to
be removed to get the final product. For example, cranks
are usually forged in three times; a first time with proceed
(b) and twice with proceed (c) – see Figure 1. This crank
forging process starts with a cylindrical shape which is
compressed and reduced in section. After that, two hot
closed die forging operations are done.

1. Introduction
A lot of industrial parts are produced by forging,
because forging products often offer superior mechanical
properties: high security parts or parts that have to
support high forces are usually forged.
Hot forging is the working of metal by plastic
deformation. The goal of this technique is to reach the
desired shape by deforming an initial part – named billet.
This deformation can be made by some specific proceeds,
or by a combination of several of these proceeds. For
example, three useful types of commercial forging
proceed are: (a) bending; (b) roll-forging which consist to
pass the metal through two rotating rolls; (c) press forging
is the proceed by which an initial metal part is trapped in
recessed impressions, which are machined into the top
and bottom dies. As the dies press together, the metal is
forced to fill the impressions. When the two dies press the

Computer Graphics, Imaging and Visualisation (CGIV 2007)
0-7695-2928-3/07 $25.00 © 2007

Figure 1 Multi-stage crank forging process.
The shapes (2) and (3) in Figure 1 are necessary to
preserve metal properties and they are named preforms.
For each proceed, various parameters have to be taken
into account including the shapes of the preform and the
rough forged product, the shapes of the tools or dies, the
temperature, the forming speed… Among these
parameters, preform shape is very important because it
has a strong impact on proceed realization. For example,
if the preform shape is not well-designed, impressions –
in press forging proceed – may be unfilled.
In this paper, we present a new application to design
the preform from the rough forged product and the
proceed description – see Figure 2. Our work is based on
the DIJA project that is a federating project of our team.
The DIJA project consists in producing an intuitive and

easy-to-use CAD system. It provides users with a new
design approach called “synthetic” [1].

Figure 2 (left) a preform and (right) the final
product.
Section 2 gives an overview of the DIJA design
approach. A forging preform design state of art is given in
Section 3. Section 4 presents fundamental concepts of
our application and section 5 shows an industrial case
study. Finally, section 6 concludes and describes our
future research.

2. The DIJA design approach
Actual commercial CAD systems are very useful at the
final stages of the design when users have in mind the
entire geometry of the part(s). Constructive design is a
bottom up approach, which is not always appropriate to
functional purposes. These systems allow their users to
assemble primitives – such as segment or NURBS - and
apply to them some operations – such as Boolean
operations. But they do not allow users to express their
intent with their habits, or their own vocabulary, or their
own methods.
The DIJA project’s main objective is to help the
designer by providing him with an intuitive trade interface
and an intuitive design CAD system. Our system is based
on a new design approach named “synthetic method” and
on a top down methodology, coupled with a five level
architecture [2].
DIJA users, by describing functions that fulfill the
shape requirements obtain an approximate shape that
globally satisfies their goal and then uses dedicated tools
in order to refine the initial shape.

3. State of the art
Among researches concerning the forging preform
shape design, two different approaches can be found: a
numerical one and a knowledge-based one.

Computer Graphics, Imaging and Visualisation (CGIV 2007)
0-7695-2928-3/07 $25.00 © 2007

With the numerical one, preform design is usually
translated into an optimization problem [3][4][5].
Preform shape is represented by a set of points or control
points and the problem consists in optimizing the shape
by minimizing – or maximizing - a cost function. This
approach is efficient in 2D or for axis-symmetric parts.
But it shows its limits when it deals with 3D complex
parts. Two-dimensional or axis symmetric shape can be
described with few parameters and in this case
optimization works well. But 3D part representation often
needs a lot of points and the higher the number of points
is, the higher the time of computation is. That’s why some
work starts by decreasing the number of 3D preform
parameters [6]. In our point of view, another important
drawback is that such methods do not provide
blacksmiths with an intuitive workspace. These
approaches do not use forging vocabulary or knowledge
and require learning.
Knowledge-based methods concern capitalization and
formalization of knowledge. In most cases, knowledge is
formalized into rules or database [7], in order to link
rough forged product shapes or features with the preform
solution. A preform is then created by analogy when the
case study has already been modeled. Else, the process is
coupled with fuzzy logic, or neural network [8][9]. These
systems deal with forging geometrical elements and
vocabulary but as for numerical methods, the work in this
theme research is currently limited to 2D or axissymmetric parts.
The method used in DIJA system belongs to
knowledge-based methods set. It reduces the 3D preform
shape design problem to a bi-dimensional one by studying
the final product slice by slice. Its full progress is
described in the next section.

4. DIJA Forging
To design adequate preforms, French blacksmiths
successively apply some well-known rules described in
[10] or some intuitive rules coming from their know-how.
Our application is based on this approach by integrating
the design scenario and the forging rules into the DIJA
CAD system. The forging rules blacksmiths apply are
function of the process iteration. In Figure 1, shapes (3)
and (4) are obtained by the same proceed but rules
starting from (4) to get (3) are not the same to those
starting from (3) to get (2). The forging dedicated tool
we presented in this paper runs from a geometric
description of the shape to be obtained from the second
press forging proceed. This geometrical description is
either a neutral file format like STL or a DIJA design.
The number of iteration is also a parameter of the forging

dedicated tool in order to apply the appropriate trade
rules.
The tool algorithm can roughly be described by: (1)
Extraction of a set of elements. The tool recognizes a
characteristic element - which is named a fibre and fully
explained in section 4.1 - by a modified 2D skeleton
determination algorithm and a set of characteristic
outlines by slicing the part. This step is cancelled if the
geometric description is a DIJA design. For each
characteristic outline, (2) extracting trade features (3)
applying trade rules to translate it into a preform
characteristic outline; (4) creating the preform from
preform characteristic outlines computed by (3). All these
stages are fully explained in the next sections.

In Figure 3, the fibre is composed of the circle centres
whose angles equal 180° – in red – extended up to the
curve – in green.

4.1. Fibre extraction.

Then at each circle centre, the part, which is a STL, is
sliced perpendicularly to the fibre and each slice becomes
a characteristic outline. The circle centre and its
associated normal vector are saved in order to compute
the future preform construction.

The tool starts by extracting a fibre from the STL
description. This fibre is used in order to determinate
characteristic outlines by slicing perpendicularly the part
at each point. This step translates a three dimensional
preform design into a representation based on bidimensional entities. A fibre has two main properties:
(1) It is thin.
(2) It represents the 3D part geometrical
characteristics.
These properties are close to 3D skeleton and 3D
medial axis properties [11],[12], [13]. But the fibre used
by the tool must have another property:
(3) It has to be included in the plane that joins the two
dies – named parting line.
That is why the fibre extraction starts by cutting the
part in the parting line and then uses a modified 2D
algorithm skeleton determination [11].
The algorithm corresponding to the fibre extraction is
as follows:
Begin
Slicing the part in the parting line.
Discretizing the obtained slice.
For each point:
Determining the maximal circle.
Determining the tangent points between
the circle and the slice.
Calculating the maximal angle between
this points.
If angle > 90° then.
Keeping circle centres.
End If
End For
Extend the fibre composed of circle centres up to
the curve.
End

Computer Graphics, Imaging and Visualisation (CGIV 2007)
0-7695-2928-3/07 $25.00 © 2007

α = 180°

α = 90°

expansion

Figure 3 Fibre extraction

4.2. Forging feature extraction
Forging features recognition from the characteristic
outline is made in two steps [14].
(1) Simple geometric element (line segments and arcs
of circles) extraction. The characteristic outline is studied
point by point. The angle between the current point, the
previous one, and the next one is computed. It is
classified with respect to the following values: 0°, 90°,
180°, and 270° in order to recognise segments and arcs of
circle.
If the system finds consecutive angles equal 180°, it
combines them into one segment. If the system finds an
angle less than 90° or more than 270°, the current point
represents a breaking point between two geometric
elements. If the system finds consecutive angles include
in [90°, 180°] or [180°, 270°], it combines them into an
arc of circle.

Figure 4 Geometric element extraction
In fact, a line segment is represented by a one-degree
Bézier curve and an arc of a circle by a two-degree
rational Bézier curve. This kind of curve has two main
advantages: it allows an exact representation of an arc of
a circle and complex geometry representation with few

parameters (control points coordinates), which is
incontrovertible because a trade rule can translate a
segment or an arc of circle into a logarithmic curve.
(2) Forging features deduction from this series of line
segments and arcs of circles. By studying [3], only three
forging features have to be recognised. They are drafts,
ribs, and webs. These features are described by a series of
segments or arcs of circle. For example, a rib can be
described by a series of four arcs of circle and two
segments.

linked with the point of another characteristic outline is
not systematically the closest.
The best point is the one that gives the most parallel
segment to the segment between the two gravity centres.
The definition of our distance function d is the
following. If we consider ith and the i+1 th characteristic
outlines - Oi and Oi+1- , Gi and Gi+1 the centre gravity of
each outlines. The distance d between the point Pi,i – the
ith point included in the ith outline - and the point Pj,i+1 the jth point included in the i+1th outline - is:

4.3. Rules application
Trade rules are applied on features deduced during the
previous step [14]. Each feature is linked to some trade
parameters. For example, Figure 5 shows a rib and its five
trade parameters - h its height, wu its upper width, wl its
lower, r its fillet radius, g its gradient.

g

wu
h

r
wl

Figure 5 A rib and its trade parameter

d ( Pi ,i , Pj ,i +1 ) = Gi Gi +1 × Pi ,i Pj ,i +1
This expression is minimized when the segment
between Pi,i and Pj,i+1 is parallel to the vector Gi Gi+1.
The edges creation existing between the characteristic
outline Oi with N points and the characteristic outline Oi+1
with M points is realized in one loop. At first, the
algorithm starts by creating an edge between P0,i and Ps,i+1
where Ps,i+1 minimizes d(P0,i, Pk,i+1)k=0,M. The remaining
N+M-1 edges are created as follows:
If edge between Pj,i and Pk,i+1 has been created then
two possible next edges are studied: edge between Pj+1,i
and Pk,i+1 and edge between Pj,i and Pk+1,i+1. The chosen
edge is the one which minimizes the distance function d.

5. Results
In this section, we present an industrial case study of
preform design realized by the DIJA CAD system. The
rough forged product is shown in Figure 6.

Trade rules are expressed in function of trade
parameters. Trade rules are like “If height ribs are greater
than 27 mm then two fillet radii ribs must be greater than
8 mm”. The tool applies trade rules by modifying the
simple geometric elements; in fact it changes the control
point’s coordinates which are concerned by the
modification. For more details see [14].

4.4. Meshing the preform
When all rules are applied on all characteristic
outlines, the three-dimensional preform is built. Many
researches have been made in order to build a coherent
shape from a set of points [15], [16]. At each time, the
shape reconstruction is linked to a distance definition and
an algorithm. The preform shape is described by a set of
characteristic outlines but to be visualised in DIJA CAD
system a triangular mesh has to be built. First a distance
function is defined. This function has to be carefully
chosen: the best point of a characteristic outline to be

Computer Graphics, Imaging and Visualisation (CGIV 2007)
0-7695-2928-3/07 $25.00 © 2007

Figure 6 Studied rough forged product.

Figure 7 Fibre extraction and characteristics
outlines extraction.
Figure 7 shows the fibre extraction and the
characteristics outlines computation.
Trade rules are applied on each outline, in this case
they consist in a radii increasing – see Figure 8.

Figure 10 Final preform.
The tool is applied a second time in order to compute
the billet – see Figure 11 – that best fits the preform. The
method is the same except that rules have changed.

Figure 11 Billet computed.
Figure 8 Differences between final product
outlines and preform outlines.

The forging proceed has been simulated – see Figure
12 and Figure 13 in order to demonstrate that the trade
rules have been successfully applied.

Figure 9 highlights the characteristic preform outlines
and preform fibre and Figure 10 shows the threedimensional preform computed by the DIJA CAD system.

Figure 9 Preform characteristics outlines and
fibre.

Computer Graphics, Imaging and Visualisation (CGIV 2007)
0-7695-2928-3/07 $25.00 © 2007

Figure 12 Preform forging.

[5] William Annicchiarico, Miguel Cerrolaza. A 3D
boundary element optimization approach based on genetic
algorithms and surface modelling. In Engineering Analysis
with Boundary Elements, vol. 28, pp. 1351–1361. 2004.
[6] Nagarajan Thiyagarajan, Ramana V. Grandhi. Multilevel design process for 3-D preform shape optimization in
metal forming. In Journal of Materials Processing
Technology 170, pp 421–429, 2005.

Figure 13 Final product forging.
The simulation shows that dies are totally filled with
material and that the perform has no default creation such
as fold or unfilled

6. Conclusion
In this paper, we present a new CAD tool developed
for the preform design of forging product. In order to
make an easy to use and intuitive CAD system, this tool is
based on blacksmiths knowledge and blacksmiths
vocabulary. The results seem promising: the DIJA design
approach has been successfully used in forging trade. The
obtained preform seems realistic and meets all trade rules.
Future work will consist in coupling the tool with
simulation and thanks to blacksmith knowledge in
modifying preform design.

References
[1]
Frédéric Danesi, Laurent Denis, Yvon Gardan, and
Estelle Perrin, “Basic Components of the DIJA project”,
Proceedings of the 7th ACM Symposium on Solid Modeling
and Applications 2002 (SM’02), Saarbrücken, Germany,
June 2002.

[7] Tsutao Katayama, Masami Akamatsu, Yoji Tanaka.
Construction of PC-based expert system for cold forging
process. In Journal of Materials Processing Technology, vol
155-156, pp. 1583-1589. 2004.
[8] R.K. Ohdar, S. Pesha, Prediction of the process
parameters of metal powder preform forging using artificial
neural network. In Journal of Materials Processing
Technology, vol 132, pp 227-234, 2003.
[9] Boris Abersek, Joze Flanker AND Joze Balic. Expert
System for Designing and Manufacturing of a Gear Box. In
Expert Systems With Applications, vol. 11, no. 3, pp. 397405. 1996.
[10] A. Chamouard, Technologie générale de l’estampage,
Estampage et forge 3, Dunod, 1966.
[11] P. Yushkevich, P. T. Fletcher, S. Joshi, A. Thall, S.
M. Pizer, “Continuous medial representations for geometric
object modeling in 2D and 3D”, Image and Vision
Computing, Elsevier, vol 21, 2003, pp 17–27.
[12] T. B. Sebastian, B. B. Kimia, “Curves vs. skeletons in
object recognition”, Signal Processing, Elsevier, 2005, vol
85, pp 247–263.
[13] W. P. Choi, K. M. Lam, W. C. Siu, “Extraction of the
Euclidean skeleton based on a connectivity criterion”, The
journal of Pattern Recognition Society, Elsevier, vol 36,
2003, pp 721 – 729.

[2] Laurent Denis, Yvon Gardan, Estelle Perrin,
“framework for a distributed CAD system”, Computer-Aided
Design, Elsevier, vol 36, 2004, pp761–773.

[14] E. Brosse, Y. Gardan, E. Perrin, “Dija Project:
Forging preforms design using trade knowledge”,
Proceedings of the International Conference on Geometric
Modeling and Imaging (GMAI2006), 5-7 Juillet 2006,
Londres, Angleterre.

[3] Lionel Fourment, Tudor Balan. Optimal design for
non-steady state metal forming process. II. Applications. In
International Journal for Numerical Method in Engineering,
vol. 39, pp. 51–65. 1996.

[15] T. S. Newman, H. Yi, “A survey of the marching
cubes algorithm”, Computers & Graphics, Elsevier, vol 30,
2006, pp 854–879.

[4] Guoqun Zhao, Xinwu Ma, Xinhai Zhao, Ramana V.
Grandhi. Studies on optimization of metal forming processes
using sensitivity analysis methods. In Journal of Materials
Processing Technology, vol. 147, n° 2, pp. 217-228. 2004.

Computer Graphics, Imaging and Visualisation (CGIV 2007)
0-7695-2928-3/07 $25.00 © 2007

[16] A. Ghaneia, H. Soltanian-Zadeh, J. P. Windham, “A
3D deformable surface model for segmentation of objects
from volumetric data in medical images”, Computers in
Biology and Medicine , Pergamon, vol 28, 1998, pp239-253.

