Automatic Digital Camera Based Fingerprint Image Preprocessing
B.Y.Hiew, Andrew B.J.Teoh and David C.L.Ngo
Faculty of Information Science and Technology (FIST), Multimedia University,
Jalan Ayer Keroh Lama, Bukit Beruang, 75450, Melaka, Malaysia,
Email: {byhiew ,bjteoh, david.ngo}@mmu.edu.my

Abstract
Touch-less fingerprint recognition has been
receiving attention recently as it frees from the
problems in terms of hygienic, maintenance and latent
fingerprints. However, the conventional techniques
that used to preprocess the optical or capacitance
sensor acquired fingerprint image, for segmentation,
enhancement and core point detection, are inadequate
to serve the purpose. The problems of the touch-less
fingerprint recognition consist of low contrast between
the ridges and the valleys in fingerprint images,
defocus and motion blur. In this paper, we opt for
digital camera as the device to capture the fingerprint
image in RGB format and we outline the procedures to
segment, enhance and detect the core point of the
fingerprint image.
Keywords-fingerprint
preprocessing,
digital
camera, segmentation, enhancement, core point
detection

1. Introduction
The oldest and most widely used form of biometric
recognition is fingerprints. Except due to accidents like
bruises and cuts on the fingertips, fingerprints are fully
formed at about seven months of fetus development
and finger ridge configurations do not change
throughout the life of an individual [1]. For different
fingerprints, the individual epidermal ridges and
furrows have different characteristics [2]. That is why
fingerprints become a very attractive biometric
identifier. Historically, in law enforcement, the
acquisition of fingerprint images was performed by
using the so-called “ink-technique”. At present, most
civil and criminal AFIS accept live-scan digital images
acquired with an electronic optical or capacitance
sensor based fingerprint scanner where the finger
surface is directly sensed [2]. However, the touchbased electronic fingerprint scanner is costly and lead

to weakening durability if the device in heavy use.
Besides, pressure of the physical contacts will
normally cause the touch-based fingerprint images
degraded. Contrary, images captured with digital
camera (or touch-less) are distortion free since these
images are free from the pressure of contact. In order
to help the authentication system to have low FAR and
FRR, distortion-free fingerprint images are the most
desirable. Furthermore, those images are free from the
problems in terms of hygienic, maintenance, latent
fingerprint problems and so forth [3]. In this paper, we
opt for digital camera to acquire the fingerprint image
due to its unique feature such as zooming, autofocusing, and high resolution that suite to capture the
high quality image.
However, there are some challenging problems
when developing the fingerprint recognition system
that uses a digital camera. Firstly, the contrast between
the ridges and the valleys in fingerprint images
obtained with a digital camera is low. Secondly, the
depth of the field of the camera is small, thus some part
of the fingerprint regions are in focus but some parts
are out of focus. Thirdly, motion blur of the images
acquired. Therefore we aim to provide a means to
overcome these drawbacks by putting our main
concern on the fingerprint image pre-processing.
Preprocessing is an important step prior to
fingerprint feature extraction, which might be based on
minutiae extraction [4] or image based [5] method. The
generic process of the preprocessing encompasses
segmentation, enhancement and core point detection.
Fingerprint image segmentation using two stages
coarse to fine discrimination is proposed in [6].
C.H.Lee, et al. have put in effort in the study of
fingerprint segmentation using colour information [7].
One of the widely cited fingerprint enhancement
techniques is based on the convolution of the image
with Gabor filters tuned to the local ridge orientation
and ridge frequency. This method is employed by
Hong [8]. In [9], enhancement by using STFT analysis
is proposed.

Proceedings of the International Conference on Computer Graphics, Imaging and Visualisation (CGIV'06)
0-7695-2606-3/06 $20.00 © 2006

It is crucial to determine an accurate and reliable
core point as variation in position of the reference and
testing fingerprint image can be cancelled with needed
core point [10]. The detected core point will affect the
matching algorithm [11].And thus, core point detection
becomes an important preprocessing step. Till today,
many methods of core point detection have been
proposed [12,13]. Poincare Index (PI) is the most wellknown method that developed by [14].
A preprocessing algorithm to segment, enhance and
detect fingerprint’s core point of the fingerprint images
captured with digital camera is proposed in this paper.
The outline of the paper is as follows: Section 2
describes the proposed preprocessing algorithm.
Section 3 shows the experiment results and followed
by the conclusions and future work in Section 4.

2. Preprocessing Algorithm
2.1. Preprocessing overview
The captured fingerprint image in RGB format is
first converted to gray scale [0-255] followed by the
normalization process. Parallelly, we determine the
probable fingerprint region. The adaptive thresholding
followed by the morphological processing are
performed on the determined probable fingerprint
region in order to create the fingerprint binary mask.
The normalized image is then multiplied with the
fingerprint binary mask. The resulting image is
cropped and enhanced by using the STFT based
technique that proposed in [9]. Finally, the ridge
orientation is calculated and the core point detection is
done on the enhanced image. The process flow of the
fingerprint preprocessing is shown in Fig. 1.
Image acquisition

The digital camera used in the image acquisition is
Canon PowerShot Pro1, with 8 mega pixels of
effective resolution and a 7x optical zoom Canon "L"
series lens. The L-series lens’ macro capabilities allow
us to capture high resolution image while the “super
macro mode” that permits close-focus to 1.2 inches
enable us to get clear foreground pattern and blurred
background pattern. The setting of the digital camera is
shown in Table 1.
Table. 1 Digital camera setting for fingerprint
image acquisition
ISO Speed
400
Image
Size/ 640x480
Resolution
Image Quality
Superfine
Super Macro
On
Colour Space
RGB
Drive Mode
Continuous shooting
(Speed priority)
All of the fingerprint images with the size of
640x480 are acquired and collected in a closed room as
shown in Fig. 2. The light source which comes from
the table lamp is in white colour. This static light
source is used as it is sufficient to improve the clarity
of the ridges and furrows of the captured fingerprint
image. During the image acquisition process, the finger
is put in through the hole to decrease motion blur.
Digital
camera
4~6cm

Probable fingerprint
region determination

RGB to grayscale
image conversion

Adaptive thresholding

Normalization

Morphological
processing

Normalized
image

2.2. Image Acquisition

Thumb
Fingerprint
segmentation

Fingerprint
binary mask

Image cropping

Image enhancement
using STFT analysis

Core point
detection

Ridge orientation
calculation

Fig. 1 Flow chart of the fingerprint
preprocessing

Table
lamp

Box without cover
27~33cm with the size of
40cm x 25cm x 19cm

Hole

Fig. 2 Experiment setup

2.3. Normalization
The grayscale image which is converted from the
RGB image is normalized to reduce the problem of
non-uniform lighting. This step is crucial since
illumination has been identified as one of the major
factors that contribute the performance degradation in
this setting. The fingerprint images can be segmented
and enhanced finer in the STFT analysis if the images
are normalized. Otherwise, if the grayscale image is
used in the STFT analysis, the results of the segmented
and enhanced image as well as core point detected are

Proceedings of the International Conference on Computer Graphics, Imaging and Visualisation (CGIV'06)
0-7695-2606-3/06 $20.00 © 2006

not satisfying. This particular sample result is shown in
Fig. 8 under Section 3. This normalization algorithm
calculates the mean and variance of an image and thus
reduces the difference of the illumination. The
normalization of f ( x , y ) is computed as follows:
f ( x, y )  m f ( x , y )
g ( x, y )
(1)
V f ( x, y )
f ( x , y ) :the original image

m f ( x , y ) :an estimation of a mean f ( x , y )

V f ( x , y ) : an estimation of the standard deviation
The estimation of the mean and standard deviation
is performed through spatial smoothing. Fig. 3 shows
the original raw image, gray scale image and
normalized image.

(a)

>Cb Cr @T
E >x  m x  m T @

E x  where x

(2)

Covariance : C
5) Probable fingerprint region is determined by
P ( x / skin) exp  0.5( x  m) T C 1 ( x  m)

(3)

Mean : m

>

@

(4)

After the probable fingerprint region is determined,
the image is thresholded into a binary image by
adaptive thresholding. Although the probable
fingerprint region determination followed by the
adaptive thresholding can detect the fingerprint region
accurately most of time, however if the background is
close resemblance to the skin colour, it will be
regarded as fingerprint and jeopardize the
segmentation result. To solve this problem, binary
image processing technique is applied. Firstly, all pixel
connected blobs are assigned the same label. Then, if
the connected blobs with the size smaller than 100 will
be singled out and removed. The holes in the binarized
image are then filled. Lastly, only the biggest blob will
be retained and acts as a mask [6] as shown in Fig. 4.

(b)

(a)

(c)
Fig. 3 (a) Original raw image (b) Grayscale
image and (c) Normalized image

2.4. Fingerprint Segmentation
Fingerprint segmentation is necessary to eliminate
the undesired noisy background and reduce the size of
the input data [6]. For this reason, we segment the
fingerprint by determining the most likely fingerprint
region, adaptive thresholding and morphological
processing. The probable fingerprint region
determination is outlined below:
1) 1056 human skin colour patches are collected from
different races.
2) The image is converted from RGB colour space to
YCbCr colour space. Segmentation of the skin colour
regions becomes robust if only the chrominance
component is used in analysis. Therefore, the
variations of luminance component are eliminated by
choosing the CbCr plane (chrominance components) of
the YCbCr color space to determine the probable
fingerprint region. The brightness component
contained in the Y of the YCbCr will not be used.
3) Then, those images are low pass filtered to remove
noise.
4) Mean and covariance for Cb and Cr are determined
by

(b)

Fig. 4 Fingerprint binary image (a) after
adaptive thresholding (b) after binary image
processing
By multiplying the binary mask with the
normalized image, a fine segmented normalized image
is cropped as shown in Fig. 5.

2.5. Image enhancement using STFT analysis
The fingerprint image is enhanced by using STFT
analysis [9]. The image is first divided into
overlapping windows during STFT analysis. The
overlapping window is used to preserve the ridge
continuity and removes ’block’ effects common with
other block processing image operations. The image is
assumed stationary within this small window and can
be modeled approximately as a surface wave.
Probabilistic estimates of the ridge frequency, ridge
orientation and energy map are obtained after the
Fourier spectrum of this small region is analyzed [9].
The Fourier spectrum is represented in polar form as
F ( r ,T ) .A probability density function p( r ,T ) and
the marginal density function p( T ) , p( r ) are defined
as

Proceedings of the International Conference on Computer Graphics, Imaging and Visualisation (CGIV'06)
0-7695-2606-3/06 $20.00 © 2006

p(r , T )

F (r , T )

2

³ ³T F (r,T )

(5)

2

r

p(r )

³T pr,T dT

p(T )

,

³ pr,T dr
r

(6)

The orientation T is assumed a random variable
that has the probability density function p( T ) . We can
get the expected value of the orientation by
­ pT  sin 2T dT ½
1
°
1 ° T
E^T `
tan ®
(7)
¾
2
° p T  cos2T dT °
¿
¯ T

³
³

'

The smoothened image O ( x, y ) is obtained by
vector averaging.
The ridge frequency is also assumed to be a random
variable with the probability density function p (r ) as
in (6). The expected value of the ridge frequency is
obtained by the following:
E^r`

³ p(r )rdr
r

(8)

The 3x3 Gaussian mask is applied to smooth the
frequency map.
The energy map is used as a region mask to get
finer fingerprint segmentation. The region mask is
obtained by using Otsu’s optimal thresholding
technique [15].
The energy map is obtained by
2
E x, y  log­®
F (r , T ) ½¾
(9)
¯rT
¿
The orientation image is then used in computing
coherence image to prevent spurious artifacts caused
by the discontinuities in the ridge flow at the block
boundary especially at in the regions of high curvature
close to the core and deltas which have more than one
dominant orientation [9]. Next, in the Fourier domain,
we use the frequency and orientation selective filter to
filter the image which is divided into 16 x 16
overlapping blocks [4]. The filters are given by

³³

H r (r )

(rrBW ) 2 n
2
(rrBW ) 2 n  (r 2  rBW
) 2n

­ cos 2 S (I  I c )
°
if I  I c d I BW
H I (I ) ®
2I BW
°
0
otherwise
¯
rBW :radial bandwidth, I BW :angular bandwidth,

Ic :mean orientation
The enhanced image is shown in Fig. 5.

2.6. Core point detection

(10)

(11)

We define fingerprint’s core point as the point of
maximum curvature in the fingerprint image [16].
After the image is enhanced, the orientation map is
again obtained by using the STFT analysis where (7)
is used. The blocks with orientation between 0 to ½ S
are labeled as ‘1’ else marked as ‘0’.
Morphological operations are performed then in
order to reduce spurious points or cluster area that may
result in false core point detection. The purpose of this
process is to smooth, fill in, and/or remove objects in a
binary image. In this algorithm, morphologic closing
(dilation followed by erosion) is done before
morphologic opening (erosion followed by dilation). A
disk-shaped structuring element with a radius of 3
pixels is used in these operations. This step will
remove the small areas and thus create more compact
cluster. This will help to make the searching process
faster. A path is traced down only at blocks with ‘1’, it
is marked if a slope is not ranging from 0 to ½ S be
encountered. Lastly, the position of core point can be
pinpointed after the slope in negative y direction is
computed at the block that has the highest number of
marks. The detected core point is shown in Fig. 5.

(a)

(b)

(c)

Fig. 5 (a) Cropped normalized image (b)
Enhanced image (c) Core point detected
image

3. Experiment Evaluation
Experiments are conducted by using fingerprint
images captured with digital camera. There are 1938
images in total. The experiment result shows accurate
core point detection is 95.44% while false core point
detection is 4.56%. Samples of the false core point
detection are shown in Fig. 6. Those fingerprint
images’ core point is not detected accurately because
of the quality of the image are degraded due to defocus,
motion blur and deep wrinkles. The results of the
segmentation, enhancement and accurate core point
detection are shown in Fig. 7. From the experiment
results, it shows that this approach can segment all of
the fingerprint images successfully and enhance as well
as detect the fingerprint’s core point. We have tried to
enhance the cropped gray scale image by using the
STFT analysis. But, we found that the enhancement
and core point detection result is not satisfying due to
the images consist of lighting problem. Fig. 8 shows
the results obtained when gray scale image enhanced

Proceedings of the International Conference on Computer Graphics, Imaging and Visualisation (CGIV'06)
0-7695-2606-3/06 $20.00 © 2006

by using STFT analysis. The image used to show this
result is actually same as the image that we use to
explain the preprocessing algorithm in Section 2. By
comparing the result shown in Fig. 5 and Fig. 8, it
shows gray scale images need to be normalized before
enhancement.
In the generic fingerprint preprocessing, the input
image is in gray scale format. Hence, we convert the
RGB image to gray scale before preprocessing. By
using the conventional enhancement techniques like
Hong’s enhancement, pseudo match filtering (a root
filtering technique) [17] and enhancement by using the
STFT analysis [9], we enhance those gray scale
images. But, the desired satisfying enhancement result
can not be obtained. Fig. 9 shows the comparative
results for different enhancement algorithms. It can be
seen that the proposed algorithm performs better than
the Hong’s enhancement, pseudo match filtering and
enhancement by using the STFT analysis.
Original image

Original image

Core point detected image

Fig. 6 Samples of False Core point detection
using proposed preprocessing
Normalized image
Enhanced
Core point
image
detected image

Fig. 7 Results for the proposed preprocessing

4. Conclusion and future works

(a)

(b)

(c)

Fig. 8 Results obtained when gray scale
image is used in STFT analysis and
normalized image is not used: (a) Cropped
gray scale image (b) Enhanced image (c)
Core point detected image

An automatic digital camera based fingerprint
segmentation, enhancement and accurate core point
detection has been presented in this paper. The
experiment results indicate the proposed algorithm
shows improvement in the segmentation and
enhancement for the fingerprint images captured by
the digital camera. Besides, it can detect fingerprint
core point accurately. Our future work is to find out a
better enhancement method for fingerprint images
captured
by
the
digital
camera.

Proceedings of the International Conference on Computer Graphics, Imaging and Visualisation (CGIV'06)
0-7695-2606-3/06 $20.00 © 2006

Hong enhancement

Pseudo match filtering

STFT analysis

Proposed algorithm

Fig. 9 Comparative results for different enhancement algorithms

References
[1]Babler, W. J. , Embryologic Development of Epidermal
Ridges
and Their
Configuration. Birth Defects
Original Article Series, vol. 27, no.2, 1991.
[2]D. Maltoni, D. Maio, et al., Handbook of Fingerprint
Recognition., New York, Springer- Verlag, 2003.
[3]Y. Song, C. Lee, et al., A New Scheme for Touchless
Fingerprint Recognition System. International Symposium on
Intelligent Signal Processing and Communication Systems,
Korea, 2004
[4] S. Chikkerur, C. Wu, et al. , A Systematic approach for
feature extraction in fingerprint images. Biometric
Authentication: First International Conference, ICBA, Hong
Kong, China, 2004.
[5]M. Tico, E. Immonen, et al., Fingerprint Recognition
using Wavelet Features. IEEE International Symposium On
Circuits and Systems, Australia, 2001.
[6]T.S. Ong, Andrew B.J. Teoh, et al., Fingerprint Images
Segmentation Using Two Stages Coarse to Fine
Discrimination. AI 2003: Advances in Artificial Intelligence:
16th Australian Conference on AI, Australia, 2003 .
[7]C.H. Lee, S.H. Lee, et al., Preprocessing of a Fingerprint
Image Captured with a Mobile Camera. Advances in
Biometrics: International Conference, Hong Kong, China,
2006.
[8]Hong, L., Y. Wan, et al., Fingerprint image enhancement:
Algorithm and performance evaluation. IEEE-PAMI
Transactions on Pattern Analysis and Machine Intelligence,
vol.20, no.8, pp.777–789, 1998.
[9]S. Chikkerur, A. C., and V. Govindaraju, Fingerprint
Image Enhancement Using STFT Analysis. International
Conference on Advances in Pattern Recognition, United
Kingdom, 2005.

[10] Andrew B. J. Teoh, T. S. O., David C. L.Ngo and Y. W.
Sek, Automatic Fingerprint Center Point Determination by
Using Modified Directional Field and Morphology. AI 2003:
Advances in Artificial Intelligence: 16th Australian
Conference on AI, Australia, 2003.
[11]S. Chikkerur and N. Ratha, Impact of Singular Point
Detection on Fingerprint Matching Performance, Fourth
IEEE Workshop on Automatic Identification Advanced
Technologies New York, 2005.
[12]Nannan Wu and J. Zhou, Model Based Algorithm For
Singular Point Detection From Fingerprint Images.
International Conference on Image Processing, Singapore,
2004.
[13]J. Park and H. Ko, Robust Reference Point Detection
Using Gradient of Fingerprint Direction and Feature
Extraction Method. Computational Science – ICCS 2003:
International Conference Melbourne, Australia and St.
Petersburg, Russia, 2003 .
[14]M. Kawagoe
and A. Tojo, Fingerprint Pattern
Classification. Pattern Recognition, vol. 17, no. 3, pp. 295303, 1984).
[15]Otsu. N., A threshold selection method from gray level
histograms. IEEE Transaction on Systems, Man and
Cybernetics, vol. 9, no. 1, pp.62–66, 1979.
[16]A.K. Jain, S. Prabhakar, et al., A Multichannel Approach
to Fingerprint Classification. IEEE Transaction on Pattern
Analysis and Machine Intelligence, vol. 21, no. 4, pp. 348359, 1999.
[17]C. I. Watson, G. T. Candela, et al., Comparison of FFT
Fingerprint Filtering Methods for Neural Network
Classification. National Institute of Standards and
Technology (NIST) Report, National Institute of Standards
and Technology, 1994.

Proceedings of the International Conference on Computer Graphics, Imaging and Visualisation (CGIV'06)
0-7695-2606-3/06 $20.00 © 2006

