Image segmentation of irregular shape grains on ceramic material surfaces
Weixing Wang
Department of Computer Science & Technology, Chongqing University of Posts &
Telecommunications, Post code: 400065, China
E-MAIL: wangwx@cqupt.edu.cn or wwx.pv@chello.se

Abstract
This paper presents the newly studied image
processing, segmentation and analysis algorithms for
irregular shape grains on ceramic material surfaces.
The algorithm consists of a special pre-processing
sub-algorithm, gray level image segmentation (the
Suk & Chung similarity algorithm), background split
and merge of small regions sub-algorithm, and
segmentation algorithm based on shape analysis
(merge and split).The developed algorithms have
been tested in a laboratory and works satisfactory.
Keywords--- grains, ceramic, size and shape,
segmentation, Image analysis

1. Introduction
In the science and engineering of ceramic materials,
the microstructure of ceramic surfaces is the basic
investigation. To obtain quantitative information
about grain size and shape from the surfaces of
ceramic materials, it is common that optical
microscopy and image processing and analysis were
used in the characterization of the surface roughness
and microstructure of the ceramic microstructure [17]. In the image processing, the hardest task and
significant is to delineate grains accurately. If grain
shape is regular or image surface is smooth, the
image segmentation should be easier, but in most of
cases, the images are complicated with irregular grain
shapes and rough surface, which cause image
segmentation difficult. In this study, we have a basic

Proceedings of the Computer Graphics, Imaging and Vision: New Trends (CGIV’05)
0-7695-2392-7/05 $20.00 © 2005 IEEE

consideration for the image segmentation algorithm
for this kind of ceramic surface images as the follows.
One useful constraint of densely packed grains is
the fact that void space among grains tend to be dark.
Any attempt to segment overlapping grains should
take this into account. Dark, fairly local, regions
(with cusp-like structure) could be treated as
background or boundaries between grains. General
image analysis procedures do not, being general,
include such considerations. When using elements of
published algorithms in general-purpose image
analysis, one should be prepared to add some kind of
special treatment of background.
This has been done in the segmentation procedure to
be presented below. Local darkness is used for socalled "background split" (The shape of dark void
space is not used, but could probably improve
segmentation performance.). Secondly, there are some
geometric constraints on likely or possible shape, as
for example convexity. These and other considerations
makes it natural to, at some stage of an image
segmentation process, perform segmentation based on
shape.
With edge-based image analysis approaches, the
problem of false edges or the disintegration problem
arises from having a mix of grain contours and
surface markings (texture). This is not really bypassed using region-based approaches - as the one
presented below - unless the surface markings form
regions that are small enough to be merged with
larger surrounding regions.

2. A new segmentation approach for
grains
We modified and extended a rather well known
image segmentation algorithm from the pattern
recognition literature, Suk & Chung, 1983 [8 ]. The
Suk & Chung algorithm splits an image into a (fairly
large) number of regions, based on (a) grey value
homogeneity, or (b) slow change of grey values within
a region. For our application, the basic algorithm of
Suk and Chung is not enough. Suffice it to mention
here that it is based on checking homogeneity locally
in 2x2 image windows and region growing. The image
must be pre-processed to deal with a number of
additional problems, such as (1) poor contras t between
touching grain edges, (2) bright local surface markings,
so-called "small bright spots", (3) smooth grey value
variations.
We propose a new pre -processing approach. After
pre -processing and using the Suk & Chung algorithm,
two additional processing steps are performed,
namely (i) background split, and (ii) merge of small
regions not based on grey value. Finally,
segmentation based on shape is done. See Fig. 1.
Pre-processing

Suk & Chung segmentation algorithm

Split background

the edges among the ceramic grains; (2) delete or
decrease bright spots noises (= noise or irrelevant
detail) in a ceramic image, and (3) remove slowly
varying intensity variations in a ceramic image. Item
(1) is crucial because the contrast between touching
or overlapping grain edges may be quite low, causing
great difficulties for image segmentation. Item (2) we
have already discussed. Item (3) is of interest, since
by making the image more homogeneous, eliminating
some slowly sloping regions, segmentation is
expected to work more efficiently.
We strengthen the edges by subtracting a gradient
image (using Robert's difference operator) times a
factor λ from fo, the original ceramic image, Eq. (1).
We obtain a new image fn with more contrast along
edges.

f n ( x, y) = f o ( x, y) − λM ( X , Y )

In Eq. (1), fn (x, y) is ceramic image after edge
strengthening, fo(x, y) the original ceramic image, M(x,
y) the magnitude image (based on fo ) and λ a
parameter, say λ= 0.5.
Next, a curved normalization surface T(x, y) is
constructed, for which, a normalization value is
assigned to each pixel, given by Eq. (2). In Eq. (2), µ0
and d 0 are global mean grey value and standard
deviation of fn , respectively, and µ and d are local
mean grey value and standard deviation of fn (e.g.
16x16 window),

T = µ − 0.2(d − d 0 ) − 0.5( µ − µ 0 )
Merging small regions

Split touching objects
Fig. 1 Program sequence for grain image
segmentation

2.1 Pre -processing of ceramic surface
image
The principal objective of image pre -processing is
to process an image so that the result is more suitable
than the original image for a specific segmentation
algorithm. For the ceramic surface image
segmentation, in order to make images more suitable
for segmentation, we use our pre -processing program
to reduce image noises in three steps: (1) strengthen

Proceedings of the Computer Graphics, Imaging and Vision: New Trends (CGIV’05)
0-7695-2392-7/05 $20.00 © 2005 IEEE

(1)

(2)

The image elements for which grey values are larger
than T(x, y), (Here, T is used for grey value slicing, for
finding bright regions. In Eq. (3), it is used for
normalization.), will be processed through shrinking
and expanding, so-called morphological operations,
causing regions of width around 2 - 3 pixels, say
narrow bright thin lines or bright spots, to vanish. In
this case, the function T is used for detecting narrow or
small bright regions.

f N ( x , y ) = f n ( x, y) − T ( x , y) + Const .

(3)

Narrow dark regions can not be removed in this way
since we then may destroy void space separating two
grains. Slowly varying grey values can, locally, causes
extra "shadows" in a grain, which makes segmentation
difficult, for example, when separating away the
background or when selecting thresholding values for

region merging and splitting, see below. For that
reason, the edge enhanced grey-level image fn is
normalized by subtracting T, see Eq. (3), yielding fN.

2.2 Image segmentation on grey level
One hard problem in image processing is the
segmentation of an image into regions corresponding
to different objects. Segmentation for monochrome
images generally are based on one of two basic
properties of grey-level values: discontinuity and
similarity [8]. After pre-processing of ceramic image,
the question is how to abstract the grains on the
image, the simple way is to use a grey threshold
value to separate the image into objects and
background. There is a number of auto-thresholding
algorithms existing in the world, we tried the widely
used the algorithm of between class variation [9], it
does not work for the ceramic images where surface
is rough. Instead of this, we first use the Suk &
Chung algorithm [10] to segment the ceramic image
into small regions. However, this segmentation based
on grey values, yields a number of the small regions
amounting to tens up to hundreds times the real
number of grains in an image. Therefore, we merge
smaller regions into their adjacent larger regions, and
finally separate out a background from grains.
Typically, a ceramic image contains a high degree
of detail. A number of insignificant small regions
remain in the image after the procedure of Suk &
Chung algorithm. In order to remove those small
regions, we have developed a merge procedure which
includes two steps: (1) Find the small regions Rs ( <
T3, T3 is a threshold value); (2) Among Rj , all the
neighboring regions of Rs , find Rm for which the
common edges between Rs and Rj is maximal, and
then merge Rs and Rm .

2.3 Segmentation based on shape
Ceramic grains are three dimensional, whose rough
surfaces cause a large variation of grey-value (i.e. one
grain includes several shadows and shadings), which
tends to make grains over-segmented. Conversely,
the properties of grains touching and overlapping
each other make grains under-segmented. Therefore,
after segmentation based on grey-level, some
intelligent algorithm is, by necessity, developed for
the further segmentation of image of labeled
components. We have developed a procedure for

Proceedings of the Computer Graphics, Imaging and Vision: New Trends (CGIV’05)
0-7695-2392-7/05 $20.00 © 2005 IEEE

merging and splitting segmented regions, the details
for splitting is in [11], called objects below.
A possible set of merging criteria is as follows:
As Fig. 2 shows, for two adjacent regions (objects),
there is a common boundary of length d, and two
boundary arcs of lengths l1 and l 2 respectively. One
possible criterion for a merging decision may be to
exploit the ratio d divided by the shorter length of l 1
and l2 . If the ratio

R = d / min( l1 , l 2 )

is greater than

the threshold T4, the two objects are merged into one
(T4 can be determined by experience, i.e.
say,T4

= 0.6 ).

before merging
d

A
l2

after merging

l1

B

Fig. 2 Two regions merge into one

Fig. 3 Algorithm sequence for merging

If

R = d / min (l1 , l 2 ) > T4 four objects into one.

If more than two regions are in contact (see Fig. 3),
the first main couple of regions are merged, and later
the remaining regions.
As Fig. 4 shows, two valley points of an object can
be found when searching the contour of the object (a
region). After automatically finding the two valleys
points A and B, one may calculate the arc lengths
Al 1 B , Al 2 B and the distance d between the two
points A and B, and use the heuristic rule that if

S = d / min ( Al1 B , Al 2 B ) is less than a threshold

T5 , the object is split into two. For multiple objects
splitting, the same routine can be used repeatedly (See
Fig. 5).

before splitting
A
l1

after splitting
l2

d

B
Fig. 4 Splitting one object into two

before splitting

Fig. 7 Image of large grain size variation

after splitting
4

3
1

2

5
6

Fig. 5 Splitting Multiple objects

3. Examples of image segmentation
As testing results shown in the following figures,
four different types of ceramic surface images have
been segmented, and the segmentation results seem to
be reasonable. In Fig. 6, we invert the original image
first, then, manipulate smoothing operators to remove
noise both on the void spaces and grains, finally to use
the above image segmentation procedure. In Fig. 7,
the grains seem to be fractured grains, the grain size
vary much. In Fig. 8, since the intensities of the void
spaces vary too much, it is better to invert the image
first, then minus an edge detected image (magnitude
image). In Fig. 9, the grains are densely packed, and
the contrast between grains and non-grains is low, it is
good to do piece wise stretch, then do smoothing and
segmentation.

Fig. 8 Image of the grains with both dark and light
boundaries

Fig. 6 Image of parsley packed grains

Proceedings of the Computer Graphics, Imaging and Vision: New Trends (CGIV’05)
0-7695-2392-7/05 $20.00 © 2005 IEEE

For further improving the algorithm, we have four
ideas: (1)Modify the pre -processing algorithm by
classifying ceramic images into several classes, and
enhance images by using different routines depending
on the distinct classes; (2)The threshold value should
be determined explicitly, locally, not globally, that
means the local statistical properties of images are
utilized in adaptation of the threshold values T1 , T2
(for partition mode test) and T3 for background
splitting; (3)For small region merging, consider not
only the geometric information, but also Grey value
information; and (4)For shape analysis in the objects
merging and splitting procedures, more intelligent
functions should be added for various situations.
(a)

References
[1]

[2]

L. Horovistiz, J. R. Frade and L. R. O. Hein,
Comparison of fracture surface and plane section
analysis
for
ceramic
grain
size
characterization,Journal of the European Ceramic
Society, Volume 24, Issue 4 , April 04, pp. 619-626.
Tomohiro Iwasaki, Munetake Satoh and Teppei Ito,
Coating of soft metal grains with ceramic fines using
a dry mechanical method , Journal of Materials
Processing Technology,Volume 146, Issue

3 , 10 March 2004, Pages 330-337.
[3]

[4]

(b)
Fig. 9 Image of densely packed grains and the gray
contrast between void space and grains is low. The
image in (a) is the original image, and the scale factor
is marked. The image in (b) is the segmentation result
of the box part on the left.

[5]

4. Conclusion and further studies
We have described a segmentation algorithm for
ceramic material surface with irregular grain shapes.
The algorithm consists of pre-processing, gray level
image segmentation (the Suk & Chung similarity
algorithm), background split and merge of small
regions not based on grey value, and segmentation
algorithm based on shape analysis ( merge and split).
Four different image examples were shown that the
segmentation algorithm works in a right way.

Proceedings of the Computer Graphics, Imaging and Vision: New Trends (CGIV’05)
0-7695-2392-7/05 $20.00 © 2005 IEEE

[6]
[7]

L. Pardo, A. Castro, P. Millán, C. Alemany, R.
Jimé nez
and
B.
Jimé nez,
(Bi3TiNbO9)x (SrBi2Nb 2O 9)1- x
aurivillius type
structure piezoelectric ceramics obtained from
mechanochemically
activated
oxides,Acta
Materialia ,Volume 48, Issue 9 , 29 May 2000,
Pages 2421-2428.
P. Saravanan, V. Selvarajan D. S. Rao, S. V. Joshi
and G. Sundararajan, Influence of process variables
on the quality of detonation gun sprayed alumina
coatings,
Surface
and
Coatings
Technology ,Volume 123, Issue 1 , 10 January
2000, Pages 44-54.
T. Nonaka, Y. Hayakawa, S. Takeda, H. Nishimori
and S. Yamaguchi, Ultrasonic testing for flaw
detection in ceramics,Journal of the European
Ceramic Society , Volume 6, Issue 1, 1990,
pp. 9-14.
Vincent LEBRUN,” Quality control of ceramic tiles
by machine vision.’” Flaw Master 3000, Surface
Inspection Ltd [A] 2001.
C. Boukouvalas, J Kittler, R Marik, M Mirmehdi and
M Petrou, “Ceramic Tile Inspection for Color and
Structural defects.” I.E.E.E. Transactions on
Pattern Analysis and Machine Intelligence,
March, vol. 14, no. 1 1998.

[8]

Pal, N.R., Pal, S.K., 1993, A review of image
segmentation techniques. Pattern Recognition, Vol.
26, No. 9, 1277-1294.
[9] Otsu, N., 1979, A threshold selection method from
gray -level histogram. IEEE Trans. Systems Man
Cybernet, SMC-9, 62-66.
[10] Suk, M., and Chung, S.M., A new image
segmentation technique based on partition mode test.
Pattern Recognition Vol. 16, No. 5. pp. 469-480,
1983.
[11] Wang, W.X., 1998, Binary image segmentation of
aggregates based on polygonal approximation and
classification of concavities. Pattern Recognition,
31(10), 1503-1524.
[12] W.X. Wang, F. Bergholm and B. Yang, 2003, Froth
delineation based on image classification,
International Journal of Mineral Engineering,
Volume 16, Issue 11, November 2003, Pages
1183-1192.

Proceedings of the Computer Graphics, Imaging and Vision: New Trends (CGIV’05)
0-7695-2392-7/05 $20.00 © 2005 IEEE

