A Novel Approach for Skew Estimation of Document Images in OCR
System
M. Sarfraz*, A. Zidouri , S. A. Shahab
Department of Information and Computer Science
KFUPM, Dhahran 31261, Saudi Arabia
Email: sarfraz@ccse.kfupm.edu.sa

Abstract
Optical Character Recognition (OCR) is an area
which has always received special attention.
OCR systems are typically built on the strategy
of divide and conquer, rather than recognizing
documents at one go. They utilize several stages
during the course of recognition. There have
been many stages in a typical OCR system,
preprocessing stage in considered to be
indispensable. An input image or information
need to be normalized and converted into format
acceptable by OCR system. OCR systems
typically assume that documents were printed
with a single direction of the text and that the
acquisition process did not introduce a relevant
skew. Practically this assumption is not very
strong and printed document could be skewed at
some angle with horizontal axis. In this paper,
we have proposed a new technique for skew
estimation of image document. In the proposed
scheme, multiscale properties of an image are
utilized together with Principal Component
Analysis to estimate the orientation of principal
axis of clustered data.

1. Introduction
Pattern recognition has always been an
interesting area for research whose ultimate goal
is to simulate human vision [19]. Among the
many applications of pattern recognition, Optical
Character recognition (OCR) is one area which
has always received special attention.
Preprocessing is a stage in typical OCR system,
which focuses on enhancing the acquired image
to increase the ease of feature extraction and to
compensate for the eventual poor quality of the
scanned document [2]. Skew detection and
correction are important preprocessing steps of
document layout analysis and OCR approaches.
OCR systems typically assumed that documents
were printed with a single direction of the text

Proceedings of the Computer Graphics, Imaging and Vision: New Trends (CGIV’05)
0-7695-2392-7/05 $20.00 © 2005 IEEE

and that the acquisition process did not introduce
a relevant skew. The advent of flat bed scanners
and the need to process large amounts of
documents at high rates, made the above
assumption unreliable and the introduction of the
skew estimation phase became mandatory. The
subsequent stages of OCR systems, chiefly
depends upon the accuracy of preprocessing
stage. For instance, if OCR system under
estimate or over estimate skew angle, then OCR
system which is utilizing Projection based
technique will fail miserably.
There has been a variety of techniques proposed
in the literature to estimate and correct the skew
of document image. A comprehensive survey
could be found in [3]. Most of the skew
estimation techniques can be divided into the
following main classes according to the basic
approach they adopt [3]: analysis of projection
profiles,
Hough
transform,
connected
components clustering and correlation between
lines. Other techniques have been proposed
which are based on the analysis of the Fourier
spectrum [13], on the use of morphological
transforms and on subspace line detection [6].
A new scheme for tilt correction has been
proposed in this paper. The paper is organized in
this fashion. Section2 depicts our proposed
scheme. Section3 displays experimental results.
Section4 concludes the paper.

2. Proposed Scheme
While there have been varieties of transforms
used for skew correction, for instance Hough
Transform [8] and Fourier transform [13], but in
our knowledge none of them have utilized
wavelet transform for the purpose of skew
detection. We have proposed a new technique for
skew estimation utilizing the multi-scale analysis
of image. The basic deficiency in applying
Fourier transform to images is that it is designed
for stationary signal [15] but images are
considered to be non stationary signal similarly it

has been reported in [14] that for scripts of
connecting nature, Hough Transform does not
perform well. Arabic Fonts are connecting in
nature while English fonts are isolated in nature,
the proposed technique could be utilized to
estimate skewness in both fonts systems.
In our proposed scheme, we decompose the
image into detail sub-bands. The energy
distribution of wavelet transformed signal is
estimated by using PCA. In this section we will
review wavelet transform and PCA.
2.1 Discrete Wavelet Transform
A wavelet is a waveform of effectively limited
duration that has an average value of zero. In
Fourier analysis, a signal is broken into
harmonics of various frequencies. Similarly,
wavelet analysis is the breaking up of a signal
into shifted and scaled versions of the original
(or mother) wavelet. Wavelet analysis can be
applied to one dimensional data - sound as well
as two-dimensional data - images; or, in
principle, to higher-dimensional data.
2.1.2 Mathematical preliminaries
A wavelet expansion is similar in form to the
well-known Fourier series expansion, but is
defined by a two-parameter family of functions
[15]

set of conditions and is typically selected based
on the signal processing problem domain
2.1.3 2D Discrete Wavelet Transform

2D Discrete Wavelet transform (DWT) will
divide image into Approximation and three subbands of different details that is Horizontal,
Vertical and Diagonal details. We can further
apply DWT on Approximation (LL sub-band) to
obtain next level sub-band. Wavelet detail bands
provide sufficient information about the
distribution of energy in image. All the three
detail sub bands could be utilized to analyze the
tilt in document images.
The spread or distribution within data could be
found out by performing Linear Regression
Analysis or PCA technique. PCA [20] is a useful
statistical technique that has found application in
fields such as face recognition and image
compression and is common technique for
finding patterns in data of high dimension. Eigen
vectors represent how these data sets are related
along that line.
2.2 Principal Component Analysis
To accurately estimate the direction of signal
distribution in each sub-band i.e. horizontal,
vertical and diagonal, we proposed to use PCA
technique [20]. Consider the distribution of 1st
level horizontal detail co-efficient in Fig. 1.

f (t ) = ¦ k ¦ j a jkψ jk (t )
Where j and k are integers and the functions
ψ jk (t ) are the wavelet expansion functions. As
indicated earlier, they usually form an orthogonal
basis. The two-parameter expansion coefficients
ajk are called the discrete wavelet transform
(DWT) coefficients of f(t). The coefficients are
given by
a jk = ¦ k

¦ j f (t )ψ jk (t )

The wavelet basis functions are a two-parameter
family of functions that are related to a function
called the generating or mother wavelet by

ψ jk (t ) = 2 j / 2ψ (2 j t − k )
Where k and j are the translation and dilation
parameter respectively. Therefore, wavelet basis
functions are obtained from a single wavelet by
translation and scaling. There is, however, no
single and universal mother wavelet function.
The mother wavelet must simply satisfy a small

Proceedings of the Computer Graphics, Imaging and Vision: New Trends (CGIV’05)
0-7695-2392-7/05 $20.00 © 2005 IEEE

Figure 1: Pixel Distribution of First Level
Horizontal Detail Co-efficient

We need to find centroid of the data distribution.
Centroid could be found by summation of x and
y location of data and divided by total number of
data.

eigenvectors, e1 and e2, of Cx can be found by
solving:
[Cx ņ Ȝi I ] ei = 0
(1)
Since there is a solution to the above equation
det (Cx ņ Ȝ I ) = 0
Since dim (Cx ) = 2i , it can be solved in terms of
algebra:
det (Cx ņ Ȝ I ) = 0 =>
Ȝ2 – Ȝ(cx11 + cx22) + (cx11 cx22 ņ cx21 cx12) = 0

Figure 2: Calculating Centroid of Pixel
Distribution

Eccentricity of the bounded ellipse can be
determined by the ratio of the square roots of the
Eigen values that correspond to the matrix
ª a b / 2º
«
»
¬b / 2 c ¼

Where a, b, c are defined as
a =  I’ (x’)2 dx’ dy’
b =  I’ x’y’ dx’ dy’
c =  I’ (y’)2 dx’ dy’
Where x’ and y’ are the x and y coordinates
normalized to the centroid.
The technique of finding the first PC (major axis)
is based on performing Principal Component
Analysis, as could be done in any PCA based
recognition systems. The input data is the energy
distribution in different sub band of images and
not the gray-level values.
Let the co-efficient of image be represented as
V = [x 1 – µx x 2 - µx . . . x n - µx]

Where V denotes the energy distribution of
different sub band of image vector.
x = [x1 x2]T
µx = [µx 1 µx 2]T
denotes the centroid of the hand with respect to
the input coordinate system.
n denotes the number of distinct co-efficient in V.
The covariance matrix is calculated as Cx =
VVT . The Eigen values Ȝ1 and Ȝ2, and the

Proceedings of the Computer Graphics, Imaging and Vision: New Trends (CGIV’05)
0-7695-2392-7/05 $20.00 © 2005 IEEE

This is a simple quadratic equation and the
values of Ȝ1 and Ȝ2 can be calculated by quadratic
formula.
Clearly Ȝ1 is the highest Eigen value and Ȝ2 the
lowest.
Now the eigenvectors must be found but since
equation 1 is a linear homogeneous equation
with determinant equal to zero there are an
infinite number of solutions. Therefore one of the
components in each eigenvector can freely be
chosen. This reduced the problem from two
equations with two unknowns to one equation
with one unknown. The first eigenvector is
calculated by setting the first element equal to 1
and then isolating the second element using the
first equation. This yield
į11 = 1
(cx11 ņ Ȝ1) + į21 cx12 = 0 =>
į21 = (Ȝ1 ņ cx11) / cx12
Where į1 denotes the first un-normalized
eigenvector.
The first eigenvector is normalized:
e1 = į1/( ¥į1T į1)
e1 = [ 1 /¥ (1 + (į21)2) . į21/¥ (1 + (į21)2) ]T

Using the same technique the second eigenvector
can be found:
e2 = [ 1 /¥ (1 + (į22)2) . į22/¥ (1 + (į22)2) ]T
where į22 = (Ȝ2 ņ cx11) / cx12

The angle with respect to the first axis is given
as:
angle = arctan (e21/e11) =>
angle = arctan ( į21/1 )
angle = arctan ((Ȝ ņ cx11) / cx12 )
Now, we can draw an ellipse, since we know the
centroid, eccentricity and angle of major axis

with respect to x-axis. Fig. 3 depicts the data
distribution bounded by an ellipse.

ԦHi, ԦVi, ԦDi be the set of angles found at level 'i'
for sub bands of horizontal, vertical and diagonal
details respectively.
1.
2.
3.

4.
5.
6.
7.
8.

Figure 3: Bouding Pixel Distribution by an
Ellipse

For i = 1 to Level
Extract cHi, cVi and cDi from I'
Treat each co-efficient of sub bands as a
set of data and find the orientation of
ellipse which could bind the data
distribution.
Scan for change of sign (+ or -) within
each set.
If found any change of sign in step 4 do
nothing
Else Calculate median of all three sets
of angle at level i.
End For.
Take the mean of all accumulated angle
at each level and rotate the image by the
resultant angle.

3. Experimental Results
First, we will demonstrate the application of
proposed algorithm for Arabic documents. Fig. 4
represents a tilted document.

2.3 Proposed Algorithm
We have selected 'Haar' as mother wavelet
because of the fact that document images are
binary in nature and there are only two
transitions in 'Haar' wavelet. 'Haar' wavelet will
be well suited to binary images and it does not
require any complex calculation.

Discrete wavelet transform is applied on
document image. At each level, the energy of
image is aligned with the direction of tilt. By
allowing more and more level, correct estimation
of energy distribution along side of tilt can be
found out. While approximation detail do not
prevail much information about the tilt, the detail
sub bands could be utilized to accurately
estimate the tilt of document. For instance, in
case of horizontal band, more and more energy is
distributed along the axis of rotation. In order to
estimate the line of direction of variability in data
either Linear Regression analysis or PCA could
be employed.

Figure 4: Titled Arabic Document

The resultant angle was found to be 10.2627o and
the result of rotated image at -10.2627 is shown
in Fig. 5.

Figure 5: Tilt Corrected Document

Let I = Input image of dimension M x N
cAi = coeff. of approximation sub band at level i
cHi = coeff. of horizontal detail at level i
cVi = coeff. of vertical detail at level i
cDi = coeff. of diagonal detail at level i
Level = Desired number of level to examine
I' = Discrete Wavelet Transform (I)

Proceedings of the Computer Graphics, Imaging and Vision: New Trends (CGIV’05)
0-7695-2392-7/05 $20.00 © 2005 IEEE

There was an error of -0.2627o but lines can be
segmented using horizontal projection thus the
result is acceptable for any practical OCR
system.

Now, we will demonstrate the applicability of
our proposed technique for English document

Figure 6: Normal English Document

images. Fig. 6 and Fig. 7 depict normal and tilted
English documents respectively.

Figure 7: Tilted English
Document

The resultant angle was found to be -45.0563.
After rotating the image at 45.0563o, the result is
shown in Fig. 8:

Figure 8: Tilt Corrected English Document

5. Conclusion
Acknowledgements

Tilt correction in document images has been a
major problem in any OCR systems. Tilts are
induced into the document images because of
operational mistakes. The accuracy of OCR
systems in terms of recognition heavily depends
upon pre-processing stage. Tilt correction is
considered to be among primary entities in preprocessing techniques. The proposed scheme,
introduced in Section 2, utilizes multi-scale
analysis of an image to detect the tilted angle.
We have utilized 'Haar' wavelet to decompose
image into detail sub images at various level. In
each level, we apply PCA to estimate the
orientation of principal axis in horizontal,
vertical and diagonal details co-efficient. This
scheme has been tested extensively on Arabic
fonts which are connecting in nature and English
fonts which are isolated in nature. The proposed
scheme is accurate with in all practical limits for
both font systems.

Proceedings of the Computer Graphics, Imaging and Vision: New Trends (CGIV’05)
0-7695-2392-7/05 $20.00 © 2005 IEEE

The authors acknowledge the support of King Fahd
University of Petroleum & Minerals (KFUPM) for this
research. This work has been developed under
Project# EE/AUTO-TEXT/232 funded by KFUPM.

6. References
[1] S. Sadallah and S.Yacu; “Design of an Arabic
Character Reading Machine”;
Proceedings Computer process, Arabic Language,
Kuwait, (1985).
[2] A. Cheung, M. Bennamoun and N.W. Bergmann
“Implementation of a Statistical Based Arabic
Character Recognition System”, IEEE Tencon –
Speech and Image Technologies for Computing and
Telecommunications, pp.531-534, (1997).
[3] Jonathan J. Hull; "Document Image Skew
Detection: Survey and Annotated Bibliography";
World Scientific, pp. 40-64, 1998.

[4] Syed Nazim Nawaz; "Offline Arabic Character
Recognition System"; Master Thesis, KFUPM June
2003.
[5] T. Akiyama and N. Hagita; "Automatic entry
system for printed documents"; Pattern Recognition
Volume 23 , Issue 11 1990 Pages: 1141 – 1154,
Publisher Elsevier Science
[6] Su Chen and Robert M.Haralick; "An Automatic
Algorithm for Text skew estimation in document
images using Recursive morphological transforms";
proc. of ICIP, pp 139-143, 1994
[7] Oleg Okun, Matti Pietikäinen and Jaakko Sauvola;
"Robust Skew Estimation on Low-Resolution
Document Images"; Proc. 5th International Conference
on Document Analysis and Recognition, Bangalore,
India, 621 – 624, 1999.

Proceedings: National Workshop on IT Services and
Applications (WITSA2003) Feb 27-28, 2003
[12] Adnan Amin, Ricky Shiu; "Page Segmentation
and Classification Utilizing Bottom-Up Approach";
International Journal of Image and Graphics, Vol. 1,
No. 2 (2001) pp. 345-361.
[13] W. Postl; "Detection of linear oblique structures
and skew in digitized documents"; Proc. Eighth Int.
Conf. on Pattern Recognition, 1986.
[14] Rajiv Kapoor, Deepak Bagai, T. S. Kamal; "Skew
angle detection of a cursive handwritten Devanagari
script character image"; Journal of Indian Institute
May - Aug 2002, pp 161–175 .
[15] Olivier Rioul, Martin Vetterli; "Wavelets and
Signal Processing"; IEEE SP Magazine October 1991

[8] Younki Min, Sung-Bae Cho and Yillbyung Lee; "A
Data Reduction Method for Efficient Document Skew
Estimation Based on Hough Transformation";
Proceedings of ICPR '96 IEEE

[16] Mallat, S.A; “Theory for multiresolution signal
decomposition: The wavelet representation,” IEEE
Trans. Pattern Analysis Machine Intell., vol. 31,
pp.674-693, 1989.

[9] E.Kavallieratou, N.Fakotakis, and G.Kokkinakis;
"Skew Angle Estimation In Document Processing
Using Cohen’s Class Distributions";

[17] Robi Polikar; " Fundamental Concepts & An
Overview Of The Wavelet Theory"; The Wavelet
Tutorial

[10] Yue Lu and Chew Lim Tan; "Improved Nearest
Neighbor Based Approach to Accurate Document
Skew Estimation",; Proceedings of the Seventh
International Conference on Document Analysis and
Recognition (ICDAR’03) 2003 IEEE

[18] Michel Misiti, Yves Misiti, Georges Oppenheim,
Jean-Michel Poggi; "Wavelet Toolbox For Use with
MATLAB"; March 1996

[11] P.Shivakumara, G. Hemantha Kumar, D. S Guru
and P. Nagabhushan; "Skew Estimation of Binary
Document Images Using Static and Dynamic
Thresholds Useful for Document Image Mosaicing";

Proceedings of the Computer Graphics, Imaging and Vision: New Trends (CGIV’05)
0-7695-2392-7/05 $20.00 © 2005 IEEE

[19] Dr. M. Sarfraz ; "Computer Vision"; Lecture
Slides, KFUPM, Dhahran.
[20] Lindsay I Smith; "A tutorial on Principal
Components Analysis"; February 26, 2002.

