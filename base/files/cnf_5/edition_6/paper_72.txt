SHIP HULL FITTING USING NURBS
Ang Swee Wen
Department Of Graphics and
Multimedia
Faculty of Computer Science
and Information System
Universiti Teknologi
Malaysia
angeline_aasw@hotmail.com

Siti Mariyam Hj. Shamsuddin
Department Of Graphics and
Multimedia
Faculty of Computer Science
and Information System
Universiti Teknologi
Malaysia
mariyam@fsksm.utm.my

ABSTRACT
Ship hull form module is the main module in ship
design. The problem of creating fair ship hull surface
is of major importance in Computer Aided Ship
Design environment. The fairness of these surfaces is
generally considered a subjective notion depending on
the judgment of the designers (e.g. visually pleasing,
devoid of unnecessary bumps or wiggles, satisfying
certain continuity requirements). One of the restriction
in ship hull design is that the existing details of a ship
design on paper or a ship that already been
constructed physically couldn’t be reconstructed
accurately and concisely in a ship hull design
software. This problem can take on many different
characteristics, depending on the goal of the
reconstruction, the origin of the offset, and tools or
methods available to tackle the job. All of these must
be taken into account in developing the best approach
to solving the problem in the most efficient manner. In
this research, the implementation of NURBS method is
used because it brings the most convincing results.
Keywords: NURBS, surface reconstruction, ship hull,
fairing, fitting, ship design

1 Introduction
This research may be able to construct a concise
and accurate approximation of the physical surface of
the ship hull. The generation of NURBS curves and
surfaces are used as the domain for the fitting of the
ship hull because of its high level of continuity,
fairness and flexibility. Besides, the amounts of
control points needed are less compared to other
available parametric surfaces like parabolic blending,

Proceedings of the Computer Graphics, Imaging and Vision: New Trends (CGIV’05)
0-7695-2392-7/05 $20.00 © 2005 IEEE

Yahya Samian
Department Of Marine
Technology
Faculty of Mechanical
Engineering
Universiti Teknologi
Malaysia
yahyaSPAMM@fkm.utm.my

bezier, cubic spline, etc [1]. The methodology of ship
hull surface fairing is illustrated in Figure 1.

2 NURBS
2.1 NURBS formulation
In this section we state a few formulas for the sake
of completeness. A NURBS curve of degree p is a
piecewise polynomial curve defined as follows:
n

C w (u ) = ¦ N i , p (u ) Pi w
i =0

where Pi , i = 0,..., n, form the so-called control
polygon defined by a set of weighted control points
w

Pi w = ( wi xi , wi yi , wi zi , wi ) ,

and

N i , p(u ), i = 0,..., n , are the B-spline basis functions
defined over a knot vector

U = {u0 ,..., um }, ui ≤ ui +1 , i = 0,..., m − 1
We assume throughout this paper that the knot
vector has the following form:

U = {a
, a	
,...,
, b	
,...,



a, u p +1 ,..., um − p −1, b



b}
p +1

p +1

where in most practical applications a = 0 and b =
1. A NURBS surface of degree (p, q) is defined
similarly as:
n

m

S w (u, v) = ¦¦ N i , p (u ) N j , q (v) Pi ,wj
i =0 j =0

where

P , i = 0,..., n; j = 0,..., m , form the sow
i, j

called control net defined by a set of weighted control

points

U = {u0 ,..., ur }, ui ≤ ui +1 , i = 0,..., r − 1
V = {v0 ,..., vs }, v j ≤ v j +1 , j = 0,..., s − 1

Pi ,wj = ( wi , j xi , j , wi , j yi , j , wi , j zi , j , wi , j ) , and

the basis functions

N i , p(u ), i = 0,..., n , and

N j , q(v), j = 0,..., m , are defined over the knot

For an in depth treatment of NURBS the reader is
referred to [3, 7, 8].

vectors
Ship Definition
(Waterlines, Sections, etc)
Initial offset points

Proposed Method
NURBS

GEOMETRIC
CONSTRAINTS

Identify weaknesses
PERFORMANCE
CONSTRAINTS

Assessment of results

Final Results
Faired Surfaces

Figure 1. Methodology of ship hull surface fitting

2.2 Advantages and disadvantages of NURBS

i.

NURBS are very popular both in the academic
and commercial geometric modeling world. Indeed,
they offer advantages, which make them attractive for
design applications [2]
i. They are more general than Bezier and B-Spline
curves and tensor product surfaces.
ii. Evaluation is straightforward, fast and
computationally stable.
iii. They
offer
a
common
mathematical
representation for free-form surfaces and
commonly used analytical shapes such as
natural quadrics, torii, extruded surfaces and
surfaces of revolution.
iv. They are affined (rotation, scaling, translation),
parallel and prospectively invariant as well as
invariant under shear transformations.
v. It is easy to change their shape through the
manipulation of control points, weights and
knots.
vi. Degree elevation, splitting, knot insertion and
deletion and knot refinement offer a wide range
of tools to design and analyze shape
information.
Some of the disadvantages of NURBS over
traditional representations are [2]

ii.
iii.
iv.
v.

Bad choice of weights can lead to bad
curve/surface parameterization.
More storage is needed to define traditional
shapes, such as a circle or a sphere.
Some algorithms are numerically unstable (e.g.
inverse point mapping).
Some algorithms work better with other forms
than with NURBS, e.g. computing the
intersection curve of two surfaces.
Point member classification is a difficult
problem for parametric surfaces. Therefore, it is
particularly difficult to include NURBS as nodes
in a constructive solid geometry system.

3
Used
surfaces
representation

NURBS

The most common surfaces used in CAGD with
NURBS representation are the natural quadrics (plane,
sphere, cylinder, cone), torii, ruled surfaces, extruded
surfaces and surfaces of revolution (refer to [2] or [6]
for an overview of the common used surfaces).
Therefore, it is useful to understand their NURBS
representation and characteristics. Other types of
surfaces such as cross-sectional design and free-form
surface design are covered in the section below.

3.1 Cross-sectional design

Proceedings of the Computer Graphics, Imaging and Vision: New Trends (CGIV’05)
0-7695-2392-7/05 $20.00 © 2005 IEEE

with

Cross-sectional design is concerned with surface
construction based on curve to generate B-spline
surfaces. The most frequently used techniques are
skinning, sweeping and swinging. For more about
cross-sectional design, refer to [14] and [15].
Briefly, NURBS skinning works as follows: a set
of NURBS curves through which a NURBS surface is
to pass. In practice these curve are usually planar
curves positioned in 3D space with a so-called spine
curve. The skinned surface is obtained in three steps
(see Figure 2).

above are then the control points of the skinned
surface
n

m

S w ( u, v) = ¦¦ Pi w, j Ni , p (u ) N j , q (v )
i =0 j = 0

defined over the knot vector U and V .
NURBS sweeping is a special case of skinning
that uses a constant section curve. If the curve is a
v curve, then the constant section curve is positioned
along the spine at the same u value. Whereas, NURBS
swinging is a generalization of rational sweeping (refer
to [6] ).

3.2 Free-form surface design

Figure
2.
NURBS
skinning:
surface
interpolation through cross-sectional curves
i.

Make all cross-sectional curves compatible.
That is, all the curves should have the same
degree and number of control points and be
defined over the same knot vector. Assume this
has been done; then
n

Ckw (u ) = ¦ Qiw, k Ni , p (u ), k = 0,..., k
i=0

ii.

iii.

are u -directional curves lying on the surface
(isoparametric lines in the u direction) and
defined over the same knot vector U .
Compute v values and a knot vector V for
interpolation with degree- q NURBS curves
(use the technique outlined for curves). The v
values are needed as the curves are assumed to
be at a certain fixed v .
Using the knot vector V and the v values
computed in step 2, interpolate curves through
the control points of the curve equation above.
More precisely, for each

i, i = 0,..., n , obtain

m

Ciw (v ) = ¦ Pi,wj N j , q ( v)
j =0

so that this equation interpolates

Qiw, k at certain

v values (note that if the u -directional curves
are rational, then rational interpolations are to
be used). The control points of the equation

Proceedings of the Computer Graphics, Imaging and Vision: New Trends (CGIV’05)
0-7695-2392-7/05 $20.00 © 2005 IEEE

In the previous sections, we summarized the most
important properties, advantages and disadvantages of
the NURBS and the mathematical NURBS
representation of commonly used surfaces such as
quadrics, ruled surfaces and surfaces of revolution.
However, the real power of NURBS lies with their
ability to model complex free-form curves and
surfaces.
We can categorize the available fitting techniques
in two different groups mainly: interpolation and
approximation. In the following, these fitting methods
are discussed in more detail [13]. A typical outline of a
fitting algorithm would be :
1. Assign initial parameter values to the data points
(parameterization of the data points).
2. Assume an initial knots distribution (uniform knots
is the most common case).
3. Go through an interpolation or approximation
procedure to obtain the weights and control points of
the NURBS curve or surface, i.e. obtain the fitting
curve or surface.
4. Optimize the parameter distribution if necessary to
obtain a better fit.
The common steps are to be followed for
assignment of initial parameter and knot values. There
are different techniques available in order to
parameterize the given data such as the centripetal
method, the cumulative chord length and the base
curve or surface method. Refer [5] for an overview of
existing parameterization methods.
There are several ways of approximating the
surface with the NURBS definition:
i. Reposition control points (including the
application of multiple control points to generate
sharp edges).
ii. Change the weights.
iii. Modify the knot vector.
iv. Move data points and re-interpolate.

4 A Better Result for Ship Hull Fitting

In free-form surface design, the challenge is to
produce a new parameterization method for NURBS
that enable the production of fair surface fitting for
free-form design. Therefore in this initial stage, the
idea of interpolation and approximation will be used
on the ship hull produced using cross-sectional design
method to fair the surface if there is any visually
unpleasing surface, unnecessary bumps or wiggles,
etc. on the ship hull.
The following (figure 3) are the proposed method
processes to obtained best fitting faired and smooth
surface from a particular set of ship hull offset data.
Ship Definition
(Waterlines, Sections, etc)
Initial offset points/data

Control points Generation
Input : Initial Ship offset data
Output : Control points for surface
generation
Method : B-spline curve fitting

The implementation is only tested on 4 ship offset
data (40m btv, fishing vessel, fire fighting and yacht)
because these are the only few that are allowed by the
marine lab. The rest of the ship drawings are owned by
other organization which are confidential. These
drawings (40m btv, fishing vessel, fire fighting and
yacht) are actually drawings of ships that have already
been successfully constructed physically.
The need of control points generation (Algorithm
1) before the surface generation using NURBS is
needed because the surface generated with NURBS
doesn’t touch the initial offset data except for the first
and last data for each curve/cross-section. This is one
if the characteristic of NURBS. The relative error may
be very huge and unexpected outliers may be
generated. So elimination of the unwanted data or
accidental outliers is done. Curve fitting method is
used instead of surface fitting in order to increase the
accuracy of the generated data.
Algorithm 1 – Control points Generation [10]
Input :

Pi n ( x, y, z ),

ship hull offset points

Output :

Data offsets Generation
Input : Control points
Output : Generated offset data
Method : NURBS surface

Qin ( x, y, z ), offset data
Algorithm :

N in Å NURBS basis function
( N in ) −1 Å Inverse ( N in )
FOR i = 0 to n DO

Surface fitting
Input : Generated offset data
Output : Visual display
Method : Cross-sectional design

Surface fairing
Input : Generated offset data
Output : Offset data with minimized
error
Method : Approximation or
Interpolation

Final Result
Faired Surfaces

Figure 3. Process to produce expected result

5 Implementation
The data offsets of a defined ship hull are taken
from an existing ship design on paper (first process).
The ship design plan consists of three views; top view
(Half Breath Plan – (x, y)), side view (Sheer Plan – (x,
z)) or front view (Body Plan – (y, z)).

Proceedings of the Computer Graphics, Imaging and Vision: New Trends (CGIV’05)
0-7695-2392-7/05 $20.00 © 2005 IEEE

Qi

Å Multiply

( N in ) −1 with Pi

END.

Before the NURBS surface could be fitted on the
cross-sectional curves, number of data offsets for each
cross-sectional curves need to be the same. The
surface fitting using cross-sectional design concept is
done by making all the cross-sectional curves
compatible and joining them with one another. The
algorithm of this process is shown below (Algorithm 2
and 3).
Algorithm 2 – Surface Fitting
Input :

Ckw ( x, y , z ), cross-sectional curves
q, degree of surface in the skinning direction
Output :

S w (u , v),

skinned surface

Algorithm :
make curves compatible if necessary (algorithm 4)
n Å highest index in control point arrays

U

Å knot vector of any

compute

Ckw

v0 ,..., vk for curve interpolation

compute V by averaging
FOR i = 0 to n DO
FOR j = 0 to k DO

Q

v parameters

Siw, j (u, v ), i=0,…,n; j=0,…m; data points
( p, q )

w
j Å ith control point of

C

w
j

S w (u , v),

END
w k
i , j j = 0 Å interpolate

{P }

w k
i , j j = 0 with a degree

{Q }

q

curve

END

Algorithm 3 – Making Cross-sectional Curves
Compatible
Input :

surface interpolated

Algorithm :
find rows with the highest index
compute parameterizations for each of these rows

T Å average these parameterizations
U Å knot vector using T for degree q

FOR i = 0 to n DO

w
k

C ( x, y , z ),

Ci (v ) Å interpolate using U
U Å add new knots

cross-sectional curves

Output :

Ckw ( x, y , z ),

compatible cross-sectional curves

Algorithm :
make curve definitions compatible (all rational or non-rational,
2D or 3D)
scale knot vectors to a common interval
find the highest degree
raise the degree of the lower degree curve (if any)
merge knot vectors
refine cross-sectional curves

However, the surface generated may not be one
hundred percent fair or according to what the naval
architecture desire. Visually unpleasing surface,
unnecessary bumps or wiggles, etc. may appear. So in
order to enhance the ship hull surface, fairing will be
done thru the interpolation and approximation process.
The algorithm of interpolation (algorithm 5) and
approximation (algorithm 4) is shown below.
Algorithm 4 – Approximation [8]
Input :

END

V

Å make

Ci (v), i = 0,..., n

compatible

get u-parameters and U-knot vector using control point of

Ci (v )
S (u, v) Å interpolate Ci (v), i = 0,..., n

using

U

6 Results and Discussion
At this moment, prototype of each module/process
has been developed (control points generation, data
offset generation, surface fitting, surface fairing).
Figure 4 is a sample of a ship station (fire
fighting) generated with the control points generated
with b-spline fitting algorithm. From this graph, it
shows that the curve generated is not fair. There are
some unpleasant wiggles.
8 00 0
7 00 0

Siw, j (u, v ), i=0,…,n; j=0,…m; data points
EC ,

require degrees

Output :

tolerance of approximation

Output :

S w (u , v),

6 00 0
5 00 0
4 00 0

Gen er a te d

3 00 0

Orig ina l

2 00 0

surface approximated

Algorithm :
make curves compatible precisely (algorithm 4)
compute knot removal error bounds for each dinstinct knot
and for each curve
global error Å 0
WHILE (not DONE)
Find knot with smallest error sum
IF error sum equals ∞ Æ DONE
compute errors of removing this knot from each curve
IF knot is removable from each curve
update global error
remove this knot from each curve
update knot removal error bounds and compact error
vector
ELSE
Knot removal error bound for this knot Å ∞
END
END

Algorithm 5 – Interpolation [9]
Input :

Proceedings of the Computer Graphics, Imaging and Vision: New Trends (CGIV’05)
0-7695-2392-7/05 $20.00 © 2005 IEEE

1 00 0
0
-1 00 0

0

1 00 0

2 00 0

3 00 0

40 0 0

50 00

60 00

Figure 4. Example of a NURBS curve
generated with the control points (B-spline
fitting algorithm)
The relative error of NURBS curve generated with
the control points may be very huge. However, curves
generated by NURBS are initially very fair and
smooth compare to other curve generation and this
method is not perfect. Testing has been done on
samples of offset data but unexpected outliers may be
generated. So elimination of the outliers is done.
Curve fitting method is used instead of surface fitting
in order to increase the accuracy of the generated data.
Figure 5 is a sample of accidental outlier generated

using b-spline fitting algorithm of the ship called 40m
btv.
6
4
2
0
0

1

2

3

4

5

6

Generat ed
Orig inal

-2
-4
-6
-8

Figure 5. Accidental outlier generated
Elimination of unwanted data points or accidental
outliers after the generation of the data offsets is done
using interpolation or approximation. Figure 6 is
another station sample of the fire fighting ship after
elimination of unwanted data points using
approximation.
6000

5000

4000
Generated

3000

Original

2000

1000

0
0

1000

2000

3000

4000

5000

6000

Figure 6. After elimination unwanted data
points
Ship hull three dimensional display uses cross
sectional design. Figure 7 is an example of the display
of the fire fighting ship.

Figure 7. Display of the NURBS wireframe

7 Future Works
The data offsets used in this research are existing
ship that already been build physically. For the time
being, only manage to get 4 types of ship data offsets
because many other ships are confidential (reserve
rights of companies that own the ship drawings).
Analysis of the effectiveness of the NURBS surface
for fairing the ship hull surface is done by calculating
Mean Square Relative error.
The interpolation and approximation method is
going to be developed in a way that users or naval

Proceedings of the Computer Graphics, Imaging and Vision: New Trends (CGIV’05)
0-7695-2392-7/05 $20.00 © 2005 IEEE

architectures can approximate the reconstructed
surface manually (interactively and semi-automated)
in order to obtain accurate surfaces because it is
impossible that an automated surface reconstruction
could be 100 percent accurate [4]. The help of a naval
architecture is always needed.
This research is to reconstruct the surface to the
ship definition by using NURBS. Both visual and
numerical results will be produced to demonstrate the
effectiveness of NURBS for fairing the surfaces of the
ship hull. For future works, an alternative to NURBS
like Rational Spline with Point Tension [11] and
Weight Nu Spline [12] could be researched.

References
1. S.W. Ang, Rekabentuk Rangka Kapal Menggunakan
Parabolic Blending, Thesis, Department Of Graphics
and Multimedia, Faculty of Computer Science and
Information System, Universiti Teknologi Malaysia,
Johor, Malaysia, 2002.
2. E. Dimas and D. Briassoulis, “3D geometric modelling
based on NURBS: a review”, Advances in Engineering
Software, 1999, 30, pp. 741-751.
3. J. Fisher, J. Lowther and C.K. Shene, “If You Know BSpline Well, You Also Know NURBS!”, SIGCSE 2004,
2004, pp. 343-347.
4. S.M. Hollister, “The Dirty Little Secrets of Hull Design
by Computer”, New Wave Systems Inc., 1997.
5. H.B. Jung and K. Kim, “A New Parameterisation
Method for NURBS Surface Interpolation”, Advanced
Manufacturing Technology, 2000, 16, pp. 784-790.
6. L. Piegl, “On NURBS, a survey”, IEEE Computer
Graphics and Applications, 1991, 11(1), pp. 55–71.
7. L. Piegl and W. Tiller, The NURBS Book, SpringerVerlag, New York, 1995.
8. L. Piegl and W. Tiller, “Algorithm for approximating
NURBS skinning”, Computer Aided Design, 1996,
28(9), pp. 699–706.
9. L. Piegl and W. Tiller, “Reducing Control Points in
Surface Interpolation”, IEEE Computer Graphics and
Applications, 2000, pp. 70–74.
10. D.F. Rogers, An Introduction to NURBS : With A
Historical Perspective, Academic Press, USA, 2001.
11. M. Sarfaz, “A Rational Spline with Point Tension: An
Alternative to NURBS of Degree Three”, Geometric
Modeling : Techniques, Applications, Systems and Tools.
2004, pp. 131-148.
12. M. Sarfaz, “Weighted Nu Splines : An Alternative to
NURBS”, Advances in Geometric Modeling, 2004. pp.
81-95.
13. B. Sarkar and C.H. Menq, “Parameter optimisation in
approximating curves and surfaces to measurement
data”, Computer Aided Geometric Design, 1991, 8, pp.
267–290.
14. C.D. Woodward, “Cross-sectional design of B-Spline
surfaces”, Computers and Graphics, 1987, 11(2), pp.
193–201.
15. C.D. Woodward, “Skinning techniques for interactive BSpline surface interpolation”, Computer Aided Design,
1988, 20(8), pp. 441–451.

