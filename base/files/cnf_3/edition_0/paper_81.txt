2012 16th International Conference on Information Visualisation

Modelling 3D City Using High Resolution Stereo Camera Imagery
Ebad Banissi and Hong Zhou
Visualisation and Graphics Research Unit, Department of Informatics, London South Bank University, London, UK
banisse@lsbu.ac.uk, zhouhong_2001@hotmail.com
Abstract

Current virtual 3D city models achieve impressive degree
of similarity in the sense of photorealism (Bodum, 2005).
However, some sectors are still insufficient. First, the
modelling of complex 3D object such as building needs to be
taken into account. Deng uses geometric decomposition,
which is based on the assumption that a high percentage of
building can be modelled using a small number of building
primitives like flat boxes, polyhedron with saddleback and
hipped roofs, and other geometric primitives like cylinders
and cones (Deng, 2003). But this method will compromise
the accuracy of roof details. Second, although essential
components such as DTMs and building geometry can be
generated with known precision by processing geodata from
sources such as LIDAR or by photogrammetric methods, the
generation of detailed faÃ§ade still poses a challenge (Lorenz,
2006). Finally, the model creation is undertaking in a nonsatisfactory degree of automation. In this paper, we present
our method of creating 3d city model based on HRSC
imagery and new 3d modelling techniques to obtain high
degree of automation and efficiency without compromising
the detail and accuracy of the result.

This paper presents concepts and methods to develop digital
3D city model from photography. The aim of current research
is to create an effective approach of modelling city with huge
amount of complex architectures. Taking advantage of
advanced photogrammetry and High Resolution Stereo
Camera (HRSC) technology, high quality ground details can
be mapped to GIS datasets and the accurate 3D information
can be explored. We describe a technique to triangulate (mesh)
polygonal surface for creating 3D visual objects. The technique
provides high quality and accuracy for the creation of
geographic objects. Also, we introduce the method to improve
visualization performance by means of rectification and
optimization. Finally, we discuss the data management of 3D
city model.
Keywords â€“ modelling, city model, High Resolution Stereo
Camera (HRSC)

I.
INTRODUCTION
Development of city environment has currently widely
carried out. Architects and city administrators expect a
digital model by which it makes easier for disaster
management and urban planning. This motivation has led
many researches on 3d city model recently, from imagery
and scanning techniques to 3d visualization technology. The
3d city model, which generated by different methods can be
transferred into GIS easily and used as a base for GIS. In
addition, it is possible also to make queries on the 3D city
models, and these 3D city models can be published on
internet for civilian users (Zlatanova, 2000).

II.

HIGH RESOLUTION STEREO CAMERA (HRSC)
TECHNOLOGY
Data source of 3D city model is vital for success of the
modelling process. Standard aerial imagery uses a vertical
viewing axis, which guarantees optimal resolution for
horizontal regions, but depicts vertical elements such as
facades only due to perspective effects (Lorenz and DÃ¶llner,
2006). Laser scanning (LIDAR) data needs additional image
capturing to meet the demands of model texturing. Either
LIDAR data or standard aerial photograph cannot provide
sufficient sources including both geometries and textured
images. In contrast, HRSC technique is able to keep both
vertical and horizontal elements in data capturing while
maintaining the high resolution.

Heretofore, 3D city models are generated from 3 kinds of
source data: aerial photography, satellite image and laser
scanner (LIDAR). Over 8-10 years, a number of approaches
of 3d city modelling have been developed based on
photogrammetry or laser scanning data (LIDAR). For
example, Emem (Emem, 2003) uses photogrammetric 2.5D
maps and orthogonal images to create 3d city model. In his
method, selective features on the ground have been
generated by means of measurement of digital maps. Ellen
utilizes 2D GIS data for the segmentation of airborne laser
scanner datasets, and the 3d building model is generated
based on specific orthogonal projections of segmented point
clouds (Ellen, 2004). Kocaman carries out using Satellite
Image Precision Processing (SAT-PP) and CyberCity
Modeler (CCM) to extract and generate Digital Surface
Model (DSM) and 3D objects from IKONOS and Quickbird
images (Kocaman, 2006).

1550-6037/12 $26.00 Â© 2012 IEEE
DOI 10.1109/IV.2012.119

2.1 HRSC imagery
The camera (HRSC) is specifically designed for highprecision photogrammetric analysis (Lorenz and DÃ¶llner,
2006). The current version, HRSC-AX was built for
airborne high-resolution 3D-earth-reconnaissance and is still
under further development. The imaging electronics of
HRSC are based on the principle of line-scan camera (ReiÃŸ,
2004). The camera is situated perpendicular to the flight
direction and capture light from 9 sensitive channels. The

516

image formed by each channel consists of 5184 lightsensitive cells (pixels). Three of the channels are sensitive in
the spectral range of red, green and blue. Another one
obtains data in near-infrared. Additional three are stereochannels (Nadir, stereo backward and stereo forward),
which are used for the extraction of 3D data. Furthermore,
there are two photometric channels delivering data for the
physical analysis of the surface. In consequence, this creates
9 continuous image strips for the survey area.

a manner of polygon. Traditionally, the 3d data is stored by
ARC/INFO (ESRI) format.
2.3 Obtained advantages
Using HRSC technique in data capturing both geometric
information and texture images can be obtained
concurrently and facade image can be reserved. It avoids
additional image capturing. The 3d model made from the
HRSC imagery guarantees the high level of accuracy of 3d
city model in the light of high resolution sensing device. On
the other hand, the HRSC imagery may be serving for video
products since the technique enables affluent image data to
be collected for producing animation. The video sequence
(Pollefeys, 2003) is possible to be provided if images are
sufficient.
III.

POLYGONS FILTERING FOR 3D CITY MODEL

3.1 Triangulation
Computing the triangulation of a polygon is a fundamental
algorithm in computational geometry (Narkhede and
Manocha, 1994). A polygon is a closed polygonal curve,
which is a finite chain of line segments. Diagonals are used
to partition a polygon into non-overlapping triangles.
Figure 1. Concept of HRSC imagery
o

In figure 1, along the flight direction d the airplane ideally
sweeps the camera across the surface with constant
orientation and speed. The lens system of the sensor

receives light with some field of P . The angle K leads a
titled orthographic projection to the image stripe. On the
other hand, the perspective projection is also mapped to the

image according to P . From combination of HRSCâ€™s stereo
sensor images, one can obtain forward, backward and
downward view as well. Furthermore, the image strips also
contain high level of texture information due to spectral
sensing for both top and facades.

Figure 2. Polygon Triangulation

2.2 Photogrammetry
Through downward, backward and forward-view from
HRSC imagery we can derive 3D information via
Photogrammetry. In this technology, 3d coordinates of
points on a graphic object are determined by measurements
made in the three photographic images. By means of predefined common points on each image one can construct
triangle from camera location point, common point and the
point on the object. It determines the 3d location of vertex
we need to model the cityâ€™s geographic objects. This work
might be simplified by software facilities. ERDAS Imagine
Â® (Leica) provides tools to select and compute 3d data we
required which results in the 3d point clouds. By closing a
collection of 3d pointsâ€™ sequence one can form a 3d face in

We implement the triangulation process by polygon
segmentation algorithm. A 3d polygon is formed by a set of
closed segments. A segment is enough to define its
orthogonal plane by,
o

pn

0

(1)

Where p is the intersect point of starting segment and the
o

plane; n is normal vector of the plane which is obtained by
the segment itself. This plane is used to determine if the
cross of the segment and its successive segment is convex or

517

concave. The angle between the plane and the successive
segment is calculated according to the equation,

order to guarantee the data is portable/adaptable to the
triangulation algorithm.
One of the geometric mistakes exists in a simple polygon
with overlapping vertex and unnecessary vertex in between.
It is very straight forward to check and eliminate by
calculating vectors among segments. While check
overlapping points, the redundant points could be identified
as well. For point P0 , we check the point with its 2 adjacent

o o

cos E

MN
M xN

(2)

points ( P1 , P2 ). If P1 P0  P0 P2

P1 P2 , P0 must be a

redundant point. The point needs to be removed from the
pointsâ€™ collection.

Figure 3. Angle between two polygon segments for determining whether
convex or concave

Figure 4. Example of redundant points in a simple polygon

If the cross of two segments is convex (  90 d E d 90 ),
a diagonal qm then can be assumed as one edge of
triangulation; the triangulation will start from the next
segment.
While
the
cross
is
concave
$

$

( E ! 90 or cos E  0 ), the segment be will be left to
the bottom of the stack; the triangulation will re-start from
the next segment. On the other hand, diagonals must be not
cross with any of the polygon segments. In consequence, a
polygon with n  vertex would be partitioned into ( n  2 )
triangles.
$

Another issue of non-simple polygon is that one of its
segments crosses anther, which results in a piece of
unnecessary area being made in a surface after triangulation.
There are two options to rectify such polygon; either getting
rid of the unnecessary triangle by identifying the vertex out
of the surface, or merging the triangle by projecting it to the
surface.

In the 3d city modeling process, triangulation takes an
important role to create geometries visualization objects. On
the hand, it improves computer rendering speed (Baxter,
1999) and visualization performance (where the computer
supports accelerated rendering triangles). The triangulation
process is carried out combining with polygon rectification
and optimization.

(a)

(b)
3.2 Polygon rectification
Since the 3d data extraction from HRSC image is partially
man-made (the selection of vertex), additionally the
computing image process (by Â® ERDAS Imagine) may not
provide the optimal 3d polygon geometry if the shape is not
simple, the input data of modeling needs to be rectified in

(c)

& &
m , n not intersecting in

Figure 5. Example of overlapping polygon (non-simple polygon) (a)

& &
m , n intersecting in the space

Original non-simple shape; (b) Rectify where
the space (c) Rectify where

518

On the other hand, some polygon will have hole in the
middle. Such kind of shape is combined by a closed ring in
outer and closed ring/rings in inner but reversed orientation
against the outer ring. In the point collection of this complex
shape, we can identify an edge between one vertex of the
outer and start/end vertex of the inner. Therefore, we are
able to separate the point collection from the shared edge.
As result, one with n holes would be partitioned into (n+1)
simple polygons.

A1 A2  B1 B2  C1C 2

cos T

(5)

A12  B12  C12 . A22  B22  C 22

By analyzing and elaborating the planar-ness, we could
optimize surface for aesthetics purpose.

(a)

(b)

Figure 7. Correctness of surface (a) before optimization; (b) after
optimization

Figure 6. Example polygon with holes (non-simple polygon)

3.3 Polygon optimization
As we all known, a polygon P is the sum of triangles
obtained by meshing.
m

Â¦ 't

P

(2)

j

Figure 8. Symmetroid by optimization

j 0

3.4 Model simplification
A complex geographic object, for example building actually
consists of a collection of primitives such as box, triangle
fan, or triangle strip and so on. Some of the primitives
neither affect depicting the object (because they are too
small and might be replaced by image during texturing
process), nor affect the spatial relationship with others.
However, they could have exhausted displaying resources
such as graphic memory. Having considered performance of
the 3d city model, one should reduce the level of details by
controlling portion of primitives to be loaded at certain
scale. In the vertical view, the simplification of complex
object relies on the projected area proportion of the
primitive to the key primitive. In the horizontal view, it
relies on the height over the important top detail of the
object.

Where 't is an ear of the triangulation. Analysis of a
surface is depending on knowledge of angle between
adjacent triangles. For the plane of a triangle, it can be
written to a linear equation in three unknowns.

Ax  By  Cz  D

0

(3)

To obtain normal vector of the plane, we need the following
equation,
o

n

o

o

M 1M 2 u M 1M 3 =

o

o

o

i
x 2  x1
x3  x1

j
y 2  y1
y 3  y1

k
z 2  z1
z 3  z1

o

o

o

A i  B j C k

(4)

Assume P is the object on which we simplify, i is object on
the P. We compare projection area of i to P,

The angle between two triangles can be calculated from the
equation

519

Figure 9. 3d model simplification

's

si
S

(6)
Figure 10. 3d model of individual building

Furthermore, height difference between i and P

'd

di  D

On the other hand, we reduce the complexity of the 3d
model by combing texture image with vector data. For
example, for a building model, windows and chimneys
might be included in the texturing image in order to
decrease the level of details to be rendered. The refinement
process automatically gets rid of the unnecessary 3d details
by our predefined geometric filter.

(7)

The filter of the simplification is made by these 2 factors.
We discuss simplification in the next section.
IV.

EXPLANATION OF CITY MODEL DESIGN

4.1 Visualization data modelling
To the 3d city model, one of the important aims is to enable
users to visualize key ground characteristics of the city. The
model of the geographic objects completely derives from
photogrammetry with stereo techniques. Therefore, the 3d
city model is able to keep considerably high level of details
of the reality. Furthermore, we sort the data into 5 groups
including land, road, tree, fence and building. The
individual 3d object e.g. building is deployed to database by
distinct feature. The geometry for a feature is stored as a
shape comprising a set of vector coordinates (ESRI, 1998),
which is created from triangulating (meshing) the
photographic data.

(a)

(b)

(
Figure 11. (a) Before refinement. (b) After refinement

4.2 Large data management (tree)
Geographic data in the city model is spatially connected. A
main requirement in the data structure is the ability to access
subsets of the data (Fei etc, 2003). We utilize R-tree, which
is a hierarchical data structure to maintain the spatial
520

relationship within the dataset. An R-tree is a heightbalanced tree similar to a B-tree with index records in its
leaf nodes containing pointers to data objects (Antonin,
1984). Our design of data structure is to identify the subsets
of data in terms of R-tree, and to preserve relationships
among the data objects. We mapped the city model based on
UK postcode system. The geographic information used in
the city model is according to ordnance survey UK. We
organise the geographic objects to the Postcode Point Map
and access address information with Postcode Address File.
Figure X illustrates the use of R-tree searching approach to
obtain objects within the area of â€˜NW1 5BBâ€™.
(a)

The 3-D city model on which the implementation is based
(Kolbe & CrÃ¶ger, 2003) is a multifunctional model, which
consists of multiple data sources and data formats in
connection with different purposes such as, analysis,
simulation, and visualization etc. To facilitate the data
management, we classified three categories of data feature.
One is vector feature to contain the geometries; the second
is topological feature to maintain spatial relations between
objects; and the other is annotated feature for descriptive
information. In GIS, the model can be represented by the
three main layers. For example, the visualization layer
displaying geographic objects presents the view of the city.
A map maintains topological relationship among the
objects. On the hand, some thematic map e.g. demography
might be added on, in order to serve information for design,
analysis and planning.

(b)

Figure 12. (a) Postcode map (b) R-tree

Figure 13. 3d city model in GIS

V.

CONCLUSION

The paper describes aerial photographic technologies being
used in creation of 3d city model. These technologies

521

automated the 3d data collection process. Combining with
the triangulation (mashing) algorithm of modelling complex
3d object, high level visualization details of the city are
maintained and translated to the digital model. Realism and
accuracy are sustained at the best. By design of the data
structure, large amount of geographic information can be
stored and manipulated in a heuristic way.

[5]

Bodum, L., 2005, Modelling Virtual Environments for
Geovisualization:
A
Focus
on
Representation,
Dykes/MacEachren/Kraak (EDS): Exploring Geovisualization,pp.
389-402, Elsevier Publishing

[6]

Deng, F., 2004, Construct 3D City Model by Multi-Sensor Data,
ISPRS Workshop on Service and Application of Spatial Data
Infrastructure, XXXVI (4/W6), Hangzhou, China
Lorenz, H., and DÃ¶llner, J., 2006, FaÃ§ade Texture Quality Estimation
for Aerial Photography in 3D City Models, University of Potsdam,
Hasso-Plattner-Instute

[7]

[8]

ReiÃŸ, D., 2004, HRSC on Mars Express, Institute fÃ¼r
Planetenforschung.
[9] Leica, 2007, Using Geospatial Information: Improving the Accuracy
of GIS, Leica White Paper, Â© 2007 Leica Geosystems LLC
[10] ESRI, 1997, Be More Productive with ArcGIS: ArcMap, ESRI White
Paper, Â© 2007 ESRI, USA
[11] ESRI, 1998, ESRI Shapefile Technical Description, ESRI White
Paper, Â© 2007 ESRI, USA
[12] Pollefeys, M., 2003, Visual Modeling with a had-held camera,
Department of Computer Science, University of North Carolina
[13] Cornelis, K., 2001 and Pollefeys, M., 2001, Augment Reality from
Uncalibrated Vedio Sequences, In Structure from Images â€“ SMILE
2000, Lecture Notes in Computer Science, Vol. 2018, pp. 150-167
[14] Narkhede, A., Manocha, D., 1994, Fast Polygon Triangulation based
on Seidelâ€™s Algorithm, Computer Based Learning Unit, University of
Leeds
[15] Baxter, B., 1999, Low Latency Rendering Acceleration with Multiple
Graphics Pipe, Department of Computer Science, University of North
Carolina, Chapel Hill
[16] Guttman, A., 1984, R-Trees: A Dynamic Index Structure for Spatial
Searching, Communications of ACM

Figure 14. View of 3d city model

Having integrated the 3d city model to GIS one can use it
for urban environment planning and analysis. Furthermore,
the 3d city model also can be used in advertising and 3d
game development.
VI.
[1]

[2]

[3]

[4]

[17] Ullman, J.D., 1998, Principles of Database and Knowledge-base
Systems, VOL. 1, Computer Science Press
[18] Kolbe, T. H. & GrÃ¶ger, G., 2003, Towards Unified 3D-City-Models,
Proceedings of ISPRS Commissions IV Joint Workshop on
Challenges in Geospatial Analysis, Integration and Visualization Ï©,
September 8 - 9, Stuttgart, Germany.

REFERENCES

Zlatanova, S., Tempfli, K., 2000, Modelling for 3D GIS: Spatial
Analysis and Visualization Through the Web, IAPRS, Vol. XXXIII,
Amsterdam

ACKNOWLEDGMENT
Authors thanks Dr John Selig of London South Bank
University; Didier Madoc-Jones & Robert Graves of GMJ
Design Ltd who were involved and partnered Knowledge
Transfer Partnership (KTP) project. This project was
nominated for Collaborative Innovation Excellence Award.

Emem, O, 2003, Generating Precise and Accurate 3D City Models
Using Photogrammetric Data, Journal of Photogrammetry and
Remote Sensing, Istabul
Schwalbe, E., 2004, 3D Building Generation from Airborne Laser
Scanner Data Using 2D GIS Data and Orthogonal Point Cloud
Projections, ISPRS WG III/4, Enschede, Netherlands
Kocaman. S., 2006, 3D City Modelling from High-Resolution
Satellite Images, Journal of Institute of Geodesy and
Photogrammetry, ETH Zurich, Zurich

522

