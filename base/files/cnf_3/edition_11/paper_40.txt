A Multiple-Focus Graph Browsing Technique
Using Heat Models and Force-Directed Layout
Noritaka OSAWA
National Institute of Multimedia Education
osawa@ime. acjp
understand large network structures on the finite space of
a display, interesting (focus) areas should be shown
minutely and uninteresting areas should be minimized but
not eliminated. Such distortion techniques are known as
Focus+Context techniques, which include fisheye
view[8][23], stretchable rubber sheet[ 191 and perspective
wall[ 141. Some Focus+Context techniques can have
only one focus but we need multiple foci to investigate
relationships among nodes.
This paper proposes and describes a visualization and
navigation technique with multiple foci using heat models
[ 161 and explains a prototype browser using the proposed
technique.
The technique integrates force-directed
layout techniques [6][7][ 11][1] with heat models or heat
metaphors. By utilizing heat models, multiple foci can
be placed in a general network structure and a regional
focus is also possible. Focused parts are enlarged and
other parts are shrunk. Moreover, negative foci can be
placed in addition to positive foci.
Heat transfer can be modeled using heat conduction
and thermal radiation. Section 2 explains heat models
with force-directed layout techniques. The heat
conduction model and the thermal conduction model are
respectively described in Section 3 and Section 4. In the
previous short presentation[ 161, the proposed thermal
radiation is omni-directional. On the other hand, a
spotlight-like thermal radiation is proposed and the
combination of heat conduction and the spotlight-like
thermal radiation is explained in this paper. An immersive
graph navigation system[ 171 which we developed uses
the proposed heat models but the formulation of the
models was not described. It is described in this paper.
Section 5 explains the prototype graph browser and shows
screenshots of 3D visualization. Section 6 discusses
related work. Future work is stated in Section 7. Section 8
summarizes this paper.

Ab'stract
This paper describes a multiple-focus graph visualization
and navigation technique using heat models: a heat
conduction model and a thermal radiation model. The
proposed technique integrates force-directed layout
techniques with heat models. It gives virtual heat energy
to focus nodes or a focus region. The heat influences the
temperatures of l i n k and other nodes, and then the
temperatures determine the attributes, such as sizes and
lengths, of nodes and linky. A prototype browser using
the proposed technique has been implemented with the
Java programming language and the Java3D class
librav. The browser cun visualize a general graph
structure interactively in a 2 0 or 3 0 view. It allows us
to have both multiple posilive foci and negative foci, and
enables us to navigate in a graph by using a
heat-radiating pointer:

1. Introduction
Many information structures can be represented by
network structures or node-link graphs. Examples include
hypertext structures of the World Wide Web, file system
structures including symbolic links and call graphs of
procedures in a program. Visualization and navigation
of network structures have wide-ranging applications
[11[31.
Although many of those structures are based on tree or
hierarchical structures, they are not pure trees; that is,
they have non-hierarchical links. Thus, browsing and
navigation techniques need to be applicable not only to
hierarchical structures but also general network
structures.
It is important to show interesting parts in detail in
order to make it easier tcl understand graph data. It is
desirable to show not only the interesting parts but also
the surroundings of the interesting parts because the
context information is important. Since a display area is
finite, it has to shrink or zoom out the surroundings of the
interesting parts while interesting parts (foci) are enlarged
or zoomed in. In other words, in order to see and

0-7695-1195-3~01$10.00
0 2001 1E:EE

2. Heat models
As mentioned above, the proposed technique integrates
force-directed layout techniques with heat models. The
techniques are explained assuming that a spring model is
used for force-directed layout.
As with many force-directed techniques, let us assume
that a node is represented by a body and a link is

277

dissipation coefficient determine convergence of nodes.
Figure 1 shows the model.

represented by a spring in this model. Hooke's law is
applied to links. In other words, elastic force is exerted
between linked bodies. Repulsive force is applied to
separate bodies although this is computationally
expensive.
In addition to a spring model, the proposed technique
uses heat models, which give virtual temperatures to
focus nodes or a focus region. The heat of focus
influences temperatures of other non-focus nodes and
then these temperatures influence the size of nodes and
forces among nodes. As stated, heat transfer can be
modeled using heat conduction and thermal radiation.
Since we are familiar with the heat conduction and
thermal radiation, we can control the parameters of the
models to layout a graph appropriately.
We can guess that the temperature of one end of a link
is low where thermal conductivity of the link is low and
heat dissipates at the ends even if the other end of the link
is a heat source. Although we cannot say the precise
temperature of it, we can adjust the parameters of the heat
source, thermal conductivity and heat dissipation by
seeing the result layout.
In the case of thermal radiation, we know that as it is
far from a spotlight, the received energy decreases.
Moreover, we know that heat becomes usually weak as
the position deviates from the center of the spotlight ray.
Thus we can also control the parameters of the spotlight
and the ray.
It is possible to transfer thermal energy by convection.
However. the model based on heat convection needs
simulation of flow. It often takes a long time. Moreover,
some conditions cause turbulent flow.
We are
unfamiliar with precise nature of flow and find it difficult
to control the parameters of convection. Hence the
author does not think that convection is a suitable model
for visualization and navigation.

Focus node

source of k a t

k a t dsspatan

3
'

disspatwn

Figure 1: Heat conduction model

The Fourier's law of heat conduction is formulated by

Q = -kA-

dT
dX

where the link is one-dimensional and

is the rate of

heat transfer, k is thermal conductivity, A is a cross
sectional area normal to coordinate x, and T is a
temperature.
In the prototype system, a link is modeled as a point
regardless of the length of it. This is similar to the case
that a body is modeled as a particle. Nodes have a fixed
heat capacity. It is independent of the visual size of the
node. Therefore the heat flux is proportional to the
difference of temperatures between both ends. Heat
dissipation is a function of only the temperature of the
node because the link is modeled as a point and the
atmosphere temperature is assumed to zero while heat
dissipation i s usually a function of the surface area of a
node.
Hence the temperature of node i , T , is formulated

3. Heat conduction model

by
In the proposed heat conduction model, a focus node is
given a virtual temperature. The focus node is a heat
source. It influences the temperatures of links and other
nodes. Their temperatures then determine the forces
between the nodes. The temperatures also can be visually
represented by the attributes such as the size of the node.
Heat transfers through links and may dissipate at nodes
in the heat conduction model. For simplicity, let us
assume that the links are insulated except their ends. In
other words, the links do not dissipate heat. A positive
focus node has a higher temperature than the atmosphere
temperature. The relaxed (unforced) length of a link is
determined by the thermal expansion coefficient and the
temperatures of nodes at both ends, or an average
temperature.
Thermal conductivity and the heat

where C, is a set of neighbors of node i , p is a
conduction coefficient of heat and y is a heat
dissipation coefficient.
The equations of motion of node i is formulated by
r

1

where x , is a coordinate of node i , m, is mass of the
node.

278

N is the total number of nodes, k is an elastic

modulus, R is a coefficient of repulsive force, and p
is a damping coefficient.
L,,, is the relaxed length of a link between node i
and j . It is a function of temperatures of the nodes. In
the prototype system, it is an average of temperatures at
both ends, that is, it is expressed by

L,,, = L(ltp?-]
where L is a base length, p is a thermal expansion
Coefficient.
The temperatures of nodes do not depend on the
positions of them if only heat conduction model is used.
Therefore virtual temperatures can be computed before
the force-directed layout is calculated.
Unless heat dissipates at nodes, temperatures of all
nodes are the same in a stable state. Relaxed lengths of
all links are the same when the heat dissipation coefficient
is zero and the thermal expansion coefficients are dl the
same. In that case, the Ipesult layout is the Same as a
force-directed layout without a focus as shown in Figure
2. The volume of a node depends on its temperature in
screenshots of this paper.
If the heat dissipation coefficient is not zero, the
temperatures of nodes are different in general. If the
ratio of thermal conductivity to dissipation coefficient is
low, the difference of the temperatures of linked nodes is
large. By using this model, the surroundings of a focus
are enlarged. Being far from the focus, nodes are
positioned densely. In other words, interesting parts can
be viewed in detail. Figure 3 shows an example.
Multiple foci can be easily placed in this model
because we can give a virtual temperature to any node.
Using multiple foci, a part of a graph related to multiple
foci is more enlarged than a part that is related to only one
focus. Figure 4 show a screenshot having two positive
foci. For example, compare Figure 4 with Figure 3. The
relationships in the lower left part of Figure 4 is clearer
than Figure 3 while the right part of Figure 4 is almost the
same as Figure 3. Multiple foci can make the
relationships among nodes clearer.
Furthermore, the proposed model enables us to place a
negative focus on a node. A part around the negative
focus is shrunk. A negative focus node has a lower
temperature than the atmosphere temperature.
By
utilizing negative foci in addition to positive foci,
uninteresting parts that are near to positive foci are
de-emphasized as shown in Figure 5. For instance, when
similarities of Web documents are expressed as a graph,
this feature helps a user to find an appropriate Web
document that is related to a number of interesting and
uninteresting concepts and documents.

Figure 2: A network structure in 2D without heat
dissipation, or virtually without a focus (number of
nodes=loo, number of links=lo5).

n
Figure 3: A network structure in 2D with one positive
focus (number of nodes=100, number of links=l05).
The node in center is the focus. The node is a little
bit darker in monochrome display (it is reddish on a
color display). Its coordinates are indicated by
hollow triangles.

279

4. Thermal radiation model
In the thermal radiation model, heat energy radiates
from a source. Radiant heat determines the temperature
of a node. Let us assume that a heat source radiates heat
energy such as a spotlight and the temperature of the node
is determined by the relationship between the position of
a node and the direction of the spotlight. Figure 6 shows
the thermal radiation model.
Radiant heat from a viewpoint to a mouse pointer can
have the effect of enlarging the part near the mouse
pointer. Using this type of radiant heat, we do not need
to specify a focus node by clicking it. We need only to
move the mouse. Travel of the mouse pointer moves the
enlarged part. This enables us to navigate in a graph
dynamically.
In the current prototype system. the OpenGL model of
the spotlight[2O] is used. In the model. we can specify
some parameters such as the angle of radiation as
measured from the direction of radiation and the
coefficients of attenuation.
The temperature of a node is determined by the
position of its center fbr simplicity. The temperature is
independent of the size of the node and the heat-received
area on the node. The occlusion of thermal radiation by
front nodes is not considered in the calculation of the
temperature.

A
Figure 4: A network structure in 2D with two positive
foci (number of nodes=100, number of links=l05).
T h e n o d e s in center a n d upper-left are t h e positive
foci. T h e focus n o d e s are a little bit darker in
monochrome display. Their coordinates a r e
indicated by hollow a n d solid triangles.

W N o d e
Figure 6: Thermal Radiation Model

Figure 7 sho\vs a screenshot in which a vicivpoint
radiates heat towards a mouse pointer such as a spotlight
beam. As the distance of a node from the spotlight is
large or as the deviation of it from the direction of
radiation is large. the temperature of the node by radiation
is lo\\. The areas on nodes that receive radiant heat are
lit by a yellon spotlizht. (The areas are a little bit brighter
on monochrome display.) This example uses both
thermal radiation and heat conduction. In this example.
the temperature of a node that receives radiant heat is the

A
Figure 5: A network structure in 2D with o n e positive
focus a n d o n e negative focus (number of
nodes=100, number of links=l05). T h e n o d e in
center is t h e positive focus (indicated by hollow
triangles). T h e n o d e in upper-left is t h e negative
focus (The negative n o d e is blue on a color display
a n d indicated by solid triangles). They are t h e
same n o d e s as t h e positive n o d e s in Figure 4.

280

maximum value of the temperature by radiant heat and
the temperature of heat conduction. The temperature of
a node is not lower than the temperature by radiant heat.

5. Prototype system
A prototype graph browser has been developed using
the Java programming language[9] and Java3D class
library[21]. It can visualize a graph interactively in a 2D
or 3D view. A screenshot of a 3D view is shown in Figure
8. In a 3D view, gravity can also be applied as shown in
Figure 9. The use of gravity is similar to magnetic forces
in [22]. It can give a cone tree-like visualization[ 181.
A user can specify the view position using mouse
operations. A user can also control parameters of physical
simulation by, for example, giving a temperature to a
focus node.
Peripheries of a view region (a rectangle in 2D or a
box in 3D) exert repulsive force to nodes. The position
of a node is confined to the view region. If necessary, a
graph can be confined to an arbitrary shape.
The current prototype system solves differential
equations to compute a graph layout and to animate it.
The system computes a layout until it reaches a near
steady state. When a state is changed, for example, a
heat-radiating pointer is moved, the system starts
computing again. This prototype system has not used an
algorithm to reduce crossings of links.
The system has a scalability problem as the same as
other force-directed layout techniques. In a fulture
implementation, the faster O(NlogN) algorithm[2] and the
incremental algorithms[24] will be employed to make the
system more scalable.

Figure 7: Navigation using the thermal radiation
model in a network structure (number of nodes =
100, number of links=l05). The ranges of regions
receiving radiant heat are indicated by ovals outside
screenshots. Both the heat conduction model and
the thermal radiation model are used.

Figure 8: A network structure in 3D with one foc:us
(number of nodes=100, number of links=l05). 1rhe
center node is the positive focus.

28 1

can visualize general graph structures while the fractal
view visualizes tree structures.
As stated in the section of the prototype system, the
proposed technique shares its strengths and weakness
with other force-directed layout techniques. However, it
enables us to place multiple positive and negative foci on
a general graph by utilizing heat models which are
familiar to many people. The proposed technique uses
heat models and adjusts the relaxed length of a spring
depending on its temperature. The author thinks that
many people can interactively control parameters of
visualization and navigation. The proposed thermal
radiation model supports not only graph layout but also
graph navigation through dynamic movement of a
heat-radiating pointer.

7. Future work
Figure 9: A network structure in 3D with one focus
using gravity (number of nodes=100, number of
links=105). The top node is the positive focus.
The position of the top node is fixed.

The author has a plan to develop a practical application
utilizing the proposed technique and then to perform
usability testing using the application. An immersive
virtual reality version of that application will be
implemented as the same as the simple immersive graph
navigation system [17].

6. Related work

8. Summary

The proposed technique is one kind of
distortion-oriented display technique[ 131. Some fisheye
techniques such as [5][ IO][ 12][ 141 have a single focus,
whereas the proposed technique can have multiple foci,
and in that poinr the proposed technique is different from
them. The rubber models[4][19] can have multiple foci.
They distort an arranged map or graph while the proposed
technique performs the arrangement and distortion of a
graph simultaneously.
Generalized fisheye view(81 is a technique to visualize
much hierarchical data effectively. The neighborhood of
a focus is shown. From the viewpoint of the generalized
fisheye view, the proposed heat models are used to
determine the degrees of interest (Dol) of nodes. A
heat-radiating regional focus can be used to give Dol to
multiple foci. The calculation method of Do1 is different
between the proposed models and the generalized fisheye
view. Moreover, the proposed technique is applicable to
both hierarchical structures and general graph structures
whereas the generalized fisheye view technique can be
applicable to hierarchical structures. Furthermore, the
proposed technique supports a static focus by heat
conduction and a dynamic focus by thermal radiation.
Fractal view[l2] uses not only the distance from a
focus but also the number of branches to determine the
Dol of a node. The proposed technique is similar to the
fractal view with regard to that the number of branches
influences visualization, however, the proposed technique

This paper explained a multiple focus browsing
technique with Focus+Context facilities using heat
models. The heat conduction model and the thermal
radiation model are described. The proposed technique
allows us to place not only positive foci but also negative
foci on multiple nodes. The thermal radiation model
also enables us to have a regional focus and to navigate in
a graph by moving a focused region. Since we are
familiar with heat conduction and thermal radiation, we
can interactively control the parameters of heat models
for our purposes. A prototype system for browsing a
graph was developed. It can visualize a general graph
structure interactively in a 2D or 3 D view.

References
[I] Battista, Giuseppe Di, Peter Eades, Roberto Tamassia and
Ioannis G Tollis, Graph Drawing AIgurrthms fur rhe
vrsualrzatrun ofgraph, Prentice Hall, 1999
[2] Bemes, Josh and Piet Hut, "A Hierarchical O(MogN)
Force-calculation Algorithm," Nature, Vol 324, pp 446-449,

Dec 1986
[ 3 ] Card, Stuart K , Jock D Mackinlay, and Ben Shneiderman,
Readings in Information Vlsualrzation - Using Vision Io
Think, Morgan Kaufmann Pub1 , 1999

282

[4] Carpendale, M. Sheelagh T., David J. Cowperthwaite, F.
David Fracchia, "3-Dimensional Pliable Surfaces: For the
Effective Presentation of Visual Information," Proc. of
UlST95, pp.217-226, 1995.
[5] Carriere, Jeromy, Rick Kazman, "Interacting with Huge
Hierarchies: Beyond Cone Trees," Proc. of Information
Visualization,pp.74-8 I , 1995.
[6] Eades, P. "A Heuristic for Graph Drawing," Congressus
Numerantium,Vo1.42, pp. 149-160, 1984.
[7] Fruchterman, T. M. J. and E. M. Reingold, "Graph Drawing
by Force-directed Placement," Sofhvare - Practice and
Experience, Vo1.2 1, No. I I ., pp. 1 129-1 164, 1991.
(81 Furnas, G. W., Generalized Fisheye Views, Proc. ACM
SIGCHI '86 Conference on Human Factors in Computing
Systems, pp.16-32, 1986.
[9] James Gosling, Bill Joy and Guy Steele, The Jmam
Language Specification, Addison-Wesley, 1996.
[IO] Hendley, R. J., N. S. Drew, A. M. Wood & R. Beale,
"Narcissus: Visualizing Information," P roc. of Information
Visualization, 1995, pp.90-96.
[ I l l Kamada T., and S. Kawai, "Algorithms for drawing
general undirected graphs," Information Processing Letters,
Vol. 31,No. I , pp. 7-15, 1989.
[ 121 Koike, Hideki, "Fractal Views: A Fractal-Based Method for
Controlling Information Display," ACM Trans. on
InformationSystems, Vol. 13, No.3, 1995, pp.305-323.
[13] Leung, Y.K. and M. D. Apperley, "A Review and
Taxonomy of Distortion-Oriented Presentation Techniques,"
ACM Trans. on Computer-Human Interaction, Vol. 1, No.2,
pp.126-150, 1994.
[ 141 Mackinlay, J.D., G. G. Robertson, and Stuart Card, "The
perspective wall: detail and context smoothly integrated,"
Proc. of ACM SIGCHI Conf: on Human Factors in
ComputingSystems, pp.173-179, 1991.

[15] Munzner, Tamara, "H3: Laying Out Large Directed Graphs
in 3D Hyperbolic Space," Proc. of 1997 IEEE Symp. on
Information Visualization,pp.2-IO, 1997.
[ 161 Osawa, Noritaka, "A Multiple-Focus Visualization
Technique Using Heat Models and Force-Directed Layout,"
Late Breaking Hot Topics at IEEE Symposium on
Information Visualization (InfoVisP9), pp.27-30, 1999.
[I71 Osawa, N., Kikuo Asai, and Yuji Y. Sugimoto, "lmmersive
Graph Navigation Using Direct Manipulation and Gestures,"
Symposium on Virtual Reality Software & Technology 2000
(VRST 2000), pp. 147-152,2000.
[IS] Robertson, George, Jock Mackinlay, and Stuart Card,
"Cone Trees: Animated 3D Visualizations of Hierarchical
Information," Proc. of ACM SIGCHI Conf: on Human
Factors in Computing Systems, pp. 189-194, 1991.
[19] Sarkar, Manojit, Scott S. Snibbe, Oren J. Tversky, and
Steven P. Reiss, "Stretching the Rubber Sheet: A Metaphor
for Viewing Large Layouts on Small Screens," Proc. of
UlST93, 1993, pp.81-91.
[20] Shreiner, Dave (Editor), OpenGL Reference Manual: The
Oflcial Reference Document to OpenCL. Version 1.2,
Addison-Wesley, 1999.
[21] Sowizral, Henry, Kevin Rushforth and Michael Deering,
The Java 3 0 API Speclfjcation, Addison Wesley, 1998.
[22] Sugiyama, Kozo and Kazuo Misue, "A Simple and Unified
Method for Drawing Graphs: Magnetic-Spring Algorithm,"
Proc of Graph Drawing'94, pp.364-375, 1994.
[23] Sarkar, Manojit and Marc H. Brown, "Graphical fisheye
views," Comm. of the ACM, Vo1.37, No.12, pp.73-83, 1994.
[24] Wills, Graham J., "Nicheworks: Interactive Visualization of
Very Large Graphs," Proc. of Graph Drawing '97,
pp.403-414, 1997.

283

