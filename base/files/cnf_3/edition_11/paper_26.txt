A Design Tool for the Hierarchical Hair Model
Tao Wang
and
Xue Dong Yang
Department of Computer Science, University of Regina
Regina, Saskatchewan S4S OA2 Canada
(twang, yang} @cs.uregina.ca

itives t o be handled, which not only consumes very
large amount of storage space, but also has the associated high rendering costs. Furthermore, the problem
of hair styling with explicit hair models was regarded
as a formidable topic for the same reason [5].
Perlin and Hoffert [7] used a volume density model,
called hypertexture, t o create the soft fur-like object
with strikingly natural looking. Kajiya and Kay [4] introduced the texel model, which is a generalization of
3D texture and has generated impressive Teddy bear
images. While the texel is suitable for short straight
hairs, the hypertexture can produce waving fur through
turbulence functions. Yang et al. [ll]proposed a hierarchical hair model, extended from the cluster model
([9]). The hierarchical model is based on the consideration that the model should have more than one level of
abstraction: the group level, the cluster level, and individual hair level. A group is composed of several clusters with similar shapes, and a cluster contains many
individual hairs. By using the hierarchical hair model,
the efficiency of styling is significantly improved, particularly in designing complex hair styles.
Some efforts have been made in constructing hair
styling systems, most of which are based on explicit
models. When volume models were primarily used for
fur or short hair in earlier days, there was no urgent
need for sophisticated design tools.
Watanabe and Suenaga [8] developed a hair modeling tool, based on their trigonal prism model. The tool
provides a set of parameters such as thickness, length,
randomness, and color that can be specified interactively. However, the parameters can only be applied
globally, thus affecting all hairs. The system lacks the
flexibility for editing individual wisps. An interactive
technique for modeling fur, but not for long human
hair, is presented by Gelder [3]. In this system, the
user selects a variety of parameters t o achieve the desired fur appearance for a particular kind of animal.
Daldegan et al. [2] proposed a complete methodology and integrated system for hair modeling, called

A b s t r a c t Modeling, designing and rendering realistic hum a n hair is one of the most challenging topics in computer graphics. The dificulty mainly comes f r o m the large
amount of hair, the f i n e shapes of the individual hairs, and
the complex illuminating interactions among hairs and surrounding objects. I n this paper, a n enhanced interactive
hair styling system - V-Hairstudio, based o n our previous
work, is developed to design complex hair styles represented
by a hierarchical hair model. This design tool provides a
rich set of functionalities with multiple levels of abstraction. Due t o the hierarchical representation, complex hair
styles can be handled with reduced design efforts.

Iieywords: Hair Modeling, Hair Style Design, Interactive
Design System, Hierarchical Model

1

Introduction
Modeling and rendering human hair is a very com-

plex and difficult issue. The difficulties of hair modeling mainly come from the large amount of hair to
be modeled, the finely detailed shapes of the individual hairs, and the complex illuminating interactions
among hairs and surrounding objects. Existing hair
models can be broadly classified into two categories:
(1) explicit geometric models and (2) volume density
models. The hierarchical model [ll]falls into the second category.
A number of geometric models have been used t o
model animal fur or human hair, for examples, the
early pyramid mode formed from triangles proposed
by Miller [6], the curved cylinders, approximated as
a sequence of straight cylindrical segments used by
LeBlanc et al. [5], and the trigonal prisms presented by
Watanabe and Suenaga [8]. The main advantage of using explicit hair models is that the rendering power for
geometric surfaces in today’s advanced graphics workstations can be fully used. A main drawback of this
type of technique is the severe aliasing problem. Another drawback is the enormous number of hair prim-

186
0-7695-1195-3/01 $10.00 0 2001 IEEE

The shape of a hair cluster is defined by a generalized cylinder, which contains two components: the axis
curve and the cross-section contour shape. Within the
generalized cylinder, a base density m a p defines the d i e
tribution of individual hairs on the cross-sections along
the axis curve. In addition, hair color and light p r o p
erties are specified for the hair display. T h e system has
nine main modules:

HairStyler. A scalp surface is represented by a set of
triangular patches. A single representative hair can be
specified for each patch. All other hairs are generated
automatically by duplicating the representative hair on
a patch with slightly varied length, orientation and can
be further edited interactively. Another hair style editing tool (HET) is based on the wisp model (Chen et al.
[1]. With this tool, users can edit the 3D positions and
orientations of the wisps in three windows. A viewing
window allows the preview of the design.
Based on the concept of multiple levels of abstraction, the hierarchical model provides a novel basis for
interactive design of complex hair styles. Yang and
Xu [lo] have developed a design system for the cluster
hair model ([9]). This system has been enhanced with
many new functionalities, mainly a t the new group
level, based on the hierarchical model.
In general, a complex hair style can be decomposed
into several large groups, and the groups define the
global shapes. Furthermore, one large group is composed of several small clusters. Usually, these clusters are close to each other and possess similar shapes.
These clusters may intertwine with each other, and the
shapes of clusters within a group may have variations.
A generalized cylinder is used to specify the envelop
shape of a hair cluster. Within each cluster, the detailed geometries and distribution of hairs can be described at the lowest level, i.e. the individual hair level.
Readers may refer to [9, 111 for more details.
Because the implicitly defined density function supplies the geometric properties of individual hair, explicit geometric representation of hair is avoided, thus
making the hierarchical hair model very compact. Furthermore, the nature of the multiple levels of abstraction provides the capability of interactive design for
sophisticated hair styles.
This paper describes the enhanced modeling system
based on the hierarchical hair model. A brief overview
of the hierarchical model is presented in Section 2. Section 3 describes the hair group design. Section 4 gives
the preview of hair and head models. The implementation issues along with the experimental results are
discussed in Section 5. Section 6 summarizes the contributions of this paper and di:jcusses topics for future
work.

2

0

' 0

Light position, direction and shading editing module;
Head loading, editing and shading specification
module:

0

Group creating and editing module;

0

Cluster axis curve drawing and editing module;

0

Cross-section shape editing module;

0

Base density m a p editing module;

0

Hair color and light property module;
Hair arrangement module;

0

Hair style preview module

The first two modules can render an image from
the head model using GL functions, and produces a Zbuffer used for composition with hair images a t a later
stage. Modules three to seven are used to produce a
set of d a t a for groups and clusters. Combined with
the light and head mesh information provided by the
first two modules, these data are used to generate the
fuzzy shadow buffers and render the hairs. With the
hair arrangement module, the groups and clusters can
be placed on a head model interactively. To observe
the global styling effect, the hair style preview module
displays the whole hair style (including both the hair
and head models) in surface mode.

3

Hair Group Design

Primitive manipulations in 3D space are provided
in V-Hairstudio. For example, the selection, insertion
and translation of control points of axis curves, the
translation, rotation, scaling, duplication and deletion
of clusters and groups, the generation, regrouping, attraction and repulsion of groups, and the translation,
rotatmion,scaling and centralization of the head model.
The system supports two viewing modes: the perspective view, and the three orthogonal projection
views from x, y and z axes respectively. These
two modes can be used simultaneously t o display the

Overview of the V-Hairstudio System

In V-Hairstudio, hair groups and clusters can be
created, edited and arranged 011 a head model interactively. Figure 1 illustrates the structure of the system.

187

I

1

--------

direction &
shading editing

7
Head loading,
editing & shadink------specification

editing
(attracting,
repulsing,
regrouping)
Cluster axis
curve creating
editing

Light

Head
mesh

- ---7-

__
II II

I

Hair
arranging
on head

---c

-

I+

Head image
with
Z-buffer
values

Fuzzy
shadow

with shadow

Final
image
-b

&

t
Cluster crosssection shape

1

Base density
map editing

1

Hair color &
light property
snecification

t

- - - - - - --

Modeling Part
(V-Hairstudio)

Rendering Part

Figure 1. Architecture of the system
model. Any operation performed in either the perspective view window or one of the orthogonal view windows will update the display in all other windows a t
the same time (Figure 2).
Manipulating hairs directly in the 3D perspect,ive
view is made intuitive and easy. For example, a designer can quickly move the cursor to a rough location. However, sometmimesit may be difficult to precisely position the cursor t o a desired location. In this
situation, the three orthogonal view windows are very
useful. Accurate manipulations can then be performed
much more effectively in the orthogonal views.
In this paper, we focus on the enhanced functionalities, primarily a t the group level, based on the hierarchical model.

control panel, the number of clusters to be generated
around the base curve is specified. As a result, the
base curve, together with its surrounding curves, forms
a group. Usually, one t,o 10 clusters constitute one
group. When a group is generated, t,he control p0int.s
of the base curve are used as references for the generated curves. The control points of the other curves are
dist,ributed around the corresponding control points of
t,he base curve. For example, all the third vertices of
the generated curves is within the sphere whose center
is the third vertex of the base curve. In other words,
this sphere determines the distribution range of the
vertices of the surrounding curves in the same group.
The radius of the sphere is determined by the hair style
being designed. Moreover, the distribution of the vertices can not be completely random within the sphere;
otherwise, the curves generated will be either tangled
together, or too far away from each other, thus giving
the group a very unnatural appearance (Illustrated in
Figure 3( b ) ) .

3.1 Generation of the group
In the hierarchical model, a group is composed of
a set of similar clusters. In V-Hairstudio, in order to
generate a group of clusters, one curve is first created
as the base curve by the user (3(b)), and then in the

To regulate the distribution of vertices of the sur-

188

coe fi,j,zIyIz is used to manipulate the distance between
vertices a t different positions along the curve. It is related to distance between the scalp and the vertices.
Assuming m control points for a curve, j varies from
0 to m - 1, corresponding to the root and tip of a
hair cluster. By varying coe fi,j,z/ylz,
the group size
may expand or shrink along the hair length. For example, increasing coe fi,.f,xlylz will create a spreading
hair group. For this kind of hair style, the smaller the
value of coe fi>j,,l,/, is, the closer the vertices are to the
scalp, and therefore the closer t,he vertices are to each
other. This observation also conforms to our real life
experience. On the other hand, a pony tail group will
require increasing the value of coe fi,j,zlylzin the first
half and decreasing its value in the second half. The
choice of coefi,j,zlylzis determined by the hair styles
to be created.
The third term in the above formula represents the

Figure 2. Perspective and orthogonal windows

urally within the sphere, the coordinates ot the J t h
vertex on the ith generated curve can be specified as
follows:

Figure 4. (a) Group of naturally generated
clusters
(b) Group after modification

+

xi,j = xbase signi * coe fi,j,, * u
+sign,,,d * perturbation,
Y i > j= Ybase
signi * coefi,j,y * U
+signTa,d * perturbation,

I

+
Z i 7 j = %base + sign; t coe fi,j,, *
+signTa,d

3.2 Operations on the group

(l)

U

* perturbation,

After a group is generated, it can be refined using
many functions provided by our hair styling tool.

The second term in each formula, i.e., signi *
coe fi,j,xly/z
* U , is used to make the distribution more
regularly. signi is either 1 or -1, and it is used to
balance the number of vertices of the generated curves
around the corresponding vert8icesof the base curve.

Regrouping
A curve can be added t o a group by first choosing the
desired curve as the current curve, and then the de-

189

sired group as the current group. After choosing “Add
cluster to a group” from the submenu, the current
curve is included in the current group. If the current
curve belongs t o another group previously, it can not
join the current group directly. Instead, the designer
has to choose “Detach cluster from a group” to separate the required curve from its previous group before
adding this curve t o the the desired group. This can
prevent the user from accidentally changing the subordinate cluster within a group.

relationship between hair clusters, and the fitness between hair clusters and head model. Rotation, translation, zoom in or out help the designer t o inspect the
hair styles at different distances and from arbitrary
view angles. Further modifications can be applied repeatedly t o any part of the hair and head models until
a satisfactory result is achieved. Figure 5(a) shows the
axis curves of hair clusters on a mesh formatted head
model, and Figure 5(b) illustrates the surface preview
of the same hair style.

Attracteon and repulszon
Attraction and repulsion functions are also offered t o
change the shape of the clusters at the group level. It
is observed that after a group is generated, the shape
and mutual relationship of the clusters in the group
may not be very satisfactory, and may need t o be further refined. Consequently, attraction and repulsion
between the clusters are provided in V-Hairstudio t o
manipulate the curves. When “Attract in 3D” is chosen from the submenu, the mouse cursor is regarded
as the center of attraction and all the vertices of the
curves in the group are attracted towards the cursor
position. The closer the vertex is to the cursor, the
greater the attraction force it receives. As a result, the
vertices nearer to the cursor receive greater attractions
to the cursor. The attraction t o the vertices is gradually reduced when the vertices are farther away from
the cursor. Repulsion works in a similar manner, but
in opposite directions. It is obvious that the force of
either attraction or repulsion is counter proportional
to the distance.

Figure 5. (a) Preview of models in curve and
mesh mode (b) In surface mode

5

The experiments were conducted on a Silicon
Graphics System. The modeling part is developed using C and G L . In the hair designing process, hardware displaying and rendering functions are fully utilized for highly interactive manipulation. The hair
rendering part is implemented in C without using the
the graphics hardware. The rendering technique is a
projected-based sweeping algorithm based on the hierarchical hair model. Parallel techniques can be applied
to accelerate the process of the hair rendering.
Figure 6 and Figure 7 show two examples of hair
styles modeled using V-Hairstudio respectively.

Group translation and rotation

Translation and rotation operations are also provided
a t the group level. The group can be treated as a whole,
and can be moved or rotated along or around the x-, y-,
or z-axis individually. The group can also be duplicated
or deleted. For a more precise manipulation of the
group, the vertices and curves in the group can also be
edited individually. Figure 4(b) shows the result after
various manipulations are performed at the group and
cluster levels.

4

Implementation and Results

6

Summary and Future Work

This paper presents an interactive hair modeling system, called V-Hairstudio. Developed based on the hierarchical hair model, the system utilizes the concept of
multi-level abstractions. For the purpose of designing
complex hair styles, V-Hairstudio provides a rich set
of functionalities for creating and manipulating hair
groups and clusters. At the group level, operations,
such as regrouping, group attraction and repulsion, are
provided for efficient manipulation. With the preview

Preview of hair and head models

The shape preview mode can be turned on a t any
time during the design process. The hair clusters
are displayed in surface mode together with the head
model. The designer can clearly observe the spatial

190

lection and n~anipulationof the group or cluster. We
also consider to pre-create a collection of different hair
styles. Instead of creating a hair style from scratch
every time, a pre-created style can be selected and instantiated as an initial shape. Further modifications
and refinements can be performed based on the initial
shape. This may simplify the design process significantly. Each pre-created style may also have a number
of parameters that allows variations to be controlled
by designers during the instantiation.

Acknowledgments
This research is supported in part by an NSERC
Research Grant of Canada.
References

Figure 6. A wavy hair style

[l] L. Chen, S. Saeyor, H. Dohi and M. Ishizuka, 1999,
“A System of 3D Hair Style Synthesis Based on
the Wisp Model”, The b’iszial Computer, 15(4), pp.
159-170.
[2] A. Daldegan, T. Kurihara, N. Thalmann and D.
‘I’halmann, 1993, L‘.LznIntegrated Syst,em for Modeling, Animating and R.endering Hair”, Proc. Eu-

Figure 7. A hair style

rogrnphics ’93, Com.puter Graphics Forum, 12(3),
pp. 211-221.
[3] A . Gelder and J . Wilhelms, May 1997, “An Interactive Fur Modeling Technique”, Proc. of Graphics
Iizterface’l99’?’,pp. 181-188.
[4] .I. Iiajiya and T. Kay, 1989, “Rendering Fur with
Three Dimensional Textures” , Computer Gruphics,
2 3 ( 3 ) , pp. 271-280.
[5] A. LeBlanc, R. Turner and D. Thalmann. 1991.
“Rendering Hair Using Pixel Blending and Shadow
Buffers” J . b’zsualization and Computer Animation, 2(3), pp. 92-97.
[6] G . Miller: 1988, “From Wire-frame to Furry Animals”, Proc. Graphics Interface, pp. 138-146.
[7] E;. Perliii and E. Hoffert, 1989, “Hypertexture”,
Computer Graphics, 23(3), pp. 253-262.
[8] Y. Watanabe, and Y. Suenaga, 1991, “Drawing Human Hair Using the Wisp Model”, The Visual Computer, Vol 7, pp. 97-103.
[9] S.D. Yang, Z. Xu, J . Yang and T. Wang, 2000,
“The Cluster Hair Model” , Graphics Models and
Image Processing, 62(2), pp. 85-103.
[lo] Z. Xu, X.D. Yang, “V-Hairstudio: An Interactive
Tool for Hair Design”, IEEE Computer Graphics
arid Applications, to appear i n May/June 2001.
[ll] X. D. Yang, T. Wang, Z. Xu and Q . Hu, November 2000, “Hierarchical Cluster Hair Model”, Proc.
IASTED, Int. Conf. Computer Graphics and
Imaging, Las Vegas, pp. 75-81.
~

funct~ion.the designing process can be repeat.ed until a
sat,isfact.ory hair st-yle is achieved.
One possible area of the fu1,ure work is to improve
t.he mocleling capabilit,y of t h e hair model. Based on
t.he concept. of the multi-level :i.bst,raction,the clusters
may be defined recurswelyat. mriltiple levels (more t,han
t,hree). The number of levels can be adjusted according
to t.he style complexity. In general, t,wo or three levels
a.re sufficient t.o design a hair :st.yle. However, when a
hair style beconies very complex (such as very dense,
curly, fine and intert,wined hairs), more than three levels may be defined for further .interactive styling operations. In other words, the hair can be manipulated
conveniently at each level. As .a result, the complexity
of hair st,yles may increase with significantly reduced
design efforts.
For future improvements, the interface of the design
tool may be refined to provide simpler and easier se-

191

