Map Warping for the Annotation of Metro Maps
∗
¨
Joachim Bottger

Ulrik Brandes†

Oliver Deussen‡

Hendrik Ziezold§

University of Konstanz, Germany

Figure 1: Geographic map of the Washington Metropolitan Area with positions of metro network stations superimposed (left). A metro map layout
of the same area optimized for readability (middle). In our compound map (right), the metro map is annotated with the warped geographic map.

A BSTRACT
We augment schematic maps of transportation systems by superimposing them on street-level maps that are ﬁtted using image warping techniques. While schematic maps are successful in conveying
information about lines and connections in a public transportation
network, they usually contain little or no detail describing the environment of stations or their embedding in the surrounding area.
The annotation of a distorted city map therefore alleviates this deﬁciency and improves further the usability of schematic transportation maps by merging two different navigational spaces. Our technique for ﬁtting the street map to the schematic map is based on
moving least squares in combination with an overlap control technique. We thus obtain an easily readable transportation network
map on which we can show all the typical city map features such as
rivers, streets, and parks without compromising on the schematization. Furthermore, for the interactive exploration we couple zooming with warping and control over the level of detail in what we call
Warping Zoom.
Index Terms:
H.5.2 [Information Interfaces and Presentation]: User Interfaces—Graphical User Interfaces, Interaction
Styles; I.3.6 [Computer Graphics]: Information Interfaces and
Presentation—User Interfaces
1

I NTRODUCTION

When people use a city’s public transportation system, they are
faced with a seemingly simple task: They start at one point somewhere in the city, want to get to a nearby station, look for the best
connection to another station close to where they want to go, and
ﬁnally want to reach that destination itself. Usually people use two
maps to accomplish that task: On the one hand, an ordinary street∗ e-mail:

Joachim.Boettger@uni-konstanz.de
† e-mail: Ulrik.Brandes@uni-konstanz.de
‡ e-mail: Oliver.Deussen@uni-konstanz.de
§ e-mail: Hendrik.Ziezold@uni-konstanz.de

IEEE Pacific Visualisation Symposium 2008
4 - 7 March, Kyoto, Japan
978-1-4244-1966-1/08/$25.00 ©2008 IEEE

level city map, and on the other, a schematic map of the system of
public transportation in the area.
The reason for that is, that both of these representations of our
world have their advantages and disadvantages: The ordinary map
is very well suited for gaining detailed information down to every single street, but for several reasons struggles to give a fast
overview over the network of public transportation, even if that network is included in the map. A schematic map, on the other hand,
is optimized for the readability of information concerning the connections and structure of the transportation network. However, it
seldom shows the different stations in their surroundings and fails
to deliver the needed contextual information for the task mentioned
above.
In this paper, we describe a method to produce a compound map
containing both, network and detailed street information, by warping the street map information to ﬁt a schematized map of a public
transportation network. For that warp, we use a mapping from the
ﬁeld of image distortion, which is especially well suited for geographical information. We also introduce a Warping Zoom which
yields in a dynamic interactive map applicable for both, street-level
navigation as well as navigation in the public transportation system.
The remainder of this paper is organized as follows: To put our
work in context, in the next section we describe the properties of
metro maps as well as of street-level maps. In Section 3 we introduce the basis of our method of augmenting the highly schematized
metro maps with warped street-level maps. Our implementation of
the method is described in Section 4. In Section 5 we present examples of the resulting technique. The paper ends with a conclusion
and discussion of the results.
2

C ONTEXT

We here concentrate on features of two different types of maps that
serve as navigational aids in metropolitan areas. While maps of
public transportation systems are designed to effectively and efﬁciently convey possible itineraries, street-level maps usually serve
to convey relative positions and distances of a wealth of locations.
These very different purposes have led to likewise differences in the
design of such maps.
Maps are basically characterized by representing relations between locations. With this seemingly simple deﬁnition, we can eas-

199

ily distinguish the main characteristics between the two types of
maps considered here.
2.1

Street Level Maps

One goal of detailed street maps is to minimize distortion, which
means showing the real world in a way which is geometrically similar to what we would see from a vantage point high above a city.
Accordingly, street intersections have the same angles like in reality, and features like parks and rivers have the same distinct shapes
they have in the real world. This makes it easy to mentally put ourselves on the map and to autonomously navigate through the city,
since we can use the shapes to ﬁnd out where we are.
Although annotations are usually disproportionate (e.g., real
streets are often narrower than they are shown on a map), distances
and angles between geographic features are not. The spatial relations represented in a street-level map are thus on an interval scale.
The street-level maps contain a lot more information than only
the network of streets, such as landmarks, public facilities and many
other aspects of the surrounding environment. By representing geographical information in addition with this very high level of detail
the street-level maps show a large variety of relations between locations. This abundance of detail is necessary, since a city map is
used for many different tasks, most of which require navigational
decisions on a much smaller scale than the decisions that have to be
made while traveling in a public transportation network.
2.2

Metro Maps

Schematic transportation maps are designed to clearly show the
navigational information of the transportation system on a preferably small map. The pioneer of schematic public transportation
maps, Harry Beck, conceived his well-known Tube Map of London – which is considered a design landmark and forms the basis for schematic public transportation maps today – in 1931 [1].
To achieve an expedient representation of the underground map he
found it was necessary to make the central area appear larger, since
the stations were closely crowded there. Drawing a map of the
whole area in a limited space mapped the stations in the center too
close to each other to leave space to make their connections distinguishable. Beck imagined he was using a convex lens to ensure
readability in the center and in the periphery at the same time. He
formulated the general design principle for metro maps to place
all the stations at equal distances, although their geographical distances are very different. This also reﬂects the fact that the travelling time of a metro is approximately independent from the distance
of the stations in the real world, since it takes a train a relatively
long time to drop off and pick up passengers, and to accelerate and
decelerate.
Another typical schematization requirement for metro maps is
straightening the route lines by placing the stations of a line on
straight lines, if possible. The overall shape is further simpliﬁed by
restricting the positions of the stations to be only at a few discrete
angles relative to each other, which, for example, leads to route
lines only being mapped to verticals, horizontals or diagonals. This
makes it easy to mentally connect stations belonging to the same
line.
The resulting metro maps avoid intersections with small angles,
and are generally easily and intuitively readable. The automatic
layout of metro maps has recently grown into an active ﬁeld of research [2, 4, 7]. However, most of the metro maps in use are still
manually fabricated by designers, who tweak the maps until they
look just right, and do not always strictly adhere to the aforementioned design principles. We use manually fabricated layouts as
input for our method. One argument for the use of existing manually fabricated layouts is, that the inhabitants of a city are already
familiar with them. We assume, that over time people have adapted
their mental map of the whole city to these layouts. Subsequently

200

adapting to a different layout imposes mental strain on them. Nevertheless, our method works with automatically generated metro
maps as well.
For ﬁnding a way from one station to another station within a
public transportation system the user only requires an overview of
the relations between the stations concerning connectivity. Therefore, the type of relations represented in a schematic map of a transportation system is very different from that of a street-level map,
because the easy perception of the existence of services and connections takes precedence over geographic accuracy. Spatial relations
are preserved on an ordinal scale, if at all.
To analyze these changes, Jenny [3] used MapAnalyst, a tool
originally developed for the visualization of geographical errors in
historical maps. He annotates the schematic map with visual hints
to aid the understanding of the implied distortion. Applying this
to the London tube map, Jenny observes the typical features of
schematic transportation map layouts. For example, in his scale
isoline visualization, the ﬁsheye character of that map is clearly noticeable.
Today, many schematized metro maps contain no detailed information other than the stations and their connections, but rather
restrict themselves to describing the navigational space of using the
transportation system as well as possible. Evidently, such maps are
strongly specialized, since there is no reliable possibility of reading
out any geographical accurate information about the transportation
system or its surroundings.
2.3

Combination

Many city guides contain street-level maps that are annotated with
the stations and lines of the local transportation system. These annotated geographic maps are suitable for many purposes, but since
all advantages of schematization are lost, metropolitan areas around
the world rely on schematized maps of their transportation systems.
One approach for combining schematic transportation maps with
street level information are Spider Maps1,2 , which are transfer
guides for metropolitan areas. A Spider Map is a schematic transportation map that centers on one station and displays the local area
surrounding the station as a geographic street map, aiding the user
while changing bus and metro lines. However, this makes it necessary to adjust the schematic layout for providing display space
for the station of interest and its surrounding streets. Additionally,
starting at an arbitrary point in the city and having to chose one of
the nearby stations to walk to, a street network map centering this
speciﬁc starting point is more useful than a street map centering on
one station.
To alleviate the above mentioned disadvantages, we propose to
annotate schematic maps with all the information usually incorporated into city maps without modifying their design, which is the
opposite approach to the annotated geographic maps.
Designers sometimes include real world items such as coast lines
of the sea or large rivers, but apart from that, most of the features
of the real world are not shown, partly because their placement in
the schematic map is not trivial. Due to the lack of distance relations in the schematic map the expedient positioning of street-level
details requires an extrapolation of the deformations caused by the
schematization.
The essential feature both types of maps have in common is
that they contain position indicators for station locations. Since
schematic maps are designed to preserve relative positions of stations, it seems natural to use them for aligning the street-level map
with the schematic map.
1 sfcityscape.com/maps/spider.html
2 tfl.gov.uk/tfl/gettingaround/maps/buses

3

M ETHOD

The basic idea of our method is to use the positions of the stations
in both of these maps to merge them in one compound depiction by
warping the street-level map to ﬁt the schematic map. Towards this
end, we use the corresponding pairs of positions as control points in
a warping technique from the ﬁeld of image warping. The positions
in the detailed map serve as starting positions, and the positions in
the schematic map as end positions for this warp. This yields a
mapping function which, when applied to the geographically correct map, shifts the stations to their positions in the metro map, and
distributes all the other features of the real world smoothly between
them. We then use this warped map to augment the schematic metro
map, in order to support navigation and orientation in the parts of
the real world between the metro stations.
3.1

lv (x) = (x − p∗ )

pˆi
1
wi
μs ∑
−
pˆi ⊥
i

p∗ =

∑i wi pi
∑i w i

(4)

q∗ =

∑i wi qi
∑i wi

(5)

3.1.2 Overlap Control
Tiddeman et al. describe a general method to avoid overlap problems. One key observation of the method is, that for any given mapping function, another mapping function can be derived by scaling
the mapping, i.e. interpolating it with the identical transformation.
Such a scaling operation with a scaling factor s yields, for our case,
the following mapping function:
ls (v, s) = (1 − s)v + slv (v)

∂ f ∂g
,
∂x ∂x

≈

lv (v) − lv (v + (δ , 0))
δ

(7)

∂ f ∂g
,
∂y ∂y

≈

lv (v) − lv (v + (0, δ ))
δ

(8)

∂ f ∂g ∂ f ∂g
−
∂x ∂y ∂y ∂x

(9)

Here, δ is some small value. For several scaling factors s, with
0 < s < 1, it is guaranteed that the resulting mapping function is
free of overlap. To ﬁnd an optimal scaling factor, it is necessary to
solve the quadratic equation

(1)

i

The method is called a Moving Least Squares minimization, because the weights wi depend on the point v:
1
wi =
|pi − v|2α

(6)

The other key observation of the method is, that overlap occurs
at any point in a given mapping function if the determinant of its
Jacobian changes signs. It is therefore necessary to restrict this determinant J to be at least positive. Since values of J close to 0 mean,
that the mapping at that point compresses the warped information
very strongly, Tiddeman et al. restrict J further by requiring it to be
larger than a minimal value Jmin .
J can be calculated using estimates of the partial derivatives by
mapping two points close to a point v as follows:

J=

∑ wi |lv (pi ) − qi |2 .

(3)

Furthermore, pˆi = pi − p∗ , qˆi = qi − q∗ , μs = ∑i wi pˆi pˆi T , and ⊥
is an operator which maps a vector (x, y) to (−y, x).
We apply these mapping functions for single points individually
to the points in our geographical datasets. A simple example clarifying the resulting overall mapping functions by applying them to a
regular grid can be seen in Figure 2(a). In Figure 2(b), the overlapping parts of the resulting 2D mapping function are clearly visible.

MLS

Given a set of control points p, their position after the warping q,
and an arbitrary single point v, Schaefer et al. solve for the optimal
afﬁne transformation lv that minimizes

qˆi T − qˆi ⊥T + q∗

Here, p∗ and q∗ denote the weighted centroids:

Warping

In order to merge the two maps, we use mappings from the ﬁeld of
image warping. Ruprecht and M¨uller [5] describe different methods used for the distortion of two-dimensional information. All
these methods solve the basic problem of warping: Given twodimensional information and a set of control points in this information, the goal is a mapping function moving these control points
from their starting positions to arbitrary end positions. The mapping function should have several properties for a satisfactory warping: It is supposed to be interpolating, which means that the starting positions of the control points are precisely mapped to their
end positions. Furthermore, the mapping should be smooth, that is,
it should not introduce discontinuities between the control points.
Ideally, the mapping should also be free of overlap. This additional constraint is the main difference between our mappings and
the mappings used for the above mentioned distortion analysis by
MapAnalyst [3].
Triangulation-based methods suffer from foldover and other discontinuities, which are not easily solved. We therefore chose to use
a warping method using scattered data interpolation and producing
smooth and interpolating mapping functions. In addition, we want
to keep angles in the distorted map as similar to the angles in the
real world as possible, since this keeps the shapes of real world
features recognizable.
Schaefer et al. [6] describe a moving least squares algorithm that
interpolates a similarity transformation between the control points.
This way, angles are less distorted compared with only interpolating with general afﬁne transformations. As the authors point out,
the mappings still suffer from overlap. Contrarily to the analysis
and visualization of distortion, for warping geographic information,
it is very important to avoid overlap, since otherwise parts of the
information completely disappear. Thus, we combined the above
mapping method with the overlap control described by Tiddeman
et al. [8] to achieve our mapping functions.
For sake of completeness, we show all the details necessary for
an implementation of our method in this section.
3.1.1

The parameter α controls the decay-proﬁle for the distance, and
should be larger than 1. For our examples, we experimentally chose
it to yield satisfying results, and a typical value was 1.5.
This leads to a different transformation lv (x) for each single point
v. Restricting the allowed transformations to similarity transformations, Schaefer et al. ﬁnd the following optimal mapping functions
for the single points v:

(2)

J=

s

∂f
+1
∂x

s

∂g
∂y

+ 1 − s2

∂ f ∂g
= Jmin
∂y ∂x

(10)

for the Jacobian determinant to be Jmin . Solving a quadratic
equation yields between two and zero roots. Since the Jacobian
determinant is always equal to 1 at s = 0 and only gets smaller than

201

(a)

(b)

(c)

(d)

Figure 2: Undistorted grid (a) with ﬁxed control points at the corners and one control point moving the middle of the grid p to a position outside of
the grid q. The MLS method results in overlap in the 2D mapping function (b). Scaling the mapping yields a mapping function (c) which moves
the control point closer to its destination position. Iterating this process and concatenating the partial mappings results in a mapping function (d)
fulﬁlling the constraints without overlap. Note how the angles at the corner are still right angles after the mapping.

the minimal value Jmin at the roots of the equation, the mapping is
locally free of overlap or strong compression for all scaling factors
larger than 0, but smaller or equal to the smallest root in the interval between 0 and 1. To ensure quick convergence, the method
uses this root as scaling factor. Since the control points should not
overshoot their destination, 1 is used if there is no such root.
It would be necessary to solve the equation for all points in the
mapping function in order to ﬁnd an overall optimal scaling factor.
Since this is not possible, the equation is usually solved at discrete
positions on a regular grid. We solve it for every single point we
map individually. Then, the overall best scaling factor is the minimum of all the locally optimal factors.
Scaling the whole mapping with the derived scaling factor yields
a new mapping, which does not fulﬁll the constraints of the warp,
but already brings the control points some portion of the way closer
to their destinations, as can be seen in Figure 2(c). Iteration of
the process and concatenation of the partial mappings brings the
control points arbitrarily close to their destinations. A drawback
of this method is, that the convergence is not guaranteed for all
cases. Also, choosing Jmin too small leads to unnecessarily strong
compression, while choosing it too big prevents quick convergence.
A typical value we used was 0.5. We found that with this value the
overlap control worked very well for several different examples,
which converged within 5-15 iterations. The result of the iterative
process for our simple example can be seen in Figure 2(d).
4

P ROTOTYPE I MPLEMENTATION

As proof of concept, we implemented a prototypical system that
generates combined schematic and geographic maps.
Schematic maps are the eminent representations of public transportation services and therefore available for most larger cities.
For the geographic information, we use U.S. Census TIGER map
data3 , which contain vector data of detailed street information and
landmarks such as water surfaces, parks, airports and public institutions. An advantage of these vector data is the possibility to
provide good quality of rendered maps over a wide range of resolutions. They also allow to transform the topography independent
from, e.g., textual and symbolic labels to ensure readability. Moreover, these particular data are in the public domain and sufﬁciently
detailed to demonstrate the potential of our approach for actual city
plans. We manually annotated the data with the geographic positions of metro stations, compiling this information from other publicly available sources like GoogleMaps4 . Figure 1 on the ﬁrst page
3 tiger.census.gov
4 maps.google.com

202

shows a geographic map of the Washington Metropolitan Area annotated with the geographically correct positions of the metro stations, the corresponding schematic metro map, and the metro map
annotated with the warped geographic map.
To warp the geographic map, long lines in the original data
are ﬁrst sampled sufﬁciently ﬁne to avoid artifacts when rendering them, and the polygons between them. This is necessary because, although the mapping functions described earlier are smooth,
straight lines are mapped to curves. Note that mapping only the start
and end of a line, and connecting these in the warped image again
by a straight line, does not yield the desired result of smoothly deformed curves in general. After subdivision, we evaluate the mapping function for every point of the geographic vector data as described in Section 3. We neither use a grid with ﬁxed cell size nor
rasterize our data beforehand, like it is usually done in the process
of applying image warping functions. The calculation of the mappings itself is time-intensive; our examples took around 1 hour to
process on an ordinary desktop computer. However, the mapping
has only to be calculated and saved once for every set of control
points. To preserve quality, we render the distorted street-level data
consisting of lines and polygons after the warp using OpenGL and
GLUT, reaching interactive frame rates. In the end, the metro stations, which were manually drawn into the street-level map, have
the same positions as the stations in the schematic metro map. We
thus obtain a compound map showing topological and topographic
information – the schematic metro map annotated with the distorted
geographic map.
4.1 Gradual Distortion
A particularly nice feature of our warping approach is that it allows
to interpolate the mapping between exact geography and schematization. Placing stations in a convex combination of their geographic
positions and their positions in the schematized map yields a compromise between geography and schematization. This compromise
can be extended to the entire compound map by linearly interpolating between the geographic map and its distortion based on the
schematic map.
We will sketch an important application of this feature in the next
section.
5 E XAMPLES AND U SE C ASES
The main purpose of our work is to ease the transition between
schematic maps, which are useful for navigating in a transportation system, and geographic maps, which are better suited for autonomous navigation and locating sites.
We can envision three different use cases for our method: Firstly,
on large, static depictions, like wall maps at metro stations, it would

Figure 3: Geographic maps of Washington (top left) and Boston (bottom left). On the right, the maps are ﬁtted to the respective schematic metro
maps. Note that it is now possible to discern details in the cities’ centers, which are not visible on the left, due to the ﬁsheye-like character of the
implied mapping functions.

203

be possible to show more detail where it is needed compared with
an ordinary map.
Secondly, with limited space, a static overview over the compound map yields annotation of the schematic map with a focus
on large streets and landmarks, but can still aid rough orientation
in the city. These two cases already make it obvious that level of
detail needs to be addressed.
The most interesting use case is the interactive application of our
method for small displays, like PDAs. Here, our method can really
demonstrate the advantages of linking the two navigational spaces,
as we will describe in Section 5.2.
As mentioned earlier, we require as input a street-level map of an
arbitrary city annotated with the stations of its transportation system
and a schematic transportation map of the respective city. We applied our method to maps of the Washington and the Boston area.
We chose these two cities because they contain typical features like
airports, lakes, rivers, coastlines, islands, harbors, parks as well as
a fairly complex transportation system with nontrivial graph structure. Exemplarily we present geographic and compound maps of
the transportation systems of the cities in Figure 3. In the Boston
case, the center of the area is greatly magniﬁed compared to the
surrounding area, similar to a ﬁsheye lens. This effect is even more
clearly visible in the compound map of the Washington map. The
mapping functions manage to keep the areas close to the stations
relatively undistorted, while areas between the stations are more
strongly stretched.
5.1

Level of Detail

Addressing level of detail turned out to be an important issue for our
technique. Since showing all the small details on a limited space
can lead to indistinguishable visual clutter, it was necessary to consider the local magniﬁcation and compression for the depiction of
the different features of the geographic map. During the iterative
mapping, we calculated for each point an estimation of the partial
derivatives at that point for overlap control. We can use these estimations for level-of-detail control as well, since the determinant of
the Jacobian yields the local area magniﬁcation, and its condition
number is proportional to the local compression.
We found it helpful to modify the thickness of linear features
like streets directly proportional to the local magniﬁcation, and indirectly proportional to the compression. This way, the density of
features is evenly distributed over the whole depiction.
5.2

Interactive Warping Zoom

For the task of street-level navigation, the typically small map size
of schematic metro maps is inapplicable. In order to read the navigational information of the street level, the annotated metro map
needs to be enlarged to the size of a regular street-level map or the
compound map needs to be enhanced by an interactive zooming
technique.
The enlargement of the compound map contradicts the main advantage of schematic maps, which is to give a quick overview over
the transportation system on a preferably small map. So we chose
to implement a zooming technique, which couples scaling of the
viewport with a transition between our schematic compound map
and the geographically correct compound map, which equals the
undistorted street-level map annotated with a geographical transportation map. To achieve the transition between the two maps
we take advantage of the gradual distortion technique introduced in
Section 4.1. While zooming, we interpolate between the distorted
and the undistorted map and simultaneously translate the map in a
way that keeps the center of the map at a constant position on the
screen. This technique we call Warping Zoom.
The effect of our Warping Zoom technique is shown in Figure 4.
The resulting dynamic compound map is especially well applicable
on mobile devices: because their display size is usually very small,

204

dynamic maps with zooming functionalities are generally favored.
While zoomed out of an interactive general city map, the user wants
to get a quick overview of the city. When zooming in, the user
wants to get detailed information about a speciﬁc region or point or
even wants to read navigational information of the street level.
Contrarily, in case of navigation within the city with use of public transportation, the destination is reached approximately by public transportation. This navigation step is aided adequately by a
schematic transportation map. So, when zooming out, the user gets
a quick overview of the transportation system – which is naturally a
schematic layout of the transportation system. In our implementation this schematic transportation map is annotated by warped
street-level information in an adequate level of detail. The stations of the transportation system are the interfaces between two
navigational spaces – the transportation system and the street-level
space. Leaving the transportation system at a speciﬁc station, the
user has to navigate on the street level to reach the destination exactly. Therefore, the user requires geographical accurate information about the surroundings rather than a quick overview of the
transportation system he just left. Additionally, since just a few
stations are displayed on the zoomed section, the advantages of
schematization are invalidated. Thus, when zoomed in, the compound map has to be displayed in an undistorted/unschematized
layout.
We found that, in order to make the interpolation between the
distorted and the undistorted map feel intuitive, we had to deﬁne
start and end scaling factors for the transition considering the conﬁguration of the different maps and display sizes. We display the
undistorted compound map when only a few stations are visible.
The other extreme is deﬁned once the whole schematized metro
map just ﬁts into the viewport.
The level-of-detail-control makes all steps of the transition readable: On the coarsest level, the schematic map is mainly annotated
with the most prominent features of the city, like parks, rivers and
large roads. The smaller streets appear more clearly when the user
zooms in and wants to navigate in the street network.
5.3

Distance Information

To aid in the understanding of the geographical distance relations in
the schematic view, we found it helpful to annotate the metro map
with isolines at certain distances from the closest stations. During
the iterative mapping, we distort the points of a regular grid in addition to the street-level data. Towards this end, we apply the mapping
function to the single grid points, which results in a distorted grid
as can be seen in Figure 5.
We can then visualize the real world distances from points in the
map to the next station by ﬁrstly calculating the distance of every
regular grid point to the closest station. Then, applying a marching squares algorithm to the distorted grid yields isolines denoting
equal distances to the closest station in the real world.
While for the undistorted grid, these isolines consist of circular shapes centered around each station, the shapes are more complex after the distortion, as can be seen in Figure 6. For example,
two stations, which are close to each other, are connected by an
hourglass-like structure. Moreover, a gap between these structures
indicates large distances between the corresponding stations.
This way, for example, the appropriate selection of the nearest
station to a speciﬁc destination can be supported.
6

C ONCLUSION AND F UTURE W ORK

We presented a method to annotate schematic transportation maps
with street-level information of the respective city. With the introduced Warping Zoom we attain a dynamic map that is as applicable
for street-level navigation as for navigation in a public transportation system. When the user switches navigational spaces by leaving
the station of a public transportation system, switching map layouts

OVERVIEW

ZOOM
DETAILED

GEOGRAPHIC

WARP

SCHEMATIC

Figure 4: The Warping Zoom (here shown on the diagonal in red) is a combination of zooming and at the same time warping between the
schematized and the geographically correct map: This makes it possible to employ the schematized layout for an overview, and to employ a
detailed geographical layout for localization and street-level navigation. Note that it is not possible to discern the connections in the center of
Washington in the geographic overview (top left) in this resolution.

205

Figure 5: A regular grid distorted with the same mapping as the one
used for warping the Washington data in Figure 3. The grid is used to
render isolines around the stations in order to aid in the understanding of the geographical distance relations.

is advisable as well. The reason is, that the user needs to read out
disparate relations by switching navigational spaces: connected stations versus geographical relations of streets and city details. Our
zooming technique implements this switching of layouts by continuous warping between the distorted schematic compound map and
the geographical compound map. Only applying an ad-hoc map
switch apart from zooming would require the user to ﬁnd the old position on the new map. In addition the user might lose orientation.
The in-between layouts, which are partially distorted/schematized,
can support more complex navigation scenarios, for example, in a
situation where a trade-off between the readability of walking distances and connectivity between metro stations has to be made.
Our method has still some shortcomings: First of all, it is not
clear whether the used mapping functions are optimally suited for
our perception of geographical information. They stress the importance of keeping angles locally intact, maybe at the expense of
readability for extreme distortions.
Although we think existing handmade metro map layouts are
still clearly superior to automatically generated ones, merging our
method with a method for the automatic generation of metro map
layouts seems promising. This way, it might be possible to ﬁnd an
even better compromise between detail and schematization, avoiding extreme distortions in the street-level map and hard to read conﬁgurations in the superimposed schematic representation.
We are aware of the fact that our renderings do not posses all
the features of commercial city maps. We have not addressed, nor
implemented more advanced algorithms for the rendering of labels,
symbols and additional data sources. However, their application is
independent from our technique. The purpose of this paper is to
demonstrate the utility of our method for combining schematic and
geographic maps, not a fully-featured map generator.
We also believe that there are other opportunities for the application of our technique in the area of graph visualization, annotation
of route sketches and similar ﬁelds.

206

Figure 6: Isolines around stations. The lines are at constant geographic distance to the closest station, so that nearby stations are
connected by blob-like shapes, while gaps between these shapes
indicate large distances.

ACKNOWLEDGEMENTS
This work was partially supported by Volkswagen Foundation under grant II/81425 (project “Visual Navigation”) and DFG under grant GK-1042 (Research Training Group “Explorative Analysis and Visualization of Large Information Spaces”). The authors would like to thank Steffen Bogen, Gesa Henselmans, Albert
K¨ummel-Schnur, Felix Th¨urleman, Boris Neubert and Johannes
Kopf for fruitful discussions and helpful comments. The authors
would also like to thank the anonymous reviewers for their helpful
comments.
R EFERENCES
[1] K. Garland. Mr Beck’s Underground Map. Capital Transport Publishing, 38 Long Elmes, Harrow Eeald, Middlesex, 1994.
[2] S. Hong, D. Merrick, and H. do Nascimento. Automatic visualisation
of metro maps. In Journal of Visual Languages and Computing, volume 17, pages 203–224. ELSEVIER, 2006.
[3] B. Jenny. Geometric distortion of schematic network maps. Bulletin of
the Society of Cartographers SoC, 40:15–18, 2006.
[4] M. N¨ollenburg and A. Wolff. A mixed-integer program for drawing
high-quality metro maps. In P. Healy and N. S. Nikolov, editors, Graph
Drawing, Limerick, Ireland, September 12-14, 2005, pages 321–333.
Springer, 2006.
[5] D. Ruprecht, R. Nagel, and H. M¨uller. Spatial free-form deformation
with scattered data interpolation methods. Computers and Graphics,
19(1):63–71, 1995.
[6] S. Schaefer, T. McPhail, and J. Warren. Image deformation using moving least squares. ACM Transactions on Graphics (TOG), 25(3):533–
540, 2006.
[7] J. Stott and P. Rodgers. Metro Map Layout Using Multicriteria Optimization. In Proceedings 8th International Conference on Information
Visualisation (IV04), pages 355–362. IEEE, July 2004.
[8] B. Tiddeman, N. Duffy, and G. Rabey. A general method for overlap control in image warping. Computers and Graphics, 25(1):59–66,
2001.

